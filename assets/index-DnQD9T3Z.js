function wT(a,e){for(var i=0;i<e.length;i++){const s=e[i];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in a)){const h=Object.getOwnPropertyDescriptor(s,o);h&&Object.defineProperty(a,o,h.get?h:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function X_(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Uf={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function CT(){if(vy)return ql;vy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:h}}return ql.Fragment=e,ql.jsx=i,ql.jsxs=i,ql}var Ey;function DT(){return Ey||(Ey=1,Uf.exports=CT()),Uf.exports}var nt=DT(),Pf={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function VT(){if(Ty)return bt;Ty=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,J={};function H(V,$,at){this.props=V,this.context=$,this.refs=J,this.updater=at||k}H.prototype.isReactComponent={},H.prototype.setState=function(V,$){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,$,"setState")},H.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ct(){}ct.prototype=H.prototype;function W(V,$,at){this.props=V,this.context=$,this.refs=J,this.updater=at||k}var it=W.prototype=new ct;it.constructor=W,Y(it,H.prototype),it.isPureReactComponent=!0;var St=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},zt=Object.prototype.hasOwnProperty;function O(V,$,at,tt,dt,Ct){return at=Ct.ref,{$$typeof:a,type:V,key:$,ref:at!==void 0?at:null,props:Ct}}function b(V,$){return O(V.type,$,void 0,void 0,void 0,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function N(V){var $={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(at){return $[at]})}var M=/\/+/g;function U(V,$){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):$.toString(36)}function C(){}function Ue(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(C,C):(V.status="pending",V.then(function($){V.status==="pending"&&(V.status="fulfilled",V.value=$)},function($){V.status==="pending"&&(V.status="rejected",V.reason=$)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ae(V,$,at,tt,dt){var Ct=typeof V;(Ct==="undefined"||Ct==="boolean")&&(V=null);var Et=!1;if(V===null)Et=!0;else switch(Ct){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(V.$$typeof){case a:case e:Et=!0;break;case T:return Et=V._init,ae(Et(V._payload),$,at,tt,dt)}}if(Et)return dt=dt(V),Et=tt===""?"."+U(V,0):tt,St(dt)?(at="",Et!=null&&(at=Et.replace(M,"$&/")+"/"),ae(dt,$,at,"",function(zn){return zn})):dt!=null&&(D(dt)&&(dt=b(dt,at+(dt.key==null||V&&V.key===dt.key?"":(""+dt.key).replace(M,"$&/")+"/")+Et)),$.push(dt)),1;Et=0;var De=tt===""?".":tt+":";if(St(V))for(var Jt=0;Jt<V.length;Jt++)tt=V[Jt],Ct=De+U(tt,Jt),Et+=ae(tt,$,at,Ct,dt);else if(Jt=w(V),typeof Jt=="function")for(V=Jt.call(V),Jt=0;!(tt=V.next()).done;)tt=tt.value,Ct=De+U(tt,Jt++),Et+=ae(tt,$,at,Ct,dt);else if(Ct==="object"){if(typeof V.then=="function")return ae(Ue(V),$,at,tt,dt);throw $=String(V),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Et}function G(V,$,at){if(V==null)return V;var tt=[],dt=0;return ae(V,tt,"","",function(Ct){return $.call(at,Ct,dt++)}),tt}function rt(V){if(V._status===-1){var $=V._result;$=$(),$.then(function(at){(V._status===0||V._status===-1)&&(V._status=1,V._result=at)},function(at){(V._status===0||V._status===-1)&&(V._status=2,V._result=at)}),V._status===-1&&(V._status=0,V._result=$)}if(V._status===1)return V._result.default;throw V._result}var ft=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Bt(){}return bt.Children={map:G,forEach:function(V,$,at){G(V,function(){$.apply(this,arguments)},at)},count:function(V){var $=0;return G(V,function(){$++}),$},toArray:function(V){return G(V,function($){return $})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},bt.Component=H,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=W,bt.StrictMode=s,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,bt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return _t.H.useMemoCache(V)}},bt.cache=function(V){return function(){return V.apply(null,arguments)}},bt.cloneElement=function(V,$,at){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var tt=Y({},V.props),dt=V.key,Ct=void 0;if($!=null)for(Et in $.ref!==void 0&&(Ct=void 0),$.key!==void 0&&(dt=""+$.key),$)!zt.call($,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&$.ref===void 0||(tt[Et]=$[Et]);var Et=arguments.length-2;if(Et===1)tt.children=at;else if(1<Et){for(var De=Array(Et),Jt=0;Jt<Et;Jt++)De[Jt]=arguments[Jt+2];tt.children=De}return O(V.type,dt,void 0,void 0,Ct,tt)},bt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},bt.createElement=function(V,$,at){var tt,dt={},Ct=null;if($!=null)for(tt in $.key!==void 0&&(Ct=""+$.key),$)zt.call($,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(dt[tt]=$[tt]);var Et=arguments.length-2;if(Et===1)dt.children=at;else if(1<Et){for(var De=Array(Et),Jt=0;Jt<Et;Jt++)De[Jt]=arguments[Jt+2];dt.children=De}if(V&&V.defaultProps)for(tt in Et=V.defaultProps,Et)dt[tt]===void 0&&(dt[tt]=Et[tt]);return O(V,Ct,void 0,void 0,null,dt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(V){return{$$typeof:g,render:V}},bt.isValidElement=D,bt.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:rt}},bt.memo=function(V,$){return{$$typeof:_,type:V,compare:$===void 0?null:$}},bt.startTransition=function(V){var $=_t.T,at={};_t.T=at;try{var tt=V(),dt=_t.S;dt!==null&&dt(at,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(Bt,ft)}catch(Ct){ft(Ct)}finally{_t.T=$}},bt.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},bt.use=function(V){return _t.H.use(V)},bt.useActionState=function(V,$,at){return _t.H.useActionState(V,$,at)},bt.useCallback=function(V,$){return _t.H.useCallback(V,$)},bt.useContext=function(V){return _t.H.useContext(V)},bt.useDebugValue=function(){},bt.useDeferredValue=function(V,$){return _t.H.useDeferredValue(V,$)},bt.useEffect=function(V,$,at){var tt=_t.H;if(typeof at=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return tt.useEffect(V,$)},bt.useId=function(){return _t.H.useId()},bt.useImperativeHandle=function(V,$,at){return _t.H.useImperativeHandle(V,$,at)},bt.useInsertionEffect=function(V,$){return _t.H.useInsertionEffect(V,$)},bt.useLayoutEffect=function(V,$){return _t.H.useLayoutEffect(V,$)},bt.useMemo=function(V,$){return _t.H.useMemo(V,$)},bt.useOptimistic=function(V,$){return _t.H.useOptimistic(V,$)},bt.useReducer=function(V,$,at){return _t.H.useReducer(V,$,at)},bt.useRef=function(V){return _t.H.useRef(V)},bt.useState=function(V){return _t.H.useState(V)},bt.useSyncExternalStore=function(V,$,at){return _t.H.useSyncExternalStore(V,$,at)},bt.useTransition=function(){return _t.H.useTransition()},bt.version="19.1.1",bt}var Ay;function Ad(){return Ay||(Ay=1,Pf.exports=VT()),Pf.exports}var st=Ad();const IT=X_(st),NT=wT({__proto__:null,default:IT},[st]);var Lf={exports:{}},Hl={},zf={exports:{}},Bf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function OT(){return Sy||(Sy=1,(function(a){function e(G,rt){var ft=G.length;G.push(rt);t:for(;0<ft;){var Bt=ft-1>>>1,V=G[Bt];if(0<o(V,rt))G[Bt]=rt,G[ft]=V,ft=Bt;else break t}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var rt=G[0],ft=G.pop();if(ft!==rt){G[0]=ft;t:for(var Bt=0,V=G.length,$=V>>>1;Bt<$;){var at=2*(Bt+1)-1,tt=G[at],dt=at+1,Ct=G[dt];if(0>o(tt,ft))dt<V&&0>o(Ct,tt)?(G[Bt]=Ct,G[dt]=ft,Bt=dt):(G[Bt]=tt,G[at]=ft,Bt=at);else if(dt<V&&0>o(Ct,ft))G[Bt]=Ct,G[dt]=ft,Bt=dt;else break t}}return rt}function o(G,rt){var ft=G.sortIndex-rt.sortIndex;return ft!==0?ft:G.id-rt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var p=[],_=[],T=1,S=null,w=3,k=!1,Y=!1,J=!1,H=!1,ct=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function St(G){for(var rt=i(_);rt!==null;){if(rt.callback===null)s(_);else if(rt.startTime<=G)s(_),rt.sortIndex=rt.expirationTime,e(p,rt);else break;rt=i(_)}}function _t(G){if(J=!1,St(G),!Y)if(i(p)!==null)Y=!0,zt||(zt=!0,U());else{var rt=i(_);rt!==null&&ae(_t,rt.startTime-G)}}var zt=!1,O=-1,b=5,D=-1;function N(){return H?!0:!(a.unstable_now()-D<b)}function M(){if(H=!1,zt){var G=a.unstable_now();D=G;var rt=!0;try{t:{Y=!1,J&&(J=!1,W(O),O=-1),k=!0;var ft=w;try{e:{for(St(G),S=i(p);S!==null&&!(S.expirationTime>G&&N());){var Bt=S.callback;if(typeof Bt=="function"){S.callback=null,w=S.priorityLevel;var V=Bt(S.expirationTime<=G);if(G=a.unstable_now(),typeof V=="function"){S.callback=V,St(G),rt=!0;break e}S===i(p)&&s(p),St(G)}else s(p);S=i(p)}if(S!==null)rt=!0;else{var $=i(_);$!==null&&ae(_t,$.startTime-G),rt=!1}}break t}finally{S=null,w=ft,k=!1}rt=void 0}}finally{rt?U():zt=!1}}}var U;if(typeof it=="function")U=function(){it(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Ue=C.port2;C.port1.onmessage=M,U=function(){Ue.postMessage(null)}}else U=function(){ct(M,0)};function ae(G,rt){O=ct(function(){G(a.unstable_now())},rt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_next=function(G){switch(w){case 1:case 2:case 3:var rt=3;break;default:rt=w}var ft=w;w=rt;try{return G()}finally{w=ft}},a.unstable_requestPaint=function(){H=!0},a.unstable_runWithPriority=function(G,rt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ft=w;w=G;try{return rt()}finally{w=ft}},a.unstable_scheduleCallback=function(G,rt,ft){var Bt=a.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Bt+ft:Bt):ft=Bt,G){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ft+V,G={id:T++,callback:rt,priorityLevel:G,startTime:ft,expirationTime:V,sortIndex:-1},ft>Bt?(G.sortIndex=ft,e(_,G),i(p)===null&&G===i(_)&&(J?(W(O),O=-1):J=!0,ae(_t,ft-Bt))):(G.sortIndex=V,e(p,G),Y||k||(Y=!0,zt||(zt=!0,U()))),G},a.unstable_shouldYield=N,a.unstable_wrapCallback=function(G){var rt=w;return function(){var ft=w;w=rt;try{return G.apply(this,arguments)}finally{w=ft}}}})(Bf)),Bf}var by;function MT(){return by||(by=1,zf.exports=OT()),zf.exports}var jf={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function xT(){if(Ry)return Qe;Ry=1;var a=Ad();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(p,_,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:_,implementation:T}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(p,_,null,T)},Qe.flushSync=function(p){var _=d.T,T=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=_,s.p=T,s.d.f()}},Qe.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Qe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qe.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,S=g(T,_.crossOrigin),w=typeof _.integrity=="string"?_.integrity:void 0,k=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:k}):T==="script"&&s.d.X(p,{crossOrigin:S,integrity:w,fetchPriority:k,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Qe.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,S=g(T,_.crossOrigin);s.d.L(p,T,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=g(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Qe.requestFormReset=function(p){s.d.r(p)},Qe.unstable_batchedUpdates=function(p,_){return p(_)},Qe.useFormState=function(p,_,T){return d.H.useFormState(p,_,T)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.1.1",Qe}var wy;function K_(){if(wy)return jf.exports;wy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),jf.exports=xT(),jf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function UT(){if(Cy)return Hl;Cy=1;var a=MT(),e=Ad(),i=K_();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var v=!1,E=c.child;E;){if(E===r){v=!0,r=c,l=f;break}if(E===l){v=!0,l=c,r=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===r){v=!0,r=f,l=c;break}if(E===l){v=!0,l=f,r=c;break}E=E.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),ct=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),it=Symbol.for("react.context"),St=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),zt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Ue(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case H:return"Profiler";case J:return"StrictMode";case _t:return"Suspense";case zt:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case it:return(t.displayName||"Context")+".Provider";case W:return(t._context.displayName||"Context")+".Consumer";case St:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Ue(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return Ue(t(n))}catch{}}return null}var ae=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Bt=[],V=-1;function $(t){return{current:t}}function at(t){0>V||(t.current=Bt[V],Bt[V]=null,V--)}function tt(t,n){V++,Bt[V]=t.current,t.current=n}var dt=$(null),Ct=$(null),Et=$(null),De=$(null);function Jt(t,n){switch(tt(Et,n),tt(Ct,t),tt(dt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Yp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Yp(n),t=Xp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}at(dt),tt(dt,t)}function zn(){at(dt),at(Ct),at(Et)}function zi(t){t.memoizedState!==null&&tt(De,t);var n=dt.current,r=Xp(n,t.type);n!==r&&(tt(Ct,t),tt(dt,r))}function oi(t){Ct.current===t&&(at(dt),at(Ct)),De.current===t&&(at(De),Ll._currentValue=ft)}var Vr=Object.prototype.hasOwnProperty,Ir=a.unstable_scheduleCallback,Nr=a.unstable_cancelCallback,xs=a.unstable_shouldYield,To=a.unstable_requestPaint,pn=a.unstable_now,xc=a.unstable_getCurrentPriorityLevel,Us=a.unstable_ImmediatePriority,Sa=a.unstable_UserBlockingPriority,Or=a.unstable_NormalPriority,Uc=a.unstable_LowPriority,ba=a.unstable_IdlePriority,Ps=a.log,Ao=a.unstable_setDisableYieldValue,se=null,Ht=null;function sn(t){if(typeof Ps=="function"&&Ao(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(se,t)}catch{}}var Ge=Math.clz32?Math.clz32:Mr,So=Math.log,Pc=Math.LN2;function Mr(t){return t>>>=0,t===0?32:31-(So(t)/Pc|0)|0}var xr=256,Ur=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ra(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=In(l):(v&=E,v!==0?c=In(v):r||(r=E&~t,r!==0&&(c=In(r))))):(E=l&~f,E!==0?c=In(E):v!==0?c=In(v):r||(r=l&~t,r!==0&&(c=In(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Pr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ls(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zs(){var t=xr;return xr<<=1,(xr&4194048)===0&&(xr=256),t}function Bs(){var t=Ur;return Ur<<=1,(Ur&62914560)===0&&(Ur=4194304),t}function ui(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ci(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function js(t,n,r,l,c,f){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(r=v&~r;0<r;){var F=31-Ge(r),X=1<<F;E[F]=0,R[F]=-1;var B=z[F];if(B!==null)for(z[F]=null,F=0;F<B.length;F++){var j=B[F];j!==null&&(j.lane&=-536870913)}r&=~X}l!==0&&Bn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function Bn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ge(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function ks(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ge(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Bi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function wa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ji(){var t=rt.p;return t!==0?t:(t=window.event,t===void 0?32:dy(t.type))}function bo(t,n){var r=rt.p;try{return rt.p=t,n()}finally{rt.p=r}}var ee=Math.random().toString(36).slice(2),Te="__reactFiber$"+ee,me="__reactProps$"+ee,yn="__reactContainer$"+ee,qs="__reactEvents$"+ee,Lc="__reactListeners$"+ee,ki="__reactHandles$"+ee,Ro="__reactResources$"+ee,Lr="__reactMarker$"+ee;function qi(t){delete t[Te],delete t[me],delete t[qs],delete t[Lc],delete t[ki]}function hi(t){var n=t[Te];if(n)return n;for(var r=t.parentNode;r;){if(n=r[yn]||r[Te]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Jp(t);t!==null;){if(r=t[Te])return r;t=Jp(t)}return n}t=r,r=t.parentNode}return null}function jn(t){if(t=t[Te]||t[yn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function kn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ze(t){var n=t[Ro];return n||(n=t[Ro]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ue(t){t[Lr]=!0}var Hs=new Set,Ca={};function Nn(t,n){fi(t,n),fi(t+"Capture",n)}function fi(t,n){for(Ca[t]=n,t=0;t<n.length;t++)Hs.add(n[t])}var wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Co={},zr={};function Do(t){return Vr.call(zr,t)?!0:Vr.call(Co,t)?!1:wo.test(t)?zr[t]=!0:(Co[t]=!0,!1)}function Hi(t,n,r){if(Do(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function qn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Pe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Br,Vo;function di(t){if(Br===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Br=n&&n[1]||"",Vo=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Br+t+Vo}var Da=!1;function Va(t,n){if(!t||Da)return"";Da=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(j){var B=j}Reflect.construct(t,[],X)}else{try{X.call()}catch(j){B=j}t.call(X.prototype)}}else{try{throw Error()}catch(j){B=j}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(j){if(j&&B&&typeof j.stack=="string")return[j.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var R=v.split(`
`),z=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===z.length)for(l=R.length-1,c=z.length-1;1<=l&&0<=c&&R[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==z[c]){var F=`
`+R[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=c);break}}}finally{Da=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?di(r):""}function Gs(t){switch(t.tag){case 26:case 27:case 5:return di(t.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return Va(t.type,!1);case 11:return Va(t.type.render,!1);case 1:return Va(t.type,!0);case 31:return di("Activity");default:return""}}function Ia(t){try{var n="";do n+=Gs(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function $e(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function zc(t){var n=Fs(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Na(t){t._valueTracker||(t._valueTracker=zc(t))}function Qs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Fs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function jr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Bc=/[\n"\\]/g;function ge(t){return t.replace(Bc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ln(t,n,r,l,c,f,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$e(n)):t.value!==""+$e(n)&&(t.value=""+$e(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Gi(t,v,$e(n)):r!=null?Gi(t,v,$e(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+$e(E):t.removeAttribute("name")}function kr(t,n,r,l,c,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+$e(r):"",n=n!=null?""+$e(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Gi(t,n,r){n==="number"&&jr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function mi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+$e(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+$e(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+$e(r):""}function qr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=$e(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function _n(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Hr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Io(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Hr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ys(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Io(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Io(t,f,n[f])}function Xs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(t){return kc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var gi=null;function vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pi=null,yi=null;function Ks(t){var n=jn(t);if(n&&(t=n.stateNode)){var r=t[me]||null;t:switch(t=n.stateNode,n.type){case"input":if(ln(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ge(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[me]||null;if(!c)throw Error(s(90));ln(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Qs(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&mi(t,!!r.multiple,n,!1)}}}var Hn=!1;function No(t,n,r){if(Hn)return t(n,r);Hn=!0;try{var l=t(n);return l}finally{if(Hn=!1,(pi!==null||yi!==null)&&(bu(),pi&&(n=pi,t=yi,yi=pi=null,Ks(n),t)))for(n=0;n<t.length;n++)Ks(t[n])}}function Gr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[me]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(On)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){En=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{En=!1}var Gn=null,Fi=null,_i=null;function Zs(){if(_i)return _i;var t,n=Fi,r=n.length,l,c="value"in Gn?Gn.value:Gn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var v=r-t;for(l=1;l<=v&&n[r-l]===c[f-l];l++);return _i=c.slice(t,1<l?1-l:void 0)}function Fn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Qn(){return!0}function $s(){return!1}function Ve(t){function n(r,l,c,f,v){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qn:$s,this.isPropagationStopped=$s,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ma=Ve(kt),Qr=T({},kt,{view:0,detail:0}),Oo=Ve(Qr),xa,Ua,Yn,Yr=T({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yn&&(Yn&&t.type==="mousemove"?(xa=t.screenX-Yn.screenX,Ua=t.screenY-Yn.screenY):Ua=xa=0,Yn=t),xa)},movementY:function(t){return"movementY"in t?t.movementY:Ua}}),Tn=Ve(Yr),Mo=T({},Yr,{dataTransfer:0}),qc=Ve(Mo),Xr=T({},Qr,{relatedTarget:0}),Pa=Ve(Xr),Js=T({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),La=Ve(Js),xo=T({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),za=Ve(xo),Hc=T({},kt,{data:0}),Ws=Ve(Hc),Kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Po={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Po[t])?!!n[t]:!1}function Zr(){return tl}var Lo=T({},Qr,{key:function(t){if(t.key){var n=Kr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Fn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(t){return t.type==="keypress"?Fn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ba=Ve(Lo),zo=T({},Yr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=Ve(zo),vi=T({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),Bo=Ve(vi),jo=T({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),ko=Ve(jo),qo=T({},Yr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ja=Ve(qo),Je=T({},kt,{newState:0,oldState:0}),Ho=Ve(Je),Go=[9,13,27,32],Xn=On&&"CompositionEvent"in window,u=null;On&&"documentMode"in document&&(u=document.documentMode);var m=On&&"TextEvent"in window&&!u,y=On&&(!Xn||u&&8<u&&11>=u),A=" ",P=!1;function q(t,n){switch(t){case"keyup":return Go.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function Ae(t,n){switch(t){case"compositionend":return et(n);case"keypress":return n.which!==32?null:(P=!0,A);case"textInput":return t=n.data,t===A&&P?null:t;default:return null}}function Mt(t,n){if(Ot)return t==="compositionend"||!Xn&&q(t,n)?(t=Zs(),_i=Fi=Gn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return y&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Se(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ie[t.type]:n==="textarea"}function Ei(t,n,r,l){pi?yi?yi.push(l):yi=[l]:pi=l,n=Iu(n,"onChange"),0<n.length&&(r=new Ma("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Le=null,Kn=null;function nl(t){qp(t,0)}function Fo(t){var n=kn(t);if(Qs(n))return t}function um(t,n){if(t==="change")return n}var cm=!1;if(On){var Gc;if(On){var Fc="oninput"in document;if(!Fc){var hm=document.createElement("div");hm.setAttribute("oninput","return;"),Fc=typeof hm.oninput=="function"}Gc=Fc}else Gc=!1;cm=Gc&&(!document.documentMode||9<document.documentMode)}function fm(){Le&&(Le.detachEvent("onpropertychange",dm),Kn=Le=null)}function dm(t){if(t.propertyName==="value"&&Fo(Kn)){var n=[];Ei(n,Kn,t,vn(t)),No(nl,n)}}function nE(t,n,r){t==="focusin"?(fm(),Le=n,Kn=r,Le.attachEvent("onpropertychange",dm)):t==="focusout"&&fm()}function iE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fo(Kn)}function rE(t,n){if(t==="click")return Fo(n)}function aE(t,n){if(t==="input"||t==="change")return Fo(n)}function sE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var on=typeof Object.is=="function"?Object.is:sE;function il(t,n){if(on(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Vr.call(n,c)||!on(t[c],n[c]))return!1}return!0}function mm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gm(t,n){var r=mm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=mm(r)}}function pm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?pm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function ym(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=jr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=jr(t.document)}return n}function Qc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var lE=On&&"documentMode"in document&&11>=document.documentMode,ka=null,Yc=null,rl=null,Xc=!1;function _m(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xc||ka==null||ka!==jr(l)||(l=ka,"selectionStart"in l&&Qc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&il(rl,l)||(rl=l,l=Iu(Yc,"onSelect"),0<l.length&&(n=new Ma("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=ka)))}function $r(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var qa={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},Kc={},vm={};On&&(vm=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Jr(t){if(Kc[t])return Kc[t];if(!qa[t])return t;var n=qa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in vm)return Kc[t]=n[r];return t}var Em=Jr("animationend"),Tm=Jr("animationiteration"),Am=Jr("animationstart"),oE=Jr("transitionrun"),uE=Jr("transitionstart"),cE=Jr("transitioncancel"),Sm=Jr("transitionend"),bm=new Map,Zc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zc.push("scrollEnd");function Mn(t,n){bm.set(t,n),Nn(n,[t])}var Rm=new WeakMap;function An(t,n){if(typeof t=="object"&&t!==null){var r=Rm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ia(n)},Rm.set(t,n),n)}return{value:t,source:n,stack:Ia(n)}}var Sn=[],Ha=0,$c=0;function Qo(){for(var t=Ha,n=$c=Ha=0;n<t;){var r=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var c=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,l!==null&&c!==null){var v=l.pending;v===null?c.next=c:(c.next=v.next,v.next=c),l.pending=c}f!==0&&wm(r,c,f)}}function Yo(t,n,r,l){Sn[Ha++]=t,Sn[Ha++]=n,Sn[Ha++]=r,Sn[Ha++]=l,$c|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Jc(t,n,r,l){return Yo(t,n,r,l),Xo(t)}function Ga(t,n){return Yo(t,null,null,n),Xo(t)}function wm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Ge(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Xo(t){if(50<Vl)throw Vl=0,af=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Fa={};function hE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,n,r,l){return new hE(t,n,r,l)}function Wc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ti(t,n){var r=t.alternate;return r===null?(r=un(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Cm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ko(t,n,r,l,c,f){var v=0;if(l=t,typeof t=="function")Wc(t)&&(v=1);else if(typeof t=="string")v=dT(t,r,dt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case D:return t=un(31,r,n,c),t.elementType=D,t.lanes=f,t;case Y:return Wr(r.children,c,f,n);case J:v=8,c|=24;break;case H:return t=un(12,r,n,c|2),t.elementType=H,t.lanes=f,t;case _t:return t=un(13,r,n,c),t.elementType=_t,t.lanes=f,t;case zt:return t=un(19,r,n,c),t.elementType=zt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ct:case it:v=10;break t;case W:v=9;break t;case St:v=11;break t;case O:v=14;break t;case b:v=16,l=null;break t}v=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=un(v,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Wr(t,n,r,l){return t=un(7,t,l,n),t.lanes=r,t}function th(t,n,r){return t=un(6,t,null,n),t.lanes=r,t}function eh(t,n,r){return n=un(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Qa=[],Ya=0,Zo=null,$o=0,bn=[],Rn=0,ta=null,Ai=1,Si="";function ea(t,n){Qa[Ya++]=$o,Qa[Ya++]=Zo,Zo=t,$o=n}function Dm(t,n,r){bn[Rn++]=Ai,bn[Rn++]=Si,bn[Rn++]=ta,ta=t;var l=Ai;t=Si;var c=32-Ge(l)-1;l&=~(1<<c),r+=1;var f=32-Ge(n)+c;if(30<f){var v=c-c%5;f=(l&(1<<v)-1).toString(32),l>>=v,c-=v,Ai=1<<32-Ge(n)+c|r<<c|l,Si=f+t}else Ai=1<<f|r<<c|l,Si=t}function nh(t){t.return!==null&&(ea(t,1),Dm(t,1,0))}function ih(t){for(;t===Zo;)Zo=Qa[--Ya],Qa[Ya]=null,$o=Qa[--Ya],Qa[Ya]=null;for(;t===ta;)ta=bn[--Rn],bn[Rn]=null,Si=bn[--Rn],bn[Rn]=null,Ai=bn[--Rn],bn[Rn]=null}var We=null,le=null,jt=!1,na=null,Zn=!1,rh=Error(s(519));function ia(t){var n=Error(s(418,""));throw ll(An(n,t)),rh}function Vm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Te]=t,n[me]=l,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<Nl.length;r++)It(Nl[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),kr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Na(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),qr(n,l.value,l.defaultValue,l.children),Na(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Qp(n.textContent,r)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=Nu),n=!0):n=!1,n||ia(t)}function Im(t){for(We=t.return;We;)switch(We.tag){case 5:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:We=We.return}}function al(t){if(t!==We)return!1;if(!jt)return Im(t),jt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Tf(t.type,t.memoizedProps)),r=!r),r&&le&&ia(t),Im(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){le=Un(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}le=null}}else n===27?(n=le,lr(t.type)?(t=Rf,Rf=null,le=t):le=n):le=We?Un(t.stateNode.nextSibling):null;return!0}function sl(){le=We=null,jt=!1}function Nm(){var t=na;return t!==null&&(nn===null?nn=t:nn.push.apply(nn,t),na=null),t}function ll(t){na===null?na=[t]:na.push(t)}var ah=$(null),ra=null,bi=null;function Qi(t,n,r){tt(ah,n._currentValue),n._currentValue=r}function Ri(t){t._currentValue=ah.current,at(ah)}function sh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function lh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var v=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),sh(f.return,r,t),l||(v=null);break t}f=E.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(s(341));v.lanes|=r,f=v.alternate,f!==null&&(f.lanes|=r),sh(v,r,t),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===t){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function ol(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=c.type;on(c.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(c===De.current){if(v=c.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}c=c.return}t!==null&&lh(n,t,r,l),n.flags|=262144}function Jo(t){for(t=t.firstContext;t!==null;){if(!on(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function aa(t){ra=t,bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Fe(t){return Om(ra,t)}function Wo(t,n){return ra===null&&aa(t),Om(t,n)}function Om(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},bi===null){if(t===null)throw Error(s(308));bi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else bi=bi.next=n;return r}var fE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},dE=a.unstable_scheduleCallback,mE=a.unstable_NormalPriority,be={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oh(){return{controller:new fE,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&dE(mE,function(){t.controller.abort()})}var cl=null,uh=0,Xa=0,Ka=null;function gE(t,n){if(cl===null){var r=cl=[];uh=0,Xa=ff(),Ka={status:"pending",value:void 0,then:function(l){r.push(l)}}}return uh++,n.then(Mm,Mm),n}function Mm(){if(--uh===0&&cl!==null){Ka!==null&&(Ka.status="fulfilled");var t=cl;cl=null,Xa=0,Ka=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function pE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var xm=G.S;G.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&gE(t,n),xm!==null&&xm(t,n)};var sa=$(null);function ch(){var t=sa.current;return t!==null?t:Wt.pooledCache}function tu(t,n){n===null?tt(sa,sa.current):tt(sa,n.pool)}function Um(){var t=ch();return t===null?null:{parent:be._currentValue,pool:t}}var hl=Error(s(460)),Pm=Error(s(474)),eu=Error(s(542)),hh={then:function(){}};function Lm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function nu(){}function zm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(nu,nu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,jm(t),t;default:if(typeof n.status=="string")n.then(nu,nu);else{if(t=Wt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,jm(t),t}throw fl=n,hl}}var fl=null;function Bm(){if(fl===null)throw Error(s(459));var t=fl;return fl=null,t}function jm(t){if(t===hl||t===eu)throw Error(s(483))}var Yi=!1;function fh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ki(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Xo(t),wm(t,null,r),n}return Yo(t,l,n,r),Xo(t)}function dl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ks(t,r)}}function mh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=v:f=f.next=v,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var gh=!1;function ml(){if(gh){var t=Ka;if(t!==null)throw t}}function gl(t,n,r,l){gh=!1;var c=t.updateQueue;Yi=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,z=R.next;R.next=null,v===null?f=z:v.next=z,v=R;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==v&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=R))}if(f!==null){var X=c.baseState;v=0,F=z=R=null,E=f;do{var B=E.lane&-536870913,j=B!==E.lane;if(j?(xt&B)===B:(l&B)===B){B!==0&&B===Xa&&(gh=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var vt=t,gt=E;B=n;var Kt=r;switch(gt.tag){case 1:if(vt=gt.payload,typeof vt=="function"){X=vt.call(Kt,X,B);break t}X=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=gt.payload,B=typeof vt=="function"?vt.call(Kt,X,B):vt,B==null)break t;X=T({},X,B);break t;case 2:Yi=!0}}B=E.callback,B!==null&&(t.flags|=64,j&&(t.flags|=8192),j=c.callbacks,j===null?c.callbacks=[B]:j.push(B))}else j={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=j,R=X):F=F.next=j,v|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;j=E,E=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);F===null&&(R=X),c.baseState=R,c.firstBaseUpdate=z,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),ir|=v,t.lanes=v,t.memoizedState=X}}function km(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function qm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)km(r[t],n)}var Za=$(null),iu=$(0);function Hm(t,n){t=Oi,tt(iu,t),tt(Za,n),Oi=t|n.baseLanes}function ph(){tt(iu,Oi),tt(Za,Za.current)}function yh(){Oi=iu.current,at(Za),at(iu)}var Zi=0,Rt=null,Yt=null,pe=null,ru=!1,$a=!1,la=!1,au=0,pl=0,Ja=null,yE=0;function ce(){throw Error(s(321))}function _h(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!on(t[r],n[r]))return!1;return!0}function vh(t,n,r,l,c,f){return Zi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?wg:Cg,la=!1,f=r(l,c),la=!1,$a&&(f=Fm(n,r,l,c)),Gm(t),f}function Gm(t){G.H=hu;var n=Yt!==null&&Yt.next!==null;if(Zi=0,pe=Yt=Rt=null,ru=!1,pl=0,Ja=null,n)throw Error(s(300));t===null||Ne||(t=t.dependencies,t!==null&&Jo(t)&&(Ne=!0))}function Fm(t,n,r,l){Rt=t;var c=0;do{if($a&&(Ja=null),pl=0,$a=!1,25<=c)throw Error(s(301));if(c+=1,pe=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=bE,f=n(r,l)}while($a);return f}function _E(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?yl(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(Rt.flags|=1024),n}function Eh(){var t=au!==0;return au=0,t}function Th(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Ah(t){if(ru){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ru=!1}Zi=0,pe=Yt=Rt=null,$a=!1,pl=au=0,Ja=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?Rt.memoizedState=pe=t:pe=pe.next=t,pe}function ye(){if(Yt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=pe===null?Rt.memoizedState:pe.next;if(n!==null)pe=n,Yt=t;else{if(t===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},pe===null?Rt.memoizedState=pe=t:pe=pe.next=t}return pe}function Sh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var n=pl;return pl+=1,Ja===null&&(Ja=[]),t=zm(Ja,t,n),n=Rt,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?wg:Cg),t}function su(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===it)return Fe(t)}throw Error(s(438,String(t)))}function bh(t){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Sh(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=N;return n.index++,r}function wi(t,n){return typeof n=="function"?n(t):n}function lu(t){var n=ye();return Rh(n,Yt,t)}function Rh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=v=null,R=null,z=n,F=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(xt&X)===X:(Zi&X)===X){var B=z.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Xa&&(F=!0);else if((Zi&B)===B){z=z.next,B===Xa&&(F=!0);continue}else X={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=X,v=f):R=R.next=X,Rt.lanes|=B,ir|=B;X=z.action,la&&r(f,X),f=z.hasEagerState?z.eagerState:r(f,X)}else B={lane:X,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=B,v=f):R=R.next=B,Rt.lanes|=X,ir|=X;z=z.next}while(z!==null&&z!==n);if(R===null?v=f:R.next=E,!on(f,t.memoizedState)&&(Ne=!0,F&&(r=Ka,r!==null)))throw r;t.memoizedState=f,t.baseState=v,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function wh(t){var n=ye(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var v=c=c.next;do f=t(f,v.action),v=v.next;while(v!==c);on(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Qm(t,n,r){var l=Rt,c=ye(),f=jt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var v=!on((Yt||c).memoizedState,r);v&&(c.memoizedState=r,Ne=!0),c=c.queue;var E=Km.bind(null,l,c,t);if(_l(2048,8,E,[t]),c.getSnapshot!==n||v||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,Wa(9,ou(),Xm.bind(null,l,c,r,n),null),Wt===null)throw Error(s(349));f||(Zi&124)!==0||Ym(l,n,r)}return r}function Ym(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=Sh(),Rt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Xm(t,n,r,l){n.value=r,n.getSnapshot=l,Zm(n)&&$m(t)}function Km(t,n,r){return r(function(){Zm(n)&&$m(t)})}function Zm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!on(t,r)}catch{return!0}}function $m(t){var n=Ga(t,2);n!==null&&mn(n,t,2)}function Ch(t){var n=tn();if(typeof t=="function"){var r=t;if(t=r(),la){sn(!0);try{r()}finally{sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:t},n}function Jm(t,n,r,l){return t.baseState=r,Rh(t,Yt,typeof l=="function"?l:wi)}function vE(t,n,r,l,c){if(cu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};G.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Wm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Wm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=G.T,v={};G.T=v;try{var E=r(c,l),R=G.S;R!==null&&R(v,E),tg(t,n,E)}catch(z){Dh(t,n,z)}finally{G.T=f}}else try{f=r(c,l),tg(t,n,f)}catch(z){Dh(t,n,z)}}function tg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){eg(t,n,l)},function(l){return Dh(t,n,l)}):eg(t,n,r)}function eg(t,n,r){n.status="fulfilled",n.value=r,ng(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Wm(t,r)))}function Dh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,ng(n),n=n.next;while(n!==l)}t.action=null}function ng(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ig(t,n){return n}function rg(t,n){if(jt){var r=Wt.formState;if(r!==null){t:{var l=Rt;if(jt){if(le){e:{for(var c=le,f=Zn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Un(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){le=Un(c.nextSibling),l=c.data==="F!";break t}}ia(l)}l=!1}l&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ig,lastRenderedState:n},r.queue=l,r=Sg.bind(null,Rt,l),l.dispatch=r,l=Ch(!1),f=Mh.bind(null,Rt,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=vE.bind(null,Rt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function ag(t){var n=ye();return sg(n,Yt,t)}function sg(t,n,r){if(n=Rh(t,n,ig)[0],t=lu(wi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=yl(n)}catch(v){throw v===hl?eu:v}else l=n;n=ye();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(Rt.flags|=2048,Wa(9,ou(),EE.bind(null,c,r),null)),[l,f,t]}function EE(t,n){t.action=n}function lg(t){var n=ye(),r=Yt;if(r!==null)return sg(n,r,t);ye(),n=n.memoizedState,r=ye();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Wa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Sh(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function ou(){return{destroy:void 0,resource:void 0}}function og(){return ye().memoizedState}function uu(t,n,r,l){var c=tn();l=l===void 0?null:l,Rt.flags|=t,c.memoizedState=Wa(1|n,ou(),r,l)}function _l(t,n,r,l){var c=ye();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&_h(l,Yt.memoizedState.deps)?c.memoizedState=Wa(n,f,r,l):(Rt.flags|=t,c.memoizedState=Wa(1|n,f,r,l))}function ug(t,n){uu(8390656,8,t,n)}function cg(t,n){_l(2048,8,t,n)}function hg(t,n){return _l(4,2,t,n)}function fg(t,n){return _l(4,4,t,n)}function dg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function mg(t,n,r){r=r!=null?r.concat([t]):null,_l(4,4,dg.bind(null,n,t),r)}function Vh(){}function gg(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&_h(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function pg(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&_h(n,l[1]))return l[0];if(l=t(),la){sn(!0);try{t()}finally{sn(!1)}}return r.memoizedState=[l,n],l}function Ih(t,n,r){return r===void 0||(Zi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=vp(),Rt.lanes|=t,ir|=t,r)}function yg(t,n,r,l){return on(r,n)?r:Za.current!==null?(t=Ih(t,r,l),on(t,n)||(Ne=!0),t):(Zi&42)===0?(Ne=!0,t.memoizedState=r):(t=vp(),Rt.lanes|=t,ir|=t,n)}function _g(t,n,r,l,c){var f=rt.p;rt.p=f!==0&&8>f?f:8;var v=G.T,E={};G.T=E,Mh(t,!1,n,r);try{var R=c(),z=G.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=pE(R,l);vl(t,n,F,dn(t))}else vl(t,n,l,dn(t))}catch(X){vl(t,n,{then:function(){},status:"rejected",reason:X},dn())}finally{rt.p=f,G.T=v}}function TE(){}function Nh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=vg(t).queue;_g(t,c,n,ft,r===null?TE:function(){return Eg(t),r(l)})}function vg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:ft},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Eg(t){var n=vg(t).next.queue;vl(t,n,{},dn())}function Oh(){return Fe(Ll)}function Tg(){return ye().memoizedState}function Ag(){return ye().memoizedState}function AE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=dn();t=Xi(r);var l=Ki(n,t,r);l!==null&&(mn(l,n,r),dl(l,n,r)),n={cache:oh()},t.payload=n;return}n=n.return}}function SE(t,n,r){var l=dn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},cu(t)?bg(n,r):(r=Jc(t,n,r,l),r!==null&&(mn(r,t,l),Rg(r,n,l)))}function Sg(t,n,r){var l=dn();vl(t,n,r,l)}function vl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(cu(t))bg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,r);if(c.hasEagerState=!0,c.eagerState=E,on(E,v))return Yo(t,n,c,0),Wt===null&&Qo(),!1}catch{}finally{}if(r=Jc(t,n,c,l),r!==null)return mn(r,t,l),Rg(r,n,l),!0}return!1}function Mh(t,n,r,l){if(l={lane:2,revertLane:ff(),action:l,hasEagerState:!1,eagerState:null,next:null},cu(t)){if(n)throw Error(s(479))}else n=Jc(t,r,l,2),n!==null&&mn(n,t,2)}function cu(t){var n=t.alternate;return t===Rt||n!==null&&n===Rt}function bg(t,n){$a=ru=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Rg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ks(t,r)}}var hu={readContext:Fe,use:su,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},wg={readContext:Fe,use:su,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:Fe,useEffect:ug,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,uu(4194308,4,dg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return uu(4194308,4,t,n)},useInsertionEffect:function(t,n){uu(4,2,t,n)},useMemo:function(t,n){var r=tn();n=n===void 0?null:n;var l=t();if(la){sn(!0);try{t()}finally{sn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=tn();if(r!==void 0){var c=r(n);if(la){sn(!0);try{r(n)}finally{sn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=SE.bind(null,Rt,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Ch(t);var n=t.queue,r=Sg.bind(null,Rt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Vh,useDeferredValue:function(t,n){var r=tn();return Ih(r,t,n)},useTransition:function(){var t=Ch(!1);return t=_g.bind(null,Rt,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Rt,c=tn();if(jt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Wt===null)throw Error(s(349));(xt&124)!==0||Ym(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,ug(Km.bind(null,l,f,t),[t]),l.flags|=2048,Wa(9,ou(),Xm.bind(null,l,f,r,n),null),r},useId:function(){var t=tn(),n=Wt.identifierPrefix;if(jt){var r=Si,l=Ai;r=(l&~(1<<32-Ge(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=au++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=yE++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Oh,useFormState:rg,useActionState:rg,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Mh.bind(null,Rt,!0,r),r.dispatch=n,[t,n]},useMemoCache:bh,useCacheRefresh:function(){return tn().memoizedState=AE.bind(null,Rt)}},Cg={readContext:Fe,use:su,useCallback:gg,useContext:Fe,useEffect:cg,useImperativeHandle:mg,useInsertionEffect:hg,useLayoutEffect:fg,useMemo:pg,useReducer:lu,useRef:og,useState:function(){return lu(wi)},useDebugValue:Vh,useDeferredValue:function(t,n){var r=ye();return yg(r,Yt.memoizedState,t,n)},useTransition:function(){var t=lu(wi)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:Qm,useId:Tg,useHostTransitionStatus:Oh,useFormState:ag,useActionState:ag,useOptimistic:function(t,n){var r=ye();return Jm(r,Yt,t,n)},useMemoCache:bh,useCacheRefresh:Ag},bE={readContext:Fe,use:su,useCallback:gg,useContext:Fe,useEffect:cg,useImperativeHandle:mg,useInsertionEffect:hg,useLayoutEffect:fg,useMemo:pg,useReducer:wh,useRef:og,useState:function(){return wh(wi)},useDebugValue:Vh,useDeferredValue:function(t,n){var r=ye();return Yt===null?Ih(r,t,n):yg(r,Yt.memoizedState,t,n)},useTransition:function(){var t=wh(wi)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:Qm,useId:Tg,useHostTransitionStatus:Oh,useFormState:lg,useActionState:lg,useOptimistic:function(t,n){var r=ye();return Yt!==null?Jm(r,Yt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:bh,useCacheRefresh:Ag},ts=null,El=0;function fu(t){var n=El;return El+=1,ts===null&&(ts=[]),zm(ts,t,n)}function Tl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function du(t,n){throw n.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Dg(t){var n=t._init;return n(t._payload)}function Vg(t){function n(x,I){if(t){var L=x.deletions;L===null?(x.deletions=[I],x.flags|=16):L.push(I)}}function r(x,I){if(!t)return null;for(;I!==null;)n(x,I),I=I.sibling;return null}function l(x){for(var I=new Map;x!==null;)x.key!==null?I.set(x.key,x):I.set(x.index,x),x=x.sibling;return I}function c(x,I){return x=Ti(x,I),x.index=0,x.sibling=null,x}function f(x,I,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<I?(x.flags|=67108866,I):L):(x.flags|=67108866,I)):(x.flags|=1048576,I)}function v(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,I,L,Q){return I===null||I.tag!==6?(I=th(L,x.mode,Q),I.return=x,I):(I=c(I,L),I.return=x,I)}function R(x,I,L,Q){var ot=L.type;return ot===Y?F(x,I,L.props.children,Q,L.key):I!==null&&(I.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&Dg(ot)===I.type)?(I=c(I,L.props),Tl(I,L),I.return=x,I):(I=Ko(L.type,L.key,L.props,null,x.mode,Q),Tl(I,L),I.return=x,I)}function z(x,I,L,Q){return I===null||I.tag!==4||I.stateNode.containerInfo!==L.containerInfo||I.stateNode.implementation!==L.implementation?(I=eh(L,x.mode,Q),I.return=x,I):(I=c(I,L.children||[]),I.return=x,I)}function F(x,I,L,Q,ot){return I===null||I.tag!==7?(I=Wr(L,x.mode,Q,ot),I.return=x,I):(I=c(I,L),I.return=x,I)}function X(x,I,L){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=th(""+I,x.mode,L),I.return=x,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case w:return L=Ko(I.type,I.key,I.props,null,x.mode,L),Tl(L,I),L.return=x,L;case k:return I=eh(I,x.mode,L),I.return=x,I;case b:var Q=I._init;return I=Q(I._payload),X(x,I,L)}if(ae(I)||U(I))return I=Wr(I,x.mode,L,null),I.return=x,I;if(typeof I.then=="function")return X(x,fu(I),L);if(I.$$typeof===it)return X(x,Wo(x,I),L);du(x,I)}return null}function B(x,I,L,Q){var ot=I!==null?I.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ot!==null?null:E(x,I,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case w:return L.key===ot?R(x,I,L,Q):null;case k:return L.key===ot?z(x,I,L,Q):null;case b:return ot=L._init,L=ot(L._payload),B(x,I,L,Q)}if(ae(L)||U(L))return ot!==null?null:F(x,I,L,Q,null);if(typeof L.then=="function")return B(x,I,fu(L),Q);if(L.$$typeof===it)return B(x,I,Wo(x,L),Q);du(x,L)}return null}function j(x,I,L,Q,ot){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(L)||null,E(I,x,""+Q,ot);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:return x=x.get(Q.key===null?L:Q.key)||null,R(I,x,Q,ot);case k:return x=x.get(Q.key===null?L:Q.key)||null,z(I,x,Q,ot);case b:var Dt=Q._init;return Q=Dt(Q._payload),j(x,I,L,Q,ot)}if(ae(Q)||U(Q))return x=x.get(L)||null,F(I,x,Q,ot,null);if(typeof Q.then=="function")return j(x,I,L,fu(Q),ot);if(Q.$$typeof===it)return j(x,I,L,Wo(I,Q),ot);du(I,Q)}return null}function vt(x,I,L,Q){for(var ot=null,Dt=null,ht=I,pt=I=0,Me=null;ht!==null&&pt<L.length;pt++){ht.index>pt?(Me=ht,ht=null):Me=ht.sibling;var Lt=B(x,ht,L[pt],Q);if(Lt===null){ht===null&&(ht=Me);break}t&&ht&&Lt.alternate===null&&n(x,ht),I=f(Lt,I,pt),Dt===null?ot=Lt:Dt.sibling=Lt,Dt=Lt,ht=Me}if(pt===L.length)return r(x,ht),jt&&ea(x,pt),ot;if(ht===null){for(;pt<L.length;pt++)ht=X(x,L[pt],Q),ht!==null&&(I=f(ht,I,pt),Dt===null?ot=ht:Dt.sibling=ht,Dt=ht);return jt&&ea(x,pt),ot}for(ht=l(ht);pt<L.length;pt++)Me=j(ht,x,pt,L[pt],Q),Me!==null&&(t&&Me.alternate!==null&&ht.delete(Me.key===null?pt:Me.key),I=f(Me,I,pt),Dt===null?ot=Me:Dt.sibling=Me,Dt=Me);return t&&ht.forEach(function(fr){return n(x,fr)}),jt&&ea(x,pt),ot}function gt(x,I,L,Q){if(L==null)throw Error(s(151));for(var ot=null,Dt=null,ht=I,pt=I=0,Me=null,Lt=L.next();ht!==null&&!Lt.done;pt++,Lt=L.next()){ht.index>pt?(Me=ht,ht=null):Me=ht.sibling;var fr=B(x,ht,Lt.value,Q);if(fr===null){ht===null&&(ht=Me);break}t&&ht&&fr.alternate===null&&n(x,ht),I=f(fr,I,pt),Dt===null?ot=fr:Dt.sibling=fr,Dt=fr,ht=Me}if(Lt.done)return r(x,ht),jt&&ea(x,pt),ot;if(ht===null){for(;!Lt.done;pt++,Lt=L.next())Lt=X(x,Lt.value,Q),Lt!==null&&(I=f(Lt,I,pt),Dt===null?ot=Lt:Dt.sibling=Lt,Dt=Lt);return jt&&ea(x,pt),ot}for(ht=l(ht);!Lt.done;pt++,Lt=L.next())Lt=j(ht,x,pt,Lt.value,Q),Lt!==null&&(t&&Lt.alternate!==null&&ht.delete(Lt.key===null?pt:Lt.key),I=f(Lt,I,pt),Dt===null?ot=Lt:Dt.sibling=Lt,Dt=Lt);return t&&ht.forEach(function(RT){return n(x,RT)}),jt&&ea(x,pt),ot}function Kt(x,I,L,Q){if(typeof L=="object"&&L!==null&&L.type===Y&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case w:t:{for(var ot=L.key;I!==null;){if(I.key===ot){if(ot=L.type,ot===Y){if(I.tag===7){r(x,I.sibling),Q=c(I,L.props.children),Q.return=x,x=Q;break t}}else if(I.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&Dg(ot)===I.type){r(x,I.sibling),Q=c(I,L.props),Tl(Q,L),Q.return=x,x=Q;break t}r(x,I);break}else n(x,I);I=I.sibling}L.type===Y?(Q=Wr(L.props.children,x.mode,Q,L.key),Q.return=x,x=Q):(Q=Ko(L.type,L.key,L.props,null,x.mode,Q),Tl(Q,L),Q.return=x,x=Q)}return v(x);case k:t:{for(ot=L.key;I!==null;){if(I.key===ot)if(I.tag===4&&I.stateNode.containerInfo===L.containerInfo&&I.stateNode.implementation===L.implementation){r(x,I.sibling),Q=c(I,L.children||[]),Q.return=x,x=Q;break t}else{r(x,I);break}else n(x,I);I=I.sibling}Q=eh(L,x.mode,Q),Q.return=x,x=Q}return v(x);case b:return ot=L._init,L=ot(L._payload),Kt(x,I,L,Q)}if(ae(L))return vt(x,I,L,Q);if(U(L)){if(ot=U(L),typeof ot!="function")throw Error(s(150));return L=ot.call(L),gt(x,I,L,Q)}if(typeof L.then=="function")return Kt(x,I,fu(L),Q);if(L.$$typeof===it)return Kt(x,I,Wo(x,L),Q);du(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,I!==null&&I.tag===6?(r(x,I.sibling),Q=c(I,L),Q.return=x,x=Q):(r(x,I),Q=th(L,x.mode,Q),Q.return=x,x=Q),v(x)):r(x,I)}return function(x,I,L,Q){try{El=0;var ot=Kt(x,I,L,Q);return ts=null,ot}catch(ht){if(ht===hl||ht===eu)throw ht;var Dt=un(29,ht,null,x.mode);return Dt.lanes=Q,Dt.return=x,Dt}finally{}}}var es=Vg(!0),Ig=Vg(!1),wn=$(null),$n=null;function $i(t){var n=t.alternate;tt(Re,Re.current&1),tt(wn,t),$n===null&&(n===null||Za.current!==null||n.memoizedState!==null)&&($n=t)}function Ng(t){if(t.tag===22){if(tt(Re,Re.current),tt(wn,t),$n===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&($n=t)}}else Ji()}function Ji(){tt(Re,Re.current),tt(wn,wn.current)}function Ci(t){at(wn),$n===t&&($n=null),at(Re)}var Re=$(0);function mu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||bf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function xh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:T({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Uh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=dn(),c=Xi(l);c.payload=n,r!=null&&(c.callback=r),n=Ki(t,c,l),n!==null&&(mn(n,t,l),dl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=dn(),c=Xi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Ki(t,c,l),n!==null&&(mn(n,t,l),dl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=dn(),l=Xi(r);l.tag=2,n!=null&&(l.callback=n),n=Ki(t,l,r),n!==null&&(mn(n,t,r),dl(n,t,r))}};function Og(t,n,r,l,c,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!il(r,l)||!il(c,f):!0}function Mg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Uh.enqueueReplaceState(n,n.state,null)}function oa(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=T({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var gu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function xg(t){gu(t)}function Ug(t){console.error(t)}function Pg(t){gu(t)}function pu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Lg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ph(t,n,r){return r=Xi(r),r.tag=3,r.payload={element:null},r.callback=function(){pu(t,n)},r}function zg(t){return t=Xi(t),t.tag=3,t}function Bg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Lg(n,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Lg(n,r,l),typeof c!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function RE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ol(n,r,c,!0),r=wn.current,r!==null){switch(r.tag){case 13:return $n===null?lf():r.alternate===null&&oe===0&&(oe=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===hh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),uf(t,l,c)),!1;case 22:return r.flags|=65536,l===hh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),uf(t,l,c)),!1}throw Error(s(435,r.tag))}return uf(t,l,c),lf(),!1}if(jt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==rh&&(t=Error(s(422),{cause:l}),ll(An(t,r)))):(l!==rh&&(n=Error(s(423),{cause:l}),ll(An(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=An(l,r),c=Ph(t.stateNode,l,c),mh(t,c),oe!==4&&(oe=2)),!1;var f=Error(s(520),{cause:l});if(f=An(f,r),Dl===null?Dl=[f]:Dl.push(f),oe!==4&&(oe=2),n===null)return!0;l=An(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Ph(r.stateNode,l,t),mh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(rr===null||!rr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=zg(c),Bg(c,t,r,l),mh(r,c),!1}r=r.return}while(r!==null);return!1}var jg=Error(s(461)),Ne=!1;function ze(t,n,r,l){n.child=t===null?Ig(n,null,r,l):es(n,t.child,r,l)}function kg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return aa(n),l=vh(t,n,r,v,f,c),E=Eh(),t!==null&&!Ne?(Th(t,n,c),Di(t,n,c)):(jt&&E&&nh(n),n.flags|=1,ze(t,n,l,c),n.child)}function qg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Wc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Hg(t,n,f,l,c)):(t=Ko(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Gh(t,c)){var v=f.memoizedProps;if(r=r.compare,r=r!==null?r:il,r(v,l)&&t.ref===n.ref)return Di(t,n,c)}return n.flags|=1,t=Ti(f,l),t.ref=n.ref,t.return=n,n.child=t}function Hg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(il(f,l)&&t.ref===n.ref)if(Ne=!1,n.pendingProps=l=f,Gh(t,c))(t.flags&131072)!==0&&(Ne=!0);else return n.lanes=t.lanes,Di(t,n,c)}return Lh(t,n,r,l,c)}function Gg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Fg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&tu(n,f!==null?f.cachePool:null),f!==null?Hm(n,f):ph(),Ng(n);else return n.lanes=n.childLanes=536870912,Fg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(tu(n,f.cachePool),Hm(n,f),Ji(),n.memoizedState=null):(t!==null&&tu(n,null),ph(),Ji());return ze(t,n,c,r),n.child}function Fg(t,n,r,l){var c=ch();return c=c===null?null:{parent:be._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&tu(n,null),ph(),Ng(n),t!==null&&ol(t,n,l,!0),null}function yu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Lh(t,n,r,l,c){return aa(n),r=vh(t,n,r,l,void 0,c),l=Eh(),t!==null&&!Ne?(Th(t,n,c),Di(t,n,c)):(jt&&l&&nh(n),n.flags|=1,ze(t,n,r,c),n.child)}function Qg(t,n,r,l,c,f){return aa(n),n.updateQueue=null,r=Fm(n,l,r,c),Gm(t),l=Eh(),t!==null&&!Ne?(Th(t,n,f),Di(t,n,f)):(jt&&l&&nh(n),n.flags|=1,ze(t,n,r,f),n.child)}function Yg(t,n,r,l,c){if(aa(n),n.stateNode===null){var f=Fa,v=r.contextType;typeof v=="object"&&v!==null&&(f=Fe(v)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},fh(n),v=r.contextType,f.context=typeof v=="object"&&v!==null?Fe(v):Fa,f.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(xh(n,r,v,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Uh.enqueueReplaceState(f,f.state,null),gl(n,l,f,c),ml(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=oa(r,E);f.props=R;var z=f.context,F=r.contextType;v=Fa,typeof F=="object"&&F!==null&&(v=Fe(F));var X=r.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==v)&&Mg(n,f,l,v),Yi=!1;var B=n.memoizedState;f.state=B,gl(n,l,f,c),ml(),z=n.memoizedState,E||B!==z||Yi?(typeof X=="function"&&(xh(n,r,X,l),z=n.memoizedState),(R=Yi||Og(n,r,R,l,B,z,v))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=v,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,dh(t,n),v=n.memoizedProps,F=oa(r,v),f.props=F,X=n.pendingProps,B=f.context,z=r.contextType,R=Fa,typeof z=="object"&&z!==null&&(R=Fe(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==X||B!==R)&&Mg(n,f,l,R),Yi=!1,B=n.memoizedState,f.state=B,gl(n,l,f,c),ml();var j=n.memoizedState;v!==X||B!==j||Yi||t!==null&&t.dependencies!==null&&Jo(t.dependencies)?(typeof E=="function"&&(xh(n,r,E,l),j=n.memoizedState),(F=Yi||Og(n,r,F,l,B,j,R)||t!==null&&t.dependencies!==null&&Jo(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,j,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,j,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=R,l=F):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,yu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=es(n,t.child,null,c),n.child=es(n,null,r,c)):ze(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Di(t,n,c),t}function Xg(t,n,r,l){return sl(),n.flags|=256,ze(t,n,r,l),n.child}var zh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bh(t){return{baseLanes:t,cachePool:Um()}}function jh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Cn),t}function Kg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Re.current&2)!==0),v&&(c=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(jt){if(c?$i(n):Ji(),jt){var E=le,R;if(R=E){t:{for(R=E,E=Zn;R.nodeType!==8;){if(!E){E=null;break t}if(R=Un(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:ta!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},R=un(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,We=n,le=null,R=!0):R=!1}R||ia(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return bf(E)?n.lanes=32:n.lanes=536870912,null;Ci(n)}return E=l.children,l=l.fallback,c?(Ji(),c=n.mode,E=_u({mode:"hidden",children:E},c),l=Wr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Bh(r),c.childLanes=jh(t,v,r),n.memoizedState=zh,l):($i(n),kh(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?($i(n),n.flags&=-257,n=qh(t,n,r)):n.memoizedState!==null?(Ji(),n.child=t.child,n.flags|=128,n=null):(Ji(),c=l.fallback,E=n.mode,l=_u({mode:"visible",children:l.children},E),c=Wr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,es(n,t.child,null,r),l=n.child,l.memoizedState=Bh(r),l.childLanes=jh(t,v,r),n.memoizedState=zh,n=c);else if($i(n),bf(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,ll({value:l,source:null,stack:null}),n=qh(t,n,r)}else if(Ne||ol(t,n,r,!1),v=(r&t.childLanes)!==0,Ne||v){if(v=Wt,v!==null&&(l=r&-r,l=(l&42)!==0?1:Bi(l),l=(l&(v.suspendedLanes|r))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,Ga(t,l),mn(v,t,l),jg;E.data==="$?"||lf(),n=qh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,le=Un(E.nextSibling),We=n,jt=!0,na=null,Zn=!1,t!==null&&(bn[Rn++]=Ai,bn[Rn++]=Si,bn[Rn++]=ta,Ai=t.id,Si=t.overflow,ta=n),n=kh(n,l.children),n.flags|=4096);return n}return c?(Ji(),c=l.fallback,E=n.mode,R=t.child,z=R.sibling,l=Ti(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?c=Ti(z,c):(c=Wr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Bh(r):(R=E.cachePool,R!==null?(z=be._currentValue,R=R.parent!==z?{parent:z,pool:z}:R):R=Um(),E={baseLanes:E.baseLanes|r,cachePool:R}),c.memoizedState=E,c.childLanes=jh(t,v,r),n.memoizedState=zh,l):($i(n),r=t.child,t=r.sibling,r=Ti(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=r,n.memoizedState=null,r)}function kh(t,n){return n=_u({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function _u(t,n){return t=un(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function qh(t,n,r){return es(n,t.child,null,r),t=kh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Zg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),sh(t.return,n,r)}function Hh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function $g(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(ze(t,n,l.children,r),l=Re.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zg(t,r,n);else if(t.tag===19)Zg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(tt(Re,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&mu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Hh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&mu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Hh(n,!0,r,null,f);break;case"together":Hh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Di(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),ir|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ol(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Ti(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ti(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Gh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Jo(t)))}function wE(t,n,r){switch(n.tag){case 3:Jt(n,n.stateNode.containerInfo),Qi(n,be,t.memoizedState.cache),sl();break;case 27:case 5:zi(n);break;case 4:Jt(n,n.stateNode.containerInfo);break;case 10:Qi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?($i(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Kg(t,n,r):($i(n),t=Di(t,n,r),t!==null?t.sibling:null);$i(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ol(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return $g(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),tt(Re,Re.current),l)break;return null;case 22:case 23:return n.lanes=0,Gg(t,n,r);case 24:Qi(n,be,t.memoizedState.cache)}return Di(t,n,r)}function Jg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ne=!0;else{if(!Gh(t,r)&&(n.flags&128)===0)return Ne=!1,wE(t,n,r);Ne=(t.flags&131072)!==0}else Ne=!1,jt&&(n.flags&1048576)!==0&&Dm(n,$o,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Wc(l)?(t=oa(l,t),n.tag=1,n=Yg(null,n,l,t,r)):(n.tag=0,n=Lh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===St){n.tag=11,n=kg(null,n,l,t,r);break t}else if(c===O){n.tag=14,n=qg(null,n,l,t,r);break t}}throw n=Ue(l)||l,Error(s(306,n,""))}}return n;case 0:return Lh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=oa(l,n.pendingProps),Yg(t,n,l,c,r);case 3:t:{if(Jt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,dh(t,n),gl(n,l,null,r);var v=n.memoizedState;if(l=v.cache,Qi(n,be,l),l!==f.cache&&lh(n,[be],r,!0),ml(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Xg(t,n,l,r);break t}else if(l!==c){c=An(Error(s(424)),n),ll(c),n=Xg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(le=Un(t.firstChild),We=n,jt=!0,na=null,Zn=!0,r=Ig(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(sl(),l===c){n=Di(t,n,r);break t}ze(t,n,l,r)}n=n.child}return n;case 26:return yu(t,n),t===null?(r=ny(n.type,null,n.pendingProps,null))?n.memoizedState=r:jt||(r=n.type,t=n.pendingProps,l=Ou(Et.current).createElement(r),l[Te]=n,l[me]=t,je(l,r,t),ue(l),n.stateNode=l):n.memoizedState=ny(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return zi(n),t===null&&jt&&(l=n.stateNode=Wp(n.type,n.pendingProps,Et.current),We=n,Zn=!0,c=le,lr(n.type)?(Rf=c,le=Un(l.firstChild)):le=c),ze(t,n,n.pendingProps.children,r),yu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&jt&&((c=l=le)&&(l=tT(l,n.type,n.pendingProps,Zn),l!==null?(n.stateNode=l,We=n,le=Un(l.firstChild),Zn=!1,c=!0):c=!1),c||ia(n)),zi(n),c=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Tf(c,f)?l=null:v!==null&&Tf(c,v)&&(n.flags|=32),n.memoizedState!==null&&(c=vh(t,n,_E,null,null,r),Ll._currentValue=c),yu(t,n),ze(t,n,l,r),n.child;case 6:return t===null&&jt&&((t=r=le)&&(r=eT(r,n.pendingProps,Zn),r!==null?(n.stateNode=r,We=n,le=null,t=!0):t=!1),t||ia(n)),null;case 13:return Kg(t,n,r);case 4:return Jt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=es(n,null,l,r):ze(t,n,l,r),n.child;case 11:return kg(t,n,n.type,n.pendingProps,r);case 7:return ze(t,n,n.pendingProps,r),n.child;case 8:return ze(t,n,n.pendingProps.children,r),n.child;case 12:return ze(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Qi(n,n.type,l.value),ze(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,aa(n),c=Fe(c),l=l(c),n.flags|=1,ze(t,n,l,r),n.child;case 14:return qg(t,n,n.type,n.pendingProps,r);case 15:return Hg(t,n,n.type,n.pendingProps,r);case 19:return $g(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=_u(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ti(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Gg(t,n,r);case 24:return aa(n),l=Fe(be),t===null?(c=ch(),c===null&&(c=Wt,f=oh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},fh(n),Qi(n,be,c)):((t.lanes&r)!==0&&(dh(t,n),gl(n,null,null,r),ml()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Qi(n,be,l)):(l=f.cache,Qi(n,be,l),l!==c.cache&&lh(n,[be],r,!0))),ze(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Vi(t){t.flags|=4}function Wg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ly(n)){if(n=wn.current,n!==null&&((xt&4194048)===xt?$n!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==$n))throw fl=hh,Pm;t.flags|=8192}}function vu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Bs():536870912,t.lanes|=n,as|=n)}function Al(t,n){if(!jt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function CE(t,n,r){var l=n.pendingProps;switch(ih(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ri(be),zn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(al(n)?Vi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Nm())),ie(n),null;case 26:return r=n.memoizedState,t===null?(Vi(n),r!==null?(ie(n),Wg(n,r)):(ie(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Vi(n),ie(n),Wg(n,r)):(ie(n),n.flags&=-16777217):(t.memoizedProps!==l&&Vi(n),ie(n),n.flags&=-16777217),null;case 27:oi(n),r=Et.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Vi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}t=dt.current,al(n)?Vm(n):(t=Wp(c,l,r),n.stateNode=t,Vi(n))}return ie(n),null;case 5:if(oi(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Vi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(t=dt.current,al(n))Vm(n);else{switch(c=Ou(Et.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Te]=n,t[me]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(je(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Vi(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Vi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Et.current,al(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=We,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Te]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Qp(t.nodeValue,r)),t||ia(n)}else t=Ou(t).createTextNode(l),t[Te]=n,n.stateNode=t}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=al(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Te]=n}else sl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),c=!1}else c=Nm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ci(n),n):(Ci(n),null)}if(Ci(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),vu(n,n.updateQueue),ie(n),null;case 4:return zn(),t===null&&pf(n.stateNode.containerInfo),ie(n),null;case 10:return Ri(n.type),ie(n),null;case 19:if(at(Re),c=n.memoizedState,c===null)return ie(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Al(c,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=mu(t),f!==null){for(n.flags|=128,Al(c,!1),t=f.updateQueue,n.updateQueue=t,vu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Cm(r,t),r=r.sibling;return tt(Re,Re.current&1|2),n.child}t=t.sibling}c.tail!==null&&pn()>Au&&(n.flags|=128,l=!0,Al(c,!1),n.lanes=4194304)}else{if(!l)if(t=mu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,vu(n,t),Al(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!jt)return ie(n),null}else 2*pn()-c.renderingStartTime>Au&&r!==536870912&&(n.flags|=128,l=!0,Al(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=pn(),n.sibling=null,t=Re.current,tt(Re,l?t&1|2:t&1),n):(ie(n),null);case 22:case 23:return Ci(n),yh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),r=n.updateQueue,r!==null&&vu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&at(sa),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ri(be),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function DE(t,n){switch(ih(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ri(be),zn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return oi(n),null;case 13:if(Ci(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));sl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return at(Re),null;case 4:return zn(),null;case 10:return Ri(n.type),null;case 22:case 23:return Ci(n),yh(),t!==null&&at(sa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ri(be),null;case 25:return null;default:return null}}function tp(t,n){switch(ih(n),n.tag){case 3:Ri(be),zn();break;case 26:case 27:case 5:oi(n);break;case 4:zn();break;case 13:Ci(n);break;case 19:at(Re);break;case 10:Ri(n.type);break;case 22:case 23:Ci(n),yh(),t!==null&&at(sa);break;case 24:Ri(be)}}function Sl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,v=r.inst;l=f(),v.destroy=l}r=r.next}while(r!==c)}}catch(E){$t(n,n.return,E)}}function Wi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,c=n;var R=r,z=E;try{z()}catch(F){$t(c,R,F)}}}l=l.next}while(l!==f)}}catch(F){$t(n,n.return,F)}}function ep(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{qm(n,r)}catch(l){$t(t,t.return,l)}}}function np(t,n,r){r.props=oa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){$t(t,n,l)}}function bl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){$t(t,n,c)}}function Jn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){$t(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){$t(t,n,c)}else r.current=null}function ip(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){$t(t,t.return,c)}}function Fh(t,n,r){try{var l=t.stateNode;KE(l,t.type,r,n),l[me]=n}catch(c){$t(t,t.return,c)}}function rp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&lr(t.type)||t.tag===4}function Qh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||rp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&lr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Nu));else if(l!==4&&(l===27&&lr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Yh(t,n,r),t=t.sibling;t!==null;)Yh(t,n,r),t=t.sibling}function Eu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&lr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Eu(t,n,r),t=t.sibling;t!==null;)Eu(t,n,r),t=t.sibling}function ap(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);je(n,l,r),n[Te]=t,n[me]=r}catch(f){$t(t,t.return,f)}}var Ii=!1,he=!1,Xh=!1,sp=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function VE(t,n){if(t=t.containerInfo,vf=zu,t=ym(t),Qc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var v=0,E=-1,R=-1,z=0,F=0,X=t,B=null;e:for(;;){for(var j;X!==r||c!==0&&X.nodeType!==3||(E=v+c),X!==f||l!==0&&X.nodeType!==3||(R=v+l),X.nodeType===3&&(v+=X.nodeValue.length),(j=X.firstChild)!==null;)B=X,X=j;for(;;){if(X===t)break e;if(B===r&&++z===c&&(E=v),B===f&&++F===l&&(R=v),(j=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=j}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ef={focusedElem:t,selectionRange:r},zu=!1,Oe=n;Oe!==null;)if(n=Oe,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Oe=t;else for(;Oe!==null;){switch(n=Oe,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var vt=oa(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(vt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){$t(r,r.return,gt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Sf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Sf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Oe=t;break}Oe=n.return}}function lp(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:tr(t,r),l&4&&Sl(5,r);break;case 1:if(tr(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(v){$t(r,r.return,v)}else{var c=oa(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(r,r.return,v)}}l&64&&ep(r),l&512&&bl(r,r.return);break;case 3:if(tr(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{qm(t,n)}catch(v){$t(r,r.return,v)}}break;case 27:n===null&&l&4&&ap(r);case 26:case 5:tr(t,r),n===null&&l&4&&ip(r),l&512&&bl(r,r.return);break;case 12:tr(t,r);break;case 13:tr(t,r),l&4&&cp(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=zE.bind(null,r),nT(t,r))));break;case 22:if(l=r.memoizedState!==null||Ii,!l){n=n!==null&&n.memoizedState!==null||he,c=Ii;var f=he;Ii=l,(he=n)&&!f?er(t,r,(r.subtreeFlags&8772)!==0):tr(t,r),Ii=c,he=f}break;case 30:break;default:tr(t,r)}}function op(t){var n=t.alternate;n!==null&&(t.alternate=null,op(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&qi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ne=null,en=!1;function Ni(t,n,r){for(r=r.child;r!==null;)up(t,n,r),r=r.sibling}function up(t,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(se,r)}catch{}switch(r.tag){case 26:he||Jn(r,n),Ni(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:he||Jn(r,n);var l=ne,c=en;lr(r.type)&&(ne=r.stateNode,en=!1),Ni(t,n,r),Ml(r.stateNode),ne=l,en=c;break;case 5:he||Jn(r,n);case 6:if(l=ne,c=en,ne=null,Ni(t,n,r),ne=l,en=c,ne!==null)if(en)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(r.stateNode)}catch(f){$t(r,n,f)}else try{ne.removeChild(r.stateNode)}catch(f){$t(r,n,f)}break;case 18:ne!==null&&(en?(t=ne,$p(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),kl(t)):$p(ne,r.stateNode));break;case 4:l=ne,c=en,ne=r.stateNode.containerInfo,en=!0,Ni(t,n,r),ne=l,en=c;break;case 0:case 11:case 14:case 15:he||Wi(2,r,n),he||Wi(4,r,n),Ni(t,n,r);break;case 1:he||(Jn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&np(r,n,l)),Ni(t,n,r);break;case 21:Ni(t,n,r);break;case 22:he=(l=he)||r.memoizedState!==null,Ni(t,n,r),he=l;break;default:Ni(t,n,r)}}function cp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{kl(t)}catch(r){$t(n,n.return,r)}}function IE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new sp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new sp),n;default:throw Error(s(435,t.tag))}}function Kh(t,n){var r=IE(t);n.forEach(function(l){var c=BE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function cn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(lr(E.type)){ne=E.stateNode,en=!1;break t}break;case 5:ne=E.stateNode,en=!1;break t;case 3:case 4:ne=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(ne===null)throw Error(s(160));up(f,v,c),ne=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)hp(n,t),n=n.sibling}var xn=null;function hp(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(n,t),hn(t),l&4&&(Wi(3,t,t.return),Sl(3,t),Wi(5,t,t.return));break;case 1:cn(n,t),hn(t),l&512&&(he||r===null||Jn(r,r.return)),l&64&&Ii&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=xn;if(cn(n,t),hn(t),l&512&&(he||r===null||Jn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Lr]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),je(f,l,r),f[Te]=t,ue(f),l=f;break t;case"link":var v=ay("link","href",c).get(l+(r.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(E,1);break e}}f=c.createElement(l),je(f,l,r),c.head.appendChild(f);break;case"meta":if(v=ay("meta","content",c).get(l+(r.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(E,1);break e}}f=c.createElement(l),je(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[Te]=t,ue(f),l=f}t.stateNode=l}else sy(c,t.type,t.stateNode);else t.stateNode=ry(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?sy(c,t.type,t.stateNode):ry(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Fh(t,t.memoizedProps,r.memoizedProps)}break;case 27:cn(n,t),hn(t),l&512&&(he||r===null||Jn(r,r.return)),r!==null&&l&4&&Fh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(cn(n,t),hn(t),l&512&&(he||r===null||Jn(r,r.return)),t.flags&32){c=t.stateNode;try{_n(c,"")}catch(j){$t(t,t.return,j)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Fh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Xh=!0);break;case 6:if(cn(n,t),hn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(j){$t(t,t.return,j)}}break;case 3:if(Uu=null,c=xn,xn=Mu(n.containerInfo),cn(n,t),xn=c,hn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{kl(n.containerInfo)}catch(j){$t(t,t.return,j)}Xh&&(Xh=!1,fp(t));break;case 4:l=xn,xn=Mu(t.stateNode.containerInfo),cn(n,t),hn(t),xn=l;break;case 12:cn(n,t),hn(t);break;case 13:cn(n,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ef=pn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kh(t,l)));break;case 22:c=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,z=Ii,F=he;if(Ii=z||c,he=F||R,cn(n,t),he=F,Ii=z,hn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||R||Ii||he||ua(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,c)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(j){$t(R,R.return,j)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(j){$t(R,R.return,j)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Kh(t,r))));break;case 19:cn(n,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kh(t,l)));break;case 30:break;case 21:break;default:cn(n,t),hn(t)}}function hn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(rp(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=Qh(t);Eu(t,f,c);break;case 5:var v=r.stateNode;r.flags&32&&(_n(v,""),r.flags&=-33);var E=Qh(t);Eu(t,E,v);break;case 3:case 4:var R=r.stateNode.containerInfo,z=Qh(t);Yh(t,z,R);break;default:throw Error(s(161))}}catch(F){$t(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function fp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;fp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function tr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)lp(t,n.alternate,n),n=n.sibling}function ua(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Wi(4,n,n.return),ua(n);break;case 1:Jn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&np(n,n.return,r),ua(n);break;case 27:Ml(n.stateNode);case 26:case 5:Jn(n,n.return),ua(n);break;case 22:n.memoizedState===null&&ua(n);break;case 30:ua(n);break;default:ua(n)}t=t.sibling}}function er(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:er(c,f,r),Sl(4,f);break;case 1:if(er(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){$t(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)km(R[c],E)}catch(z){$t(l,l.return,z)}}r&&v&64&&ep(f),bl(f,f.return);break;case 27:ap(f);case 26:case 5:er(c,f,r),r&&l===null&&v&4&&ip(f),bl(f,f.return);break;case 12:er(c,f,r);break;case 13:er(c,f,r),r&&v&4&&cp(c,f);break;case 22:f.memoizedState===null&&er(c,f,r),bl(f,f.return);break;case 30:break;default:er(c,f,r)}n=n.sibling}}function Zh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ul(r))}function $h(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t))}function Wn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)dp(t,n,r,l),n=n.sibling}function dp(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(t,n,r,l),c&2048&&Sl(9,n);break;case 1:Wn(t,n,r,l);break;case 3:Wn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t)));break;case 12:if(c&2048){Wn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){$t(n,n.return,R)}}else Wn(t,n,r,l);break;case 13:Wn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(t,n,r,l):Rl(t,n):f._visibility&2?Wn(t,n,r,l):(f._visibility|=2,ns(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Zh(v,n);break;case 24:Wn(t,n,r,l),c&2048&&$h(n.alternate,n);break;default:Wn(t,n,r,l)}}function ns(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,E=r,R=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:ns(f,v,E,R,c),Sl(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&2?ns(f,v,E,R,c):Rl(f,v):(F._visibility|=2,ns(f,v,E,R,c)),c&&z&2048&&Zh(v.alternate,v);break;case 24:ns(f,v,E,R,c),c&&z&2048&&$h(v.alternate,v);break;default:ns(f,v,E,R,c)}n=n.sibling}}function Rl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Rl(r,l),c&2048&&Zh(l.alternate,l);break;case 24:Rl(r,l),c&2048&&$h(l.alternate,l);break;default:Rl(r,l)}n=n.sibling}}var wl=8192;function is(t){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)mp(t),t=t.sibling}function mp(t){switch(t.tag){case 26:is(t),t.flags&wl&&t.memoizedState!==null&&gT(xn,t.memoizedState,t.memoizedProps);break;case 5:is(t);break;case 3:case 4:var n=xn;xn=Mu(t.stateNode.containerInfo),is(t),xn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=wl,wl=16777216,is(t),wl=n):is(t));break;default:is(t)}}function gp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Cl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Oe=l,yp(l,t)}gp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)pp(t),t=t.sibling}function pp(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&Wi(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Tu(t)):Cl(t);break;default:Cl(t)}}function Tu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Oe=l,yp(l,t)}gp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Wi(8,n,n.return),Tu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Tu(n));break;default:Tu(n)}t=t.sibling}}function yp(t,n){for(;Oe!==null;){var r=Oe;switch(r.tag){case 0:case 11:case 15:Wi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Oe=l;else t:for(r=t;Oe!==null;){l=Oe;var c=l.sibling,f=l.return;if(op(l),l===r){Oe=null;break t}if(c!==null){c.return=f,Oe=c;break t}Oe=f}}}var NE={getCacheForType:function(t){var n=Fe(be),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},OE=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Wt=null,Vt=null,xt=0,Ft=0,fn=null,nr=!1,rs=!1,Jh=!1,Oi=0,oe=0,ir=0,ca=0,Wh=0,Cn=0,as=0,Dl=null,nn=null,tf=!1,ef=0,Au=1/0,Su=null,rr=null,Be=0,ar=null,ss=null,ls=0,nf=0,rf=null,_p=null,Vl=0,af=null;function dn(){if((Gt&2)!==0&&xt!==0)return xt&-xt;if(G.T!==null){var t=Xa;return t!==0?t:ff()}return ji()}function vp(){Cn===0&&(Cn=(xt&536870912)===0||jt?zs():536870912);var t=wn.current;return t!==null&&(t.flags|=32),Cn}function mn(t,n,r){(t===Wt&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(os(t,0),sr(t,xt,Cn,!1)),ci(t,r),((Gt&2)===0||t!==Wt)&&(t===Wt&&((Gt&2)===0&&(ca|=r),oe===4&&sr(t,xt,Cn,!1)),ti(t))}function Ep(t,n,r){if((Gt&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Pr(t,n),c=l?UE(t,n):of(t,n,!0),f=l;do{if(c===0){rs&&!l&&sr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!ME(r)){c=of(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=t;c=Dl;var R=E.current.memoizedState.isDehydrated;if(R&&(os(E,v).flags|=256),v=of(E,v,!1),v!==2){if(Jh&&!R){E.errorRecoveryDisabledLanes|=f,ca|=f,c=4;break t}f=nn,nn=c,f!==null&&(nn===null?nn=f:nn.push.apply(nn,f))}c=v}if(f=!1,c!==2)continue}}if(c===1){os(t,0),sr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:sr(l,n,Cn,!nr);break t;case 2:nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=ef+300-pn(),10<c)){if(sr(l,n,Cn,!nr),Ra(l,0,!0)!==0)break t;l.timeoutHandle=Kp(Tp.bind(null,l,r,nn,Su,tf,n,Cn,ca,as,nr,f,2,-0,0),c);break t}Tp(l,r,nn,Su,tf,n,Cn,ca,as,nr,f,0,-0,0)}}break}while(!0);ti(t)}function Tp(t,n,r,l,c,f,v,E,R,z,F,X,B,j){if(t.timeoutHandle=-1,X=n.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(Pl={stylesheets:null,count:0,unsuspend:mT},mp(n),X=pT(),X!==null)){t.cancelPendingCommit=X(Dp.bind(null,t,n,f,r,l,c,v,E,R,F,1,B,j)),sr(t,f,v,!z);return}Dp(t,n,f,r,l,c,v,E,R)}function ME(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!on(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function sr(t,n,r,l){n&=~Wh,n&=~ca,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ge(c),v=1<<f;l[f]=-1,c&=~v}r!==0&&Bn(t,r,n)}function bu(){return(Gt&6)===0?(Il(0),!1):!0}function sf(){if(Vt!==null){if(Ft===0)var t=Vt.return;else t=Vt,bi=ra=null,Ah(t),ts=null,El=0,t=Vt;for(;t!==null;)tp(t.alternate,t),t=t.return;Vt=null}}function os(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,$E(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),sf(),Wt=t,Vt=r=Ti(t.current,null),xt=n,Ft=0,fn=null,nr=!1,rs=Pr(t,n),Jh=!1,as=Cn=Wh=ca=ir=oe=0,nn=Dl=null,tf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ge(l),f=1<<c;n|=t[c],l&=~f}return Oi=n,Qo(),r}function Ap(t,n){Rt=null,G.H=hu,n===hl||n===eu?(n=Bm(),Ft=3):n===Pm?(n=Bm(),Ft=4):Ft=n===jg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fn=n,Vt===null&&(oe=1,pu(t,An(n,t.current)))}function Sp(){var t=G.H;return G.H=hu,t===null?hu:t}function bp(){var t=G.A;return G.A=NE,t}function lf(){oe=4,nr||(xt&4194048)!==xt&&wn.current!==null||(rs=!0),(ir&134217727)===0&&(ca&134217727)===0||Wt===null||sr(Wt,xt,Cn,!1)}function of(t,n,r){var l=Gt;Gt|=2;var c=Sp(),f=bp();(Wt!==t||xt!==n)&&(Su=null,os(t,n)),n=!1;var v=oe;t:do try{if(Ft!==0&&Vt!==null){var E=Vt,R=fn;switch(Ft){case 8:sf(),v=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var z=Ft;if(Ft=0,fn=null,us(t,E,R,z),r&&rs){v=0;break t}break;default:z=Ft,Ft=0,fn=null,us(t,E,R,z)}}xE(),v=oe;break}catch(F){Ap(t,F)}while(!0);return n&&t.shellSuspendCounter++,bi=ra=null,Gt=l,G.H=c,G.A=f,Vt===null&&(Wt=null,xt=0,Qo()),v}function xE(){for(;Vt!==null;)Rp(Vt)}function UE(t,n){var r=Gt;Gt|=2;var l=Sp(),c=bp();Wt!==t||xt!==n?(Su=null,Au=pn()+500,os(t,n)):rs=Pr(t,n);t:do try{if(Ft!==0&&Vt!==null){n=Vt;var f=fn;e:switch(Ft){case 1:Ft=0,fn=null,us(t,n,f,1);break;case 2:case 9:if(Lm(f)){Ft=0,fn=null,wp(n);break}n=function(){Ft!==2&&Ft!==9||Wt!==t||(Ft=7),ti(t)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Lm(f)?(Ft=0,fn=null,wp(n)):(Ft=0,fn=null,us(t,n,f,7));break;case 5:var v=null;switch(Vt.tag){case 26:v=Vt.memoizedState;case 5:case 27:var E=Vt;if(!v||ly(v)){Ft=0,fn=null;var R=E.sibling;if(R!==null)Vt=R;else{var z=E.return;z!==null?(Vt=z,Ru(z)):Vt=null}break e}}Ft=0,fn=null,us(t,n,f,5);break;case 6:Ft=0,fn=null,us(t,n,f,6);break;case 8:sf(),oe=6;break t;default:throw Error(s(462))}}PE();break}catch(F){Ap(t,F)}while(!0);return bi=ra=null,G.H=l,G.A=c,Gt=r,Vt!==null?0:(Wt=null,xt=0,Qo(),oe)}function PE(){for(;Vt!==null&&!xs();)Rp(Vt)}function Rp(t){var n=Jg(t.alternate,t,Oi);t.memoizedProps=t.pendingProps,n===null?Ru(t):Vt=n}function wp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Qg(r,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Qg(r,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:Ah(n);default:tp(r,n),n=Vt=Cm(n,Oi),n=Jg(r,n,Oi)}t.memoizedProps=t.pendingProps,n===null?Ru(t):Vt=n}function us(t,n,r,l){bi=ra=null,Ah(n),ts=null,El=0;var c=n.return;try{if(RE(t,c,n,r,xt)){oe=1,pu(t,An(r,t.current)),Vt=null;return}}catch(f){if(c!==null)throw Vt=c,f;oe=1,pu(t,An(r,t.current)),Vt=null;return}n.flags&32768?(jt||l===1?t=!0:rs||(xt&536870912)!==0?t=!1:(nr=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Cp(n,t)):Ru(n)}function Ru(t){var n=t;do{if((n.flags&32768)!==0){Cp(n,nr);return}t=n.return;var r=CE(n.alternate,n,Oi);if(r!==null){Vt=r;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);oe===0&&(oe=5)}function Cp(t,n){do{var r=DE(t.alternate,t);if(r!==null){r.flags&=32767,Vt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=r}while(t!==null);oe=6,Vt=null}function Dp(t,n,r,l,c,f,v,E,R){t.cancelPendingCommit=null;do wu();while(Be!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=$c,js(t,r,f,v,E,R),t===Wt&&(Vt=Wt=null,xt=0),ss=n,ar=t,ls=r,nf=f,rf=c,_p=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,jE(Or,function(){return Mp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=rt.p,rt.p=2,v=Gt,Gt|=4;try{VE(t,n,r)}finally{Gt=v,rt.p=c,G.T=l}}Be=1,Vp(),Ip(),Np()}}function Vp(){if(Be===1){Be=0;var t=ar,n=ss,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=rt.p;rt.p=2;var c=Gt;Gt|=4;try{hp(n,t);var f=Ef,v=ym(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&pm(E.ownerDocument.documentElement,E)){if(R!==null&&Qc(E)){var z=R.start,F=R.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var j=B.getSelection(),vt=E.textContent.length,gt=Math.min(R.start,vt),Kt=R.end===void 0?gt:Math.min(R.end,vt);!j.extend&&gt>Kt&&(v=Kt,Kt=gt,gt=v);var x=gm(E,gt),I=gm(E,Kt);if(x&&I&&(j.rangeCount!==1||j.anchorNode!==x.node||j.anchorOffset!==x.offset||j.focusNode!==I.node||j.focusOffset!==I.offset)){var L=X.createRange();L.setStart(x.node,x.offset),j.removeAllRanges(),gt>Kt?(j.addRange(L),j.extend(I.node,I.offset)):(L.setEnd(I.node,I.offset),j.addRange(L))}}}}for(X=[],j=E;j=j.parentNode;)j.nodeType===1&&X.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Q=X[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}zu=!!vf,Ef=vf=null}finally{Gt=c,rt.p=l,G.T=r}}t.current=n,Be=2}}function Ip(){if(Be===2){Be=0;var t=ar,n=ss,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=rt.p;rt.p=2;var c=Gt;Gt|=4;try{lp(t,n.alternate,n)}finally{Gt=c,rt.p=l,G.T=r}}Be=3}}function Np(){if(Be===4||Be===3){Be=0,To();var t=ar,n=ss,r=ls,l=_p;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Be=5:(Be=0,ss=ar=null,Op(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(rr=null),wa(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=rt.p,rt.p=2,G.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var E=l[v];f(E.value,{componentStack:E.stack})}}finally{G.T=n,rt.p=c}}(ls&3)!==0&&wu(),ti(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===af?Vl++:(Vl=0,af=t):Vl=0,Il(0)}}function Op(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ul(n)))}function wu(t){return Vp(),Ip(),Np(),Mp()}function Mp(){if(Be!==5)return!1;var t=ar,n=nf;nf=0;var r=wa(ls),l=G.T,c=rt.p;try{rt.p=32>r?32:r,G.T=null,r=rf,rf=null;var f=ar,v=ls;if(Be=0,ss=ar=null,ls=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,pp(f.current),dp(f,f.current,v,r),Gt=E,Il(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{rt.p=c,G.T=l,Op(t,n)}}function xp(t,n,r){n=An(r,n),n=Ph(t.stateNode,n,2),t=Ki(t,n,2),t!==null&&(ci(t,2),ti(t))}function $t(t,n,r){if(t.tag===3)xp(t,t,r);else for(;n!==null;){if(n.tag===3){xp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rr===null||!rr.has(l))){t=An(r,t),r=zg(2),l=Ki(n,r,2),l!==null&&(Bg(r,l,n,t),ci(l,2),ti(l));break}}n=n.return}}function uf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new OE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Jh=!0,c.add(r),t=LE.bind(null,t,n,r),n.then(t,t))}function LE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Wt===t&&(xt&r)===r&&(oe===4||oe===3&&(xt&62914560)===xt&&300>pn()-ef?(Gt&2)===0&&os(t,0):Wh|=r,as===xt&&(as=0)),ti(t)}function Up(t,n){n===0&&(n=Bs()),t=Ga(t,n),t!==null&&(ci(t,n),ti(t))}function zE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Up(t,r)}function BE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Up(t,r)}function jE(t,n){return Ir(t,n)}var Cu=null,cs=null,cf=!1,Du=!1,hf=!1,ha=0;function ti(t){t!==cs&&t.next===null&&(cs===null?Cu=cs=t:cs=cs.next=t),Du=!0,cf||(cf=!0,qE())}function Il(t,n){if(!hf&&Du){hf=!0;do for(var r=!1,l=Cu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var v=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ge(42|t)+1)-1,f&=c&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Bp(l,f))}else f=xt,f=Ra(l,l===Wt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Pr(l,f)||(r=!0,Bp(l,f));l=l.next}while(r);hf=!1}}function kE(){Pp()}function Pp(){Du=cf=!1;var t=0;ha!==0&&(ZE()&&(t=ha),ha=0);for(var n=pn(),r=null,l=Cu;l!==null;){var c=l.next,f=Lp(l,n);f===0?(l.next=null,r===null?Cu=c:r.next=c,c===null&&(cs=r)):(r=l,(t!==0||(f&3)!==0)&&(Du=!0)),l=c}Il(t)}function Lp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Ge(f),E=1<<v,R=c[v];R===-1?((E&r)===0||(E&l)!==0)&&(c[v]=Ls(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=Wt,r=xt,r=Ra(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Nr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Pr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Nr(l),wa(r)){case 2:case 8:r=Sa;break;case 32:r=Or;break;case 268435456:r=ba;break;default:r=Or}return l=zp.bind(null,t),r=Ir(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Nr(l),t.callbackPriority=2,t.callbackNode=null,2}function zp(t,n){if(Be!==0&&Be!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(wu()&&t.callbackNode!==r)return null;var l=xt;return l=Ra(t,t===Wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ep(t,l,n),Lp(t,pn()),t.callbackNode!=null&&t.callbackNode===r?zp.bind(null,t):null)}function Bp(t,n){if(wu())return null;Ep(t,n,!0)}function qE(){JE(function(){(Gt&6)!==0?Ir(Us,kE):Pp()})}function ff(){return ha===0&&(ha=zs()),ha}function jp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Oa(""+t)}function kp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function HE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=jp((c[me]||null).action),v=l.submitter;v&&(n=(n=v[me]||null)?jp(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new Ma("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ha!==0){var R=v?kp(c,v):new FormData(c);Nh(r,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=v?kp(c,v):new FormData(c),Nh(r,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var df=0;df<Zc.length;df++){var mf=Zc[df],GE=mf.toLowerCase(),FE=mf[0].toUpperCase()+mf.slice(1);Mn(GE,"on"+FE)}Mn(Em,"onAnimationEnd"),Mn(Tm,"onAnimationIteration"),Mn(Am,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(oE,"onTransitionRun"),Mn(uE,"onTransitionStart"),Mn(cE,"onTransitionCancel"),Mn(Sm,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function qp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(F){gu(F)}c.currentTarget=null,f=R}else for(v=0;v<l.length;v++){if(E=l[v],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(F){gu(F)}c.currentTarget=null,f=R}}}}function It(t,n){var r=n[qs];r===void 0&&(r=n[qs]=new Set);var l=t+"__bubble";r.has(l)||(Hp(n,t,2,!1),r.add(l))}function gf(t,n,r){var l=0;n&&(l|=4),Hp(r,t,l,n)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function pf(t){if(!t[Vu]){t[Vu]=!0,Hs.forEach(function(r){r!=="selectionchange"&&(QE.has(r)||gf(r,!1,t),gf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Vu]||(n[Vu]=!0,gf("selectionchange",!1,n))}}function Hp(t,n,r,l){switch(dy(n)){case 2:var c=vT;break;case 8:c=ET;break;default:c=If}r=c.bind(null,n,r,t),c=void 0,!En||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function yf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===c)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;E!==null;){if(v=hi(E),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=f=v;continue t}E=E.parentNode}}l=l.return}No(function(){var z=f,F=vn(r),X=[];t:{var B=bm.get(t);if(B!==void 0){var j=Ma,vt=t;switch(t){case"keypress":if(Fn(r)===0)break t;case"keydown":case"keyup":j=Ba;break;case"focusin":vt="focus",j=Pa;break;case"focusout":vt="blur",j=Pa;break;case"beforeblur":case"afterblur":j=Pa;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=qc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Bo;break;case Em:case Tm:case Am:j=La;break;case Sm:j=ko;break;case"scroll":case"scrollend":j=Oo;break;case"wheel":j=ja;break;case"copy":case"cut":case"paste":j=za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=el;break;case"toggle":case"beforetoggle":j=Ho}var gt=(n&4)!==0,Kt=!gt&&(t==="scroll"||t==="scrollend"),x=gt?B!==null?B+"Capture":null:B;gt=[];for(var I=z,L;I!==null;){var Q=I;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||x===null||(Q=Gr(I,x),Q!=null&&gt.push(Ol(I,Q,L))),Kt)break;I=I.return}0<gt.length&&(B=new j(B,vt,null,r,F),X.push({event:B,listeners:gt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",B&&r!==gi&&(vt=r.relatedTarget||r.fromElement)&&(hi(vt)||vt[yn]))break t;if((j||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,j?(vt=r.relatedTarget||r.toElement,j=z,vt=vt?hi(vt):null,vt!==null&&(Kt=h(vt),gt=vt.tag,vt!==Kt||gt!==5&&gt!==27&&gt!==6)&&(vt=null)):(j=null,vt=z),j!==vt)){if(gt=Tn,Q="onMouseLeave",x="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(gt=el,Q="onPointerLeave",x="onPointerEnter",I="pointer"),Kt=j==null?B:kn(j),L=vt==null?B:kn(vt),B=new gt(Q,I+"leave",j,r,F),B.target=Kt,B.relatedTarget=L,Q=null,hi(F)===z&&(gt=new gt(x,I+"enter",vt,r,F),gt.target=L,gt.relatedTarget=Kt,Q=gt),Kt=Q,j&&vt)e:{for(gt=j,x=vt,I=0,L=gt;L;L=hs(L))I++;for(L=0,Q=x;Q;Q=hs(Q))L++;for(;0<I-L;)gt=hs(gt),I--;for(;0<L-I;)x=hs(x),L--;for(;I--;){if(gt===x||x!==null&&gt===x.alternate)break e;gt=hs(gt),x=hs(x)}gt=null}else gt=null;j!==null&&Gp(X,B,j,gt,!1),vt!==null&&Kt!==null&&Gp(X,Kt,vt,gt,!0)}}t:{if(B=z?kn(z):window,j=B.nodeName&&B.nodeName.toLowerCase(),j==="select"||j==="input"&&B.type==="file")var ot=um;else if(Se(B))if(cm)ot=aE;else{ot=iE;var Dt=nE}else j=B.nodeName,!j||j.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Xs(z.elementType)&&(ot=um):ot=rE;if(ot&&(ot=ot(t,z))){Ei(X,ot,r,F);break t}Dt&&Dt(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Gi(B,"number",B.value)}switch(Dt=z?kn(z):window,t){case"focusin":(Se(Dt)||Dt.contentEditable==="true")&&(ka=Dt,Yc=z,rl=null);break;case"focusout":rl=Yc=ka=null;break;case"mousedown":Xc=!0;break;case"contextmenu":case"mouseup":case"dragend":Xc=!1,_m(X,r,F);break;case"selectionchange":if(lE)break;case"keydown":case"keyup":_m(X,r,F)}var ht;if(Xn)t:{switch(t){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Ot?q(t,r)&&(pt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(pt="onCompositionStart");pt&&(y&&r.locale!=="ko"&&(Ot||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Ot&&(ht=Zs()):(Gn=F,Fi="value"in Gn?Gn.value:Gn.textContent,Ot=!0)),Dt=Iu(z,pt),0<Dt.length&&(pt=new Ws(pt,t,null,r,F),X.push({event:pt,listeners:Dt}),ht?pt.data=ht:(ht=et(r),ht!==null&&(pt.data=ht)))),(ht=m?Ae(t,r):Mt(t,r))&&(pt=Iu(z,"onBeforeInput"),0<pt.length&&(Dt=new Ws("onBeforeInput","beforeinput",null,r,F),X.push({event:Dt,listeners:pt}),Dt.data=ht)),HE(X,t,z,r,F)}qp(X,n)})}function Ol(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Iu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Gr(t,r),c!=null&&l.unshift(Ol(t,c,f)),c=Gr(t,n),c!=null&&l.push(Ol(t,c,f))),t.tag===3)return l;t=t.return}return[]}function hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Gp(t,n,r,l,c){for(var f=n._reactName,v=[];r!==null&&r!==l;){var E=r,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||z===null||(R=z,c?(z=Gr(r,f),z!=null&&v.unshift(Ol(r,z,R))):c||(z=Gr(r,f),z!=null&&v.push(Ol(r,z,R)))),r=r.return}v.length!==0&&t.push({event:n,listeners:v})}var YE=/\r\n?/g,XE=/\u0000|\uFFFD/g;function Fp(t){return(typeof t=="string"?t:""+t).replace(YE,`
`).replace(XE,"")}function Qp(t,n){return n=Fp(n),Fp(t)===n}function Nu(){}function Xt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(t,""+l);break;case"className":qn(t,"class",l);break;case"tabIndex":qn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(t,r,l);break;case"style":Ys(t,l,f);break;case"data":if(n!=="object"){qn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Oa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Xt(t,n,"name",c.name,c,null),Xt(t,n,"formEncType",c.formEncType,c,null),Xt(t,n,"formMethod",c.formMethod,c,null),Xt(t,n,"formTarget",c.formTarget,c,null)):(Xt(t,n,"encType",c.encType,c,null),Xt(t,n,"method",c.method,c,null),Xt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Oa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Nu);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Oa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":It("beforetoggle",t),It("toggle",t),Hi(t,"popover",l);break;case"xlinkActuate":Pe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Hi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=jc.get(r)||r,Hi(t,r,l))}}function _f(t,n,r,l,c,f){switch(r){case"style":Ys(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Nu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ca.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[me]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Hi(t,r,l)}}}function je(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var v=r[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,f,v,r,null)}}c&&Xt(t,n,"srcSet",r.srcSet,r,null),l&&Xt(t,n,"src",r.src,r,null);return;case"input":It("invalid",t);var E=f=v=c=null,R=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var F=r[l];if(F!=null)switch(l){case"name":c=F;break;case"type":v=F;break;case"checked":R=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:Xt(t,n,l,F,r,null)}}kr(t,f,E,R,z,v,c,!1),Na(t);return;case"select":It("invalid",t),l=v=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Xt(t,n,c,E,r,null)}n=f,r=v,t.multiple=!!l,n!=null?mi(t,!!l,n,!1):r!=null&&mi(t,!!l,r,!0);return;case"textarea":It("invalid",t),f=c=l=null;for(v in r)if(r.hasOwnProperty(v)&&(E=r[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Xt(t,n,v,E,r,null)}qr(t,l,c,f),Na(t);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(t,n,R,l,r,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)It(Nl[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,z,l,r,null)}return;default:if(Xs(n)){for(F in r)r.hasOwnProperty(F)&&(l=r[F],l!==void 0&&_f(t,n,F,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Xt(t,n,E,l,r,null))}function KE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,v=null,E=null,R=null,z=null,F=null;for(j in r){var X=r[j];if(r.hasOwnProperty(j)&&X!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":R=X;default:l.hasOwnProperty(j)||Xt(t,n,j,null,l,X)}}for(var B in l){var j=l[B];if(X=r[B],l.hasOwnProperty(B)&&(j!=null||X!=null))switch(B){case"type":f=j;break;case"name":c=j;break;case"checked":z=j;break;case"defaultChecked":F=j;break;case"value":v=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:j!==X&&Xt(t,n,B,j,l,X)}}ln(t,v,E,R,z,F,f,c);return;case"select":j=v=E=B=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":j=R;default:l.hasOwnProperty(f)||Xt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=r[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==R&&Xt(t,n,c,f,l,R)}n=E,r=v,l=j,B!=null?mi(t,!!r,B,!1):!!l!=!!r&&(n!=null?mi(t,!!r,n,!0):mi(t,!!r,r?[]:"",!1));return;case"textarea":j=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(t,n,E,null,l,c)}for(v in l)if(c=l[v],f=r[v],l.hasOwnProperty(v)&&(c!=null||f!=null))switch(v){case"value":B=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Xt(t,n,v,c,l,f)}Qt(t,B,j);return;case"option":for(var vt in r)if(B=r[vt],r.hasOwnProperty(vt)&&B!=null&&!l.hasOwnProperty(vt))switch(vt){case"selected":t.selected=!1;break;default:Xt(t,n,vt,null,l,B)}for(R in l)if(B=l[R],j=r[R],l.hasOwnProperty(R)&&B!==j&&(B!=null||j!=null))switch(R){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Xt(t,n,R,B,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)B=r[gt],r.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt)&&Xt(t,n,gt,null,l,B);for(z in l)if(B=l[z],j=r[z],l.hasOwnProperty(z)&&B!==j&&(B!=null||j!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Xt(t,n,z,B,l,j)}return;default:if(Xs(n)){for(var Kt in r)B=r[Kt],r.hasOwnProperty(Kt)&&B!==void 0&&!l.hasOwnProperty(Kt)&&_f(t,n,Kt,void 0,l,B);for(F in l)B=l[F],j=r[F],!l.hasOwnProperty(F)||B===j||B===void 0&&j===void 0||_f(t,n,F,B,l,j);return}}for(var x in r)B=r[x],r.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Xt(t,n,x,null,l,B);for(X in l)B=l[X],j=r[X],!l.hasOwnProperty(X)||B===j||B==null&&j==null||Xt(t,n,X,B,l,j)}var vf=null,Ef=null;function Ou(t){return t.nodeType===9?t:t.ownerDocument}function Yp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Tf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Af=null;function ZE(){var t=window.event;return t&&t.type==="popstate"?t===Af?!1:(Af=t,!0):(Af=null,!1)}var Kp=typeof setTimeout=="function"?setTimeout:void 0,$E=typeof clearTimeout=="function"?clearTimeout:void 0,Zp=typeof Promise=="function"?Promise:void 0,JE=typeof queueMicrotask=="function"?queueMicrotask:typeof Zp<"u"?function(t){return Zp.resolve(null).then(t).catch(WE)}:Kp;function WE(t){setTimeout(function(){throw t})}function lr(t){return t==="head"}function $p(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var v=t.ownerDocument;if(r&1&&Ml(v.documentElement),r&2&&Ml(v.body),r&4)for(r=v.head,Ml(r),v=r.firstChild;v;){var E=v.nextSibling,R=v.nodeName;v[Lr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||r.removeChild(v),v=E}}if(c===0){t.removeChild(f),kl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);kl(n)}function Sf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Sf(r),qi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function tT(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Lr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function eT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Un(t.nextSibling),t===null))return null;return t}function bf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function nT(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Rf=null;function Jp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Wp(t,n,r){switch(n=Ou(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ml(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);qi(t)}var Dn=new Map,ty=new Set;function Mu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Mi=rt.d;rt.d={f:iT,r:rT,D:aT,C:sT,L:lT,m:oT,X:cT,S:uT,M:hT};function iT(){var t=Mi.f(),n=bu();return t||n}function rT(t){var n=jn(t);n!==null&&n.tag===5&&n.type==="form"?Eg(n):Mi.r(t)}var fs=typeof document>"u"?null:document;function ey(t,n,r){var l=fs;if(l&&typeof n=="string"&&n){var c=ge(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),ty.has(c)||(ty.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),je(n,"link",t),ue(n),l.head.appendChild(n)))}}function aT(t){Mi.D(t),ey("dns-prefetch",t,null)}function sT(t,n){Mi.C(t,n),ey("preconnect",t,n)}function lT(t,n,r){Mi.L(t,n,r);var l=fs;if(l&&t&&n){var c='link[rel="preload"][as="'+ge(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ge(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ge(r.imageSizes)+'"]')):c+='[href="'+ge(t)+'"]';var f=c;switch(n){case"style":f=ds(t);break;case"script":f=ms(t)}Dn.has(f)||(t=T({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Dn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(xl(f))||n==="script"&&l.querySelector(Ul(f))||(n=l.createElement("link"),je(n,"link",t),ue(n),l.head.appendChild(n)))}}function oT(t,n){Mi.m(t,n);var r=fs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ge(l)+'"][href="'+ge(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ms(t)}if(!Dn.has(f)&&(t=T({rel:"modulepreload",href:t},n),Dn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ul(f)))return}l=r.createElement("link"),je(l,"link",t),ue(l),r.head.appendChild(l)}}}function uT(t,n,r){Mi.S(t,n,r);var l=fs;if(l&&t){var c=Ze(l).hoistableStyles,f=ds(t);n=n||"default";var v=c.get(f);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(xl(f)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Dn.get(f))&&wf(t,r);var R=v=l.createElement("link");ue(R),je(R,"link",t),R._p=new Promise(function(z,F){R.onload=z,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,xu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},c.set(f,v)}}}function cT(t,n){Mi.X(t,n);var r=fs;if(r&&t){var l=Ze(r).hoistableScripts,c=ms(t),f=l.get(c);f||(f=r.querySelector(Ul(c)),f||(t=T({src:t,async:!0},n),(n=Dn.get(c))&&Cf(t,n),f=r.createElement("script"),ue(f),je(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function hT(t,n){Mi.M(t,n);var r=fs;if(r&&t){var l=Ze(r).hoistableScripts,c=ms(t),f=l.get(c);f||(f=r.querySelector(Ul(c)),f||(t=T({src:t,async:!0,type:"module"},n),(n=Dn.get(c))&&Cf(t,n),f=r.createElement("script"),ue(f),je(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ny(t,n,r,l){var c=(c=Et.current)?Mu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ds(r.href),r=Ze(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ds(r.href);var f=Ze(c).hoistableStyles,v=f.get(t);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=c.querySelector(xl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Dn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Dn.set(t,r),f||fT(c,t,r,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ms(r),r=Ze(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ds(t){return'href="'+ge(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function iy(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function fT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),je(n,"link",r),ue(n),t.head.appendChild(n))}function ms(t){return'[src="'+ge(t)+'"]'}function Ul(t){return"script[async]"+t}function ry(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ge(r.href)+'"]');if(l)return n.instance=l,ue(l),l;var c=T({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ue(l),je(l,"style",c),xu(l,r.precedence,t),n.instance=l;case"stylesheet":c=ds(r.href);var f=t.querySelector(xl(c));if(f)return n.state.loading|=4,n.instance=f,ue(f),f;l=iy(r),(c=Dn.get(c))&&wf(l,c),f=(t.ownerDocument||t).createElement("link"),ue(f);var v=f;return v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),je(f,"link",l),n.state.loading|=4,xu(f,r.precedence,t),n.instance=f;case"script":return f=ms(r.src),(c=t.querySelector(Ul(f)))?(n.instance=c,ue(c),c):(l=r,(c=Dn.get(f))&&(l=T({},r),Cf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ue(c),je(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,xu(l,r.precedence,t));return n.instance}function xu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function wf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Uu=null;function ay(t,n,r){if(Uu===null){var l=new Map,c=Uu=new Map;c.set(r,l)}else c=Uu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Lr]||f[Te]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var E=l.get(v);E?E.push(f):l.set(v,[f])}}return l}function sy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function dT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ly(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Pl=null;function mT(){}function gT(t,n,r){if(Pl===null)throw Error(s(475));var l=Pl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ds(r.href),f=t.querySelector(xl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Pu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ue(f);return}f=t.ownerDocument||t,r=iy(r),(c=Dn.get(c))&&wf(r,c),f=f.createElement("link"),ue(f);var v=f;v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),je(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Pu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function pT(){if(Pl===null)throw Error(s(475));var t=Pl;return t.stylesheets&&t.count===0&&Df(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Df(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Pu(){if(this.count--,this.count===0){if(this.stylesheets)Df(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lu=null;function Df(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lu=new Map,n.forEach(yT,t),Lu=null,Pu.call(t))}function yT(t,n){if(!(n.state.loading&4)){var r=Lu.get(t);if(r)var l=r.get(null);else{r=new Map,Lu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var v=c[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}c=n.instance,v=c.getAttribute("data-precedence"),f=r.get(v)||l,f===l&&r.set(null,c),r.set(v,c),this.count++,l=Pu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ll={$$typeof:it,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function _T(t,n,r,l,c,f,v,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function oy(t,n,r,l,c,f,v,E,R,z,F,X){return t=new _T(t,n,r,v,E,R,z,X),n=1,f===!0&&(n|=24),f=un(3,null,null,n),t.current=f,f.stateNode=t,n=oh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},fh(f),t}function uy(t){return t?(t=Fa,t):Fa}function cy(t,n,r,l,c,f){c=uy(c),l.context===null?l.context=c:l.pendingContext=c,l=Xi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Ki(t,l,n),r!==null&&(mn(r,t,n),dl(r,t,n))}function hy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Vf(t,n){hy(t,n),(t=t.alternate)&&hy(t,n)}function fy(t){if(t.tag===13){var n=Ga(t,67108864);n!==null&&mn(n,t,67108864),Vf(t,67108864)}}var zu=!0;function vT(t,n,r,l){var c=G.T;G.T=null;var f=rt.p;try{rt.p=2,If(t,n,r,l)}finally{rt.p=f,G.T=c}}function ET(t,n,r,l){var c=G.T;G.T=null;var f=rt.p;try{rt.p=8,If(t,n,r,l)}finally{rt.p=f,G.T=c}}function If(t,n,r,l){if(zu){var c=Nf(l);if(c===null)yf(t,n,l,Bu,r),my(t,l);else if(AT(c,t,n,r,l))l.stopPropagation();else if(my(t,l),n&4&&-1<TT.indexOf(t)){for(;c!==null;){var f=jn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=In(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var R=1<<31-Ge(v);E.entanglements[1]|=R,v&=~R}ti(f),(Gt&6)===0&&(Au=pn()+500,Il(0))}}break;case 13:E=Ga(f,2),E!==null&&mn(E,f,2),bu(),Vf(f,2)}if(f=Nf(l),f===null&&yf(t,n,l,Bu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else yf(t,n,l,null,r)}}function Nf(t){return t=vn(t),Of(t)}var Bu=null;function Of(t){if(Bu=null,t=hi(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Bu=t,null}function dy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xc()){case Us:return 2;case Sa:return 8;case Or:case Uc:return 32;case ba:return 268435456;default:return 32}default:return 32}}var Mf=!1,or=null,ur=null,cr=null,zl=new Map,Bl=new Map,hr=[],TT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function my(t,n){switch(t){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":zl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(n.pointerId)}}function jl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=jn(n),n!==null&&fy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function AT(t,n,r,l,c){switch(n){case"focusin":return or=jl(or,t,n,r,l,c),!0;case"dragenter":return ur=jl(ur,t,n,r,l,c),!0;case"mouseover":return cr=jl(cr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return zl.set(f,jl(zl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Bl.set(f,jl(Bl.get(f)||null,t,n,r,l,c)),!0}return!1}function gy(t){var n=hi(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,bo(t.priority,function(){if(r.tag===13){var l=dn();l=Bi(l);var c=Ga(r,l);c!==null&&mn(c,r,l),Vf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ju(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Nf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);gi=l,r.target.dispatchEvent(l),gi=null}else return n=jn(r),n!==null&&fy(n),t.blockedOn=r,!1;n.shift()}return!0}function py(t,n,r){ju(t)&&r.delete(n)}function ST(){Mf=!1,or!==null&&ju(or)&&(or=null),ur!==null&&ju(ur)&&(ur=null),cr!==null&&ju(cr)&&(cr=null),zl.forEach(py),Bl.forEach(py)}function ku(t,n){t.blockedOn===n&&(t.blockedOn=null,Mf||(Mf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,ST)))}var qu=null;function yy(t){qu!==t&&(qu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){qu===t&&(qu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Of(l||r)===null)continue;break}var f=jn(r);f!==null&&(t.splice(n,3),n-=3,Nh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function kl(t){function n(R){return ku(R,t)}or!==null&&ku(or,t),ur!==null&&ku(ur,t),cr!==null&&ku(cr,t),zl.forEach(n),Bl.forEach(n);for(var r=0;r<hr.length;r++){var l=hr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<hr.length&&(r=hr[0],r.blockedOn===null);)gy(r),r.blockedOn===null&&hr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],v=c[me]||null;if(typeof f=="function")v||yy(r);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,v=f[me]||null)E=v.formAction;else if(Of(c)!==null)continue}else E=v.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),yy(r)}}}function xf(t){this._internalRoot=t}Hu.prototype.render=xf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=dn();cy(r,l,t,n,null,null)},Hu.prototype.unmount=xf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;cy(t.current,2,null,t,null,null),bu(),n[yn]=null}};function Hu(t){this._internalRoot=t}Hu.prototype.unstable_scheduleHydration=function(t){if(t){var n=ji();t={blockedOn:null,target:t,priority:n};for(var r=0;r<hr.length&&n!==0&&n<hr[r].priority;r++);hr.splice(r,0,t),r===0&&gy(t)}};var _y=e.version;if(_y!=="19.1.1")throw Error(s(527,_y,"19.1.1"));rt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var bT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{se=Gu.inject(bT),Ht=Gu}catch{}}return Hl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=xg,f=Ug,v=Pg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=oy(t,1,!1,null,null,r,l,c,f,v,E,null),t[yn]=n.current,pf(t),new xf(n)},Hl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",f=xg,v=Ug,E=Pg,R=null,z=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(z=r.formState)),n=oy(t,1,!0,n,r??null,l,c,f,v,E,R,z),n.context=uy(null),r=n.current,l=dn(),l=Bi(l),c=Xi(l),c.callback=null,Ki(r,c,l),r=l,n.current.lanes=r,ci(n,r),ti(n),t[yn]=n.current,pf(t),new Hu(n)},Hl.version="19.1.1",Hl}var Dy;function PT(){if(Dy)return Lf.exports;Dy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Lf.exports=UT(),Lf.exports}var LT=PT();const zT=X_(LT);K_();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wl(){return Wl=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])}return a},Wl.apply(this,arguments)}var dr;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(dr||(dr={}));const Vy="popstate";function BT(a){a===void 0&&(a={});function e(o,h){let{pathname:d="/",search:g="",hash:p=""}=va(o.location.hash.substr(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Zf("",{pathname:d,search:g,hash:p},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function i(o,h){let d=o.document.querySelector("base"),g="";if(d&&d.getAttribute("href")){let p=o.location.href,_=p.indexOf("#");g=_===-1?p:p.slice(0,_)}return g+"#"+(typeof h=="string"?h:Z_(h))}function s(o,h){Sd(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(h)+")")}return kT(e,i,s,a)}function Ee(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function Sd(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jT(){return Math.random().toString(36).substr(2,8)}function Iy(a,e){return{usr:a.state,key:a.key,idx:e}}function Zf(a,e,i,s){return i===void 0&&(i=null),Wl({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof e=="string"?va(e):e,{state:i,key:e&&e.key||s||jT()})}function Z_(a){let{pathname:e="/",search:i="",hash:s=""}=a;return i&&i!=="?"&&(e+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function va(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substr(i),a=a.substr(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substr(s),a=a.substr(0,s)),a&&(e.pathname=a)}return e}function kT(a,e,i,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:h=!1}=s,d=o.history,g=dr.Pop,p=null,_=T();_==null&&(_=0,d.replaceState(Wl({},d.state,{idx:_}),""));function T(){return(d.state||{idx:null}).idx}function S(){g=dr.Pop;let H=T(),ct=H==null?null:H-_;_=H,p&&p({action:g,location:J.location,delta:ct})}function w(H,ct){g=dr.Push;let W=Zf(J.location,H,ct);i&&i(W,H),_=T()+1;let it=Iy(W,_),St=J.createHref(W);try{d.pushState(it,"",St)}catch(_t){if(_t instanceof DOMException&&_t.name==="DataCloneError")throw _t;o.location.assign(St)}h&&p&&p({action:g,location:J.location,delta:1})}function k(H,ct){g=dr.Replace;let W=Zf(J.location,H,ct);i&&i(W,H),_=T();let it=Iy(W,_),St=J.createHref(W);d.replaceState(it,"",St),h&&p&&p({action:g,location:J.location,delta:0})}function Y(H){let ct=o.location.origin!=="null"?o.location.origin:o.location.href,W=typeof H=="string"?H:Z_(H);return W=W.replace(/ $/,"%20"),Ee(ct,"No window.location.(origin|href) available to create URL for href: "+W),new URL(W,ct)}let J={get action(){return g},get location(){return a(o,d)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Vy,S),p=H,()=>{o.removeEventListener(Vy,S),p=null}},createHref(H){return e(o,H)},createURL:Y,encodeLocation(H){let ct=Y(H);return{pathname:ct.pathname,search:ct.search,hash:ct.hash}},push:w,replace:k,go(H){return d.go(H)}};return J}var Ny;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(Ny||(Ny={}));function qT(a,e,i){return i===void 0&&(i="/"),HT(a,e,i)}function HT(a,e,i,s){let o=typeof e=="string"?va(e):e,h=W_(o.pathname||"/",i);if(h==null)return null;let d=$_(a);GT(d);let g=null;for(let p=0;g==null&&p<d.length;++p){let _=n1(h);g=WT(d[p],_)}return g}function $_(a,e,i,s){e===void 0&&(e=[]),i===void 0&&(i=[]),s===void 0&&(s="");let o=(h,d,g)=>{let p={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};p.relativePath.startsWith("/")&&(Ee(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let _=ma([s,p.relativePath]),T=i.concat(p);h.children&&h.children.length>0&&(Ee(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),$_(h.children,e,T,_)),!(h.path==null&&!h.index)&&e.push({path:_,score:$T(_,h.index),routesMeta:T})};return a.forEach((h,d)=>{var g;if(h.path===""||!((g=h.path)!=null&&g.includes("?")))o(h,d);else for(let p of J_(h.path))o(h,d,p)}),e}function J_(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),h=i.replace(/\?$/,"");if(s.length===0)return o?[h,""]:[h];let d=J_(s.join("/")),g=[];return g.push(...d.map(p=>p===""?h:[h,p].join("/"))),o&&g.push(...d),g.map(p=>a.startsWith("/")&&p===""?"/":p)}function GT(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:JT(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}const FT=/^:[\w-]+$/,QT=3,YT=2,XT=1,KT=10,ZT=-2,Oy=a=>a==="*";function $T(a,e){let i=a.split("/"),s=i.length;return i.some(Oy)&&(s+=ZT),e&&(s+=YT),i.filter(o=>!Oy(o)).reduce((o,h)=>o+(FT.test(h)?QT:h===""?XT:KT),s)}function JT(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function WT(a,e,i){let{routesMeta:s}=a,o={},h="/",d=[];for(let g=0;g<s.length;++g){let p=s[g],_=g===s.length-1,T=h==="/"?e:e.slice(h.length)||"/",S=t1({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},T),w=p.route;if(!S)return null;Object.assign(o,S.params),d.push({params:o,pathname:ma([h,S.pathname]),pathnameBase:s1(ma([h,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(h=ma([h,S.pathnameBase]))}return d}function t1(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=e1(a.path,a.caseSensitive,a.end),o=e.match(i);if(!o)return null;let h=o[0],d=h.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((_,T,S)=>{let{paramName:w,isOptional:k}=T;if(w==="*"){let J=g[S]||"";d=h.slice(0,h.length-J.length).replace(/(.)\/+$/,"$1")}const Y=g[S];return k&&!Y?_[w]=void 0:_[w]=(Y||"").replace(/%2F/g,"/"),_},{}),pathname:h,pathnameBase:d,pattern:a}}function e1(a,e,i){e===void 0&&(e=!1),i===void 0&&(i=!0),Sd(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,p)=>(s.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function n1(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sd(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),a}}function W_(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}function i1(a,e){e===void 0&&(e="/");let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?va(a):a;return{pathname:i?i.startsWith("/")?i:r1(i,e):e,search:l1(s),hash:o1(o)}}function r1(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function kf(a,e,i,s){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function a1(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function tv(a,e){let i=a1(a);return e?i.map((s,o)=>o===i.length-1?s.pathname:s.pathnameBase):i.map(s=>s.pathnameBase)}function ev(a,e,i,s){s===void 0&&(s=!1);let o;typeof a=="string"?o=va(a):(o=Wl({},a),Ee(!o.pathname||!o.pathname.includes("?"),kf("?","pathname","search",o)),Ee(!o.pathname||!o.pathname.includes("#"),kf("#","pathname","hash",o)),Ee(!o.search||!o.search.includes("#"),kf("#","search","hash",o)));let h=a===""||o.pathname==="",d=h?"/":o.pathname,g;if(d==null)g=i;else{let S=e.length-1;if(!s&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}g=S>=0?e[S]:"/"}let p=i1(o,g),_=d&&d!=="/"&&d.endsWith("/"),T=(h||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(_||T)&&(p.pathname+="/"),p}const ma=a=>a.join("/").replace(/\/\/+/g,"/"),s1=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),l1=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,o1=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function u1(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const nv=["post","put","patch","delete"];new Set(nv);const c1=["get",...nv];new Set(c1);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function to(){return to=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])}return a},to.apply(this,arguments)}const bd=st.createContext(null),h1=st.createContext(null),ho=st.createContext(null),gc=st.createContext(null),Ea=st.createContext({outlet:null,matches:[],isDataRoute:!1}),iv=st.createContext(null);function fo(){return st.useContext(gc)!=null}function Rd(){return fo()||Ee(!1),st.useContext(gc).location}function rv(a){st.useContext(ho).static||st.useLayoutEffect(a)}function wd(){let{isDataRoute:a}=st.useContext(Ea);return a?b1():f1()}function f1(){fo()||Ee(!1);let a=st.useContext(bd),{basename:e,future:i,navigator:s}=st.useContext(ho),{matches:o}=st.useContext(Ea),{pathname:h}=Rd(),d=JSON.stringify(tv(o,i.v7_relativeSplatPath)),g=st.useRef(!1);return rv(()=>{g.current=!0}),st.useCallback(function(_,T){if(T===void 0&&(T={}),!g.current)return;if(typeof _=="number"){s.go(_);return}let S=ev(_,JSON.parse(d),h,T.relative==="path");a==null&&e!=="/"&&(S.pathname=S.pathname==="/"?e:ma([e,S.pathname])),(T.replace?s.replace:s.push)(S,T.state,T)},[e,s,d,h,a])}function d1(a,e){return m1(a,e)}function m1(a,e,i,s){fo()||Ee(!1);let{navigator:o}=st.useContext(ho),{matches:h}=st.useContext(Ea),d=h[h.length-1],g=d?d.params:{};d&&d.pathname;let p=d?d.pathnameBase:"/";d&&d.route;let _=Rd(),T;if(e){var S;let H=typeof e=="string"?va(e):e;p==="/"||(S=H.pathname)!=null&&S.startsWith(p)||Ee(!1),T=H}else T=_;let w=T.pathname||"/",k=w;if(p!=="/"){let H=p.replace(/^\//,"").split("/");k="/"+w.replace(/^\//,"").split("/").slice(H.length).join("/")}let Y=qT(a,{pathname:k}),J=v1(Y&&Y.map(H=>Object.assign({},H,{params:Object.assign({},g,H.params),pathname:ma([p,o.encodeLocation?o.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?p:ma([p,o.encodeLocation?o.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),h,i,s);return e&&J?st.createElement(gc.Provider,{value:{location:to({pathname:"/",search:"",hash:"",state:null,key:"default"},T),navigationType:dr.Pop}},J):J}function g1(){let a=S1(),e=u1(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return st.createElement(st.Fragment,null,st.createElement("h2",null,"Unexpected Application Error!"),st.createElement("h3",{style:{fontStyle:"italic"}},e),i?st.createElement("pre",{style:o},i):null,null)}const p1=st.createElement(g1,null);class y1 extends st.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,i){return i.location!==e.location||i.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:i.error,location:i.location,revalidation:e.revalidation||i.revalidation}}componentDidCatch(e,i){console.error("React Router caught the following error during render",e,i)}render(){return this.state.error!==void 0?st.createElement(Ea.Provider,{value:this.props.routeContext},st.createElement(iv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _1(a){let{routeContext:e,match:i,children:s}=a,o=st.useContext(bd);return o&&o.static&&o.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=i.route.id),st.createElement(Ea.Provider,{value:e},s)}function v1(a,e,i,s){var o;if(e===void 0&&(e=[]),i===void 0&&(i=null),s===void 0&&(s=null),a==null){var h;if(!i)return null;if(i.errors)a=i.matches;else if((h=s)!=null&&h.v7_partialHydration&&e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let d=a,g=(o=i)==null?void 0:o.errors;if(g!=null){let T=d.findIndex(S=>S.route.id&&(g==null?void 0:g[S.route.id])!==void 0);T>=0||Ee(!1),d=d.slice(0,Math.min(d.length,T+1))}let p=!1,_=-1;if(i&&s&&s.v7_partialHydration)for(let T=0;T<d.length;T++){let S=d[T];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(_=T),S.route.id){let{loaderData:w,errors:k}=i,Y=S.route.loader&&w[S.route.id]===void 0&&(!k||k[S.route.id]===void 0);if(S.route.lazy||Y){p=!0,_>=0?d=d.slice(0,_+1):d=[d[0]];break}}}return d.reduceRight((T,S,w)=>{let k,Y=!1,J=null,H=null;i&&(k=g&&S.route.id?g[S.route.id]:void 0,J=S.route.errorElement||p1,p&&(_<0&&w===0?(R1("route-fallback"),Y=!0,H=null):_===w&&(Y=!0,H=S.route.hydrateFallbackElement||null)));let ct=e.concat(d.slice(0,w+1)),W=()=>{let it;return k?it=J:Y?it=H:S.route.Component?it=st.createElement(S.route.Component,null):S.route.element?it=S.route.element:it=T,st.createElement(_1,{match:S,routeContext:{outlet:T,matches:ct,isDataRoute:i!=null},children:it})};return i&&(S.route.ErrorBoundary||S.route.errorElement||w===0)?st.createElement(y1,{location:i.location,revalidation:i.revalidation,component:J,error:k,children:W(),routeContext:{outlet:null,matches:ct,isDataRoute:!0}}):W()},null)}var av=(function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a})(av||{}),sv=(function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a})(sv||{});function E1(a){let e=st.useContext(bd);return e||Ee(!1),e}function T1(a){let e=st.useContext(h1);return e||Ee(!1),e}function A1(a){let e=st.useContext(Ea);return e||Ee(!1),e}function lv(a){let e=A1(),i=e.matches[e.matches.length-1];return i.route.id||Ee(!1),i.route.id}function S1(){var a;let e=st.useContext(iv),i=T1(),s=lv();return e!==void 0?e:(a=i.errors)==null?void 0:a[s]}function b1(){let{router:a}=E1(av.UseNavigateStable),e=lv(sv.UseNavigateStable),i=st.useRef(!1);return rv(()=>{i.current=!0}),st.useCallback(function(o,h){h===void 0&&(h={}),i.current&&(typeof o=="number"?a.navigate(o):a.navigate(o,to({fromRouteId:e},h)))},[a,e])}const My={};function R1(a,e,i){My[a]||(My[a]=!0)}function w1(a,e){a==null||a.v7_startTransition,a==null||a.v7_relativeSplatPath}function C1(a){let{to:e,replace:i,state:s,relative:o}=a;fo()||Ee(!1);let{future:h,static:d}=st.useContext(ho),{matches:g}=st.useContext(Ea),{pathname:p}=Rd(),_=wd(),T=ev(e,tv(g,h.v7_relativeSplatPath),p,o==="path"),S=JSON.stringify(T);return st.useEffect(()=>_(JSON.parse(S),{replace:i,state:s,relative:o}),[_,S,o,i,s]),null}function gs(a){Ee(!1)}function D1(a){let{basename:e="/",children:i=null,location:s,navigationType:o=dr.Pop,navigator:h,static:d=!1,future:g}=a;fo()&&Ee(!1);let p=e.replace(/^\/*/,"/"),_=st.useMemo(()=>({basename:p,navigator:h,static:d,future:to({v7_relativeSplatPath:!1},g)}),[p,g,h,d]);typeof s=="string"&&(s=va(s));let{pathname:T="/",search:S="",hash:w="",state:k=null,key:Y="default"}=s,J=st.useMemo(()=>{let H=W_(T,p);return H==null?null:{location:{pathname:H,search:S,hash:w,state:k,key:Y},navigationType:o}},[p,T,S,w,k,Y,o]);return J==null?null:st.createElement(ho.Provider,{value:_},st.createElement(gc.Provider,{children:i,value:J}))}function V1(a){let{children:e,location:i}=a;return d1($f(e),i)}new Promise(()=>{});function $f(a,e){e===void 0&&(e=[]);let i=[];return st.Children.forEach(a,(s,o)=>{if(!st.isValidElement(s))return;let h=[...e,o];if(s.type===st.Fragment){i.push.apply(i,$f(s.props.children,h));return}s.type!==gs&&Ee(!1),!s.props.index||!s.props.children||Ee(!1);let d={id:s.props.id||h.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=$f(s.props.children,h)),i.push(d)}),i}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const I1="6";try{window.__reactRouterVersion=I1}catch{}const N1="startTransition",xy=NT[N1];function O1(a){let{basename:e,children:i,future:s,window:o}=a,h=st.useRef();h.current==null&&(h.current=BT({window:o,v5Compat:!0}));let d=h.current,[g,p]=st.useState({action:d.action,location:d.location}),{v7_startTransition:_}=s||{},T=st.useCallback(S=>{_&&xy?xy(()=>p(S)):p(S)},[p,_]);return st.useLayoutEffect(()=>d.listen(T),[d,T]),st.useEffect(()=>w1(s),[s]),st.createElement(D1,{basename:e,children:i,location:g.location,navigationType:g.action,navigator:d,future:s})}var Uy;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(Uy||(Uy={}));var Py;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(Py||(Py={}));const M1=()=>{};var Ly={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},x1=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],p=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},uv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,p=o+2<a.length,_=p?a[o+2]:0,T=h>>2,S=(h&3)<<4|g>>4;let w=(g&15)<<2|_>>6,k=_&63;p||(k=64,d||(w=64)),s.push(i[T],i[S],i[w],i[k])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(ov(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):x1(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const _=o<a.length?i[a.charAt(o)]:64;++o;const S=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||_==null||S==null)throw new U1;const w=h<<2|g>>4;if(s.push(w),_!==64){const k=g<<4&240|_>>2;if(s.push(k),S!==64){const Y=_<<6&192|S;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class U1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const P1=function(a){const e=ov(a);return uv.encodeByteArray(e,!0)},nc=function(a){return P1(a).replace(/\./g,"")},L1=function(a){try{return uv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=()=>z1().__FIREBASE_DEFAULTS__,j1=()=>{if(typeof process>"u"||typeof Ly>"u")return;const a=Ly.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},k1=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&L1(a[1]);return e&&JSON.parse(e)},Cd=()=>{try{return M1()||B1()||j1()||k1()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},q1=a=>{var e,i;return(i=(e=Cd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},H1=a=>{const e=q1(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},cv=()=>{var a;return(a=Cd())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function F1(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[nc(JSON.stringify(i)),nc(JSON.stringify(d)),""].join(".")}const Xl={};function Y1(){const a={prod:[],emulator:[]};for(const e of Object.keys(Xl))Xl[e]?a.emulator.push(e):a.prod.push(e);return a}function X1(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let zy=!1;function K1(a,e){if(typeof window>"u"||typeof document>"u"||!Dd(window.location.host)||Xl[a]===e||Xl[a]||zy)return;Xl[a]=e;function i(w){return`__firebase__banner__${w}`}const s="__firebase__banner",h=Y1().prod.length>0;function d(){const w=document.getElementById(s);w&&w.remove()}function g(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function _(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{zy=!0,d()},w}function T(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=X1(s),k=i("text"),Y=document.getElementById(k)||document.createElement("span"),J=i("learnmore"),H=document.getElementById(J)||document.createElement("a"),ct=i("preprendIcon"),W=document.getElementById(ct)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const it=w.element;g(it),T(H,J);const St=_();p(W,ct),it.append(W,Y,H,St),document.body.appendChild(it)}h?(Y.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $1(){var a;const e=(a=Cd())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J1(){return!$1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W1(){try{return typeof indexedDB=="object"}catch{return!1}}function tA(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="FirebaseError";class Vs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=eA,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hv.prototype.create)}}class hv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?nA(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Vs(o,g,s)}}function nA(a,e){return a.replace(iA,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const iA=/\{\$([^}]+)}/g;function eo(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=a[o],d=e[o];if(By(h)&&By(d)){if(!eo(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function By(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(a){return a&&a._delegate?a._delegate:a}class no{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new G1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sA(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fa){return this.instances.has(e)}getOptions(e=fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:aA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=fa){return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aA(a){return a===fa?void 0:a}function sA(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new rA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Pt||(Pt={}));const oA={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},uA=Pt.INFO,cA={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},hA=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=cA[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fv{constructor(e){this.name=e,this._logLevel=uA,this._logHandler=hA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const fA=(a,e)=>e.some(i=>a instanceof i);let jy,ky;function dA(){return jy||(jy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mA(){return ky||(ky=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dv=new WeakMap,Jf=new WeakMap,mv=new WeakMap,qf=new WeakMap,Vd=new WeakMap;function gA(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(gr(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&dv.set(i,a)}).catch(()=>{}),Vd.set(e,a),e}function pA(a){if(Jf.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Jf.set(a,e)}let Wf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Jf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||mv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return gr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function yA(a){Wf=a(Wf)}function _A(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Hf(this),e,...i);return mv.set(s,e.sort?e.sort():[e]),gr(s)}:mA().includes(a)?function(...e){return a.apply(Hf(this),e),gr(dv.get(this))}:function(...e){return gr(a.apply(Hf(this),e))}}function vA(a){return typeof a=="function"?_A(a):(a instanceof IDBTransaction&&pA(a),fA(a,dA())?new Proxy(a,Wf):a)}function gr(a){if(a instanceof IDBRequest)return gA(a);if(qf.has(a))return qf.get(a);const e=vA(a);return e!==a&&(qf.set(a,e),Vd.set(e,a)),e}const Hf=a=>Vd.get(a);function EA(a,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),g=gr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(gr(d.result),p.oldVersion,p.newVersion,gr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{h&&p.addEventListener("close",()=>h()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const TA=["get","getKey","getAll","getAllKeys","count"],AA=["put","add","delete","clear"],Gf=new Map;function qy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Gf.get(e))return Gf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=AA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||TA.includes(i)))return;const h=async function(d,...g){const p=this.transaction(d,o?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&p.done]))[0]};return Gf.set(e,h),h}yA(a=>({...a,get:(e,i,s)=>qy(e,i)||a.get(e,i,s),has:(e,i)=>!!qy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(bA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function bA(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const td="@firebase/app",Hy="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new fv("@firebase/app"),RA="@firebase/app-compat",wA="@firebase/analytics-compat",CA="@firebase/analytics",DA="@firebase/app-check-compat",VA="@firebase/app-check",IA="@firebase/auth",NA="@firebase/auth-compat",OA="@firebase/database",MA="@firebase/data-connect",xA="@firebase/database-compat",UA="@firebase/functions",PA="@firebase/functions-compat",LA="@firebase/installations",zA="@firebase/installations-compat",BA="@firebase/messaging",jA="@firebase/messaging-compat",kA="@firebase/performance",qA="@firebase/performance-compat",HA="@firebase/remote-config",GA="@firebase/remote-config-compat",FA="@firebase/storage",QA="@firebase/storage-compat",YA="@firebase/firestore",XA="@firebase/ai",KA="@firebase/firestore-compat",ZA="firebase",$A="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed="[DEFAULT]",JA={[td]:"fire-core",[RA]:"fire-core-compat",[CA]:"fire-analytics",[wA]:"fire-analytics-compat",[VA]:"fire-app-check",[DA]:"fire-app-check-compat",[IA]:"fire-auth",[NA]:"fire-auth-compat",[OA]:"fire-rtdb",[MA]:"fire-data-connect",[xA]:"fire-rtdb-compat",[UA]:"fire-fn",[PA]:"fire-fn-compat",[LA]:"fire-iid",[zA]:"fire-iid-compat",[BA]:"fire-fcm",[jA]:"fire-fcm-compat",[kA]:"fire-perf",[qA]:"fire-perf-compat",[HA]:"fire-rc",[GA]:"fire-rc-compat",[FA]:"fire-gcs",[QA]:"fire-gcs-compat",[YA]:"fire-fst",[KA]:"fire-fst-compat",[XA]:"fire-vertex","fire-js":"fire-js",[ZA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new Map,WA=new Map,nd=new Map;function Gy(a,e){try{a.container.addComponent(e)}catch(i){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function ic(a){const e=a.name;if(nd.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;nd.set(e,a);for(const i of io.values())Gy(i,a);for(const i of WA.values())Gy(i,a);return!0}function tS(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function eS(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new hv("app","Firebase",nS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new no("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=$A;function gv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:ed,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw pr.create("bad-app-name",{appName:String(o)});if(i||(i=cv()),!i)throw pr.create("no-options");const h=io.get(o);if(h){if(eo(i,h.options)&&eo(s,h.config))return h;throw pr.create("duplicate-app",{appName:o})}const d=new lA(o);for(const p of nd.values())d.addComponent(p);const g=new iS(i,s,d);return io.set(o,g),g}function aS(a=ed){const e=io.get(a);if(!e&&a===ed&&cv())return gv();if(!e)throw pr.create("no-app",{appName:a});return e}function Fy(){return Array.from(io.values())}function Es(a,e,i){var s;let o=(s=JA[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(g.join(" "));return}ic(new no(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="firebase-heartbeat-database",lS=1,ro="firebase-heartbeat-store";let Ff=null;function pv(){return Ff||(Ff=EA(sS,lS,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(ro)}catch(i){console.warn(i)}}}}).catch(a=>{throw pr.create("idb-open",{originalErrorMessage:a.message})})),Ff}async function oS(a){try{const i=(await pv()).transaction(ro),s=await i.objectStore(ro).get(yv(a));return await i.done,s}catch(e){if(e instanceof Vs)Ui.warn(e.message);else{const i=pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ui.warn(i.message)}}}async function Qy(a,e){try{const s=(await pv()).transaction(ro,"readwrite");await s.objectStore(ro).put(e,yv(a)),await s.done}catch(i){if(i instanceof Vs)Ui.warn(i.message);else{const s=pr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ui.warn(s.message)}}}function yv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=1024,cS=30;class hS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new dS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Yy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>cS){const d=mS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ui.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Yy(),{heartbeatsToSend:s,unsentEntries:o}=fS(this._heartbeatsCache.heartbeats),h=nc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ui.warn(i),""}}}function Yy(){return new Date().toISOString().substring(0,10)}function fS(a,e=uS){const i=[];let s=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Xy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Xy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class dS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W1()?tA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await oS(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Qy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Qy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Xy(a){return nc(JSON.stringify({version:2,heartbeats:a})).length}function mS(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(a){ic(new no("platform-logger",e=>new SA(e),"PRIVATE")),ic(new no("heartbeat",e=>new hS(e),"PRIVATE")),Es(td,Hy,a),Es(td,Hy,"esm2017"),Es("fire-js","")}gS("");var Ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yr,_v;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,b){function D(){}D.prototype=b.prototype,O.D=b.prototype,O.prototype=new D,O.prototype.constructor=O,O.C=function(N,M,U){for(var C=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)C[Ue-2]=arguments[Ue];return b.prototype[M].apply(N,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,b,D){D||(D=0);var N=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)N[M]=b.charCodeAt(D++)|b.charCodeAt(D++)<<8|b.charCodeAt(D++)<<16|b.charCodeAt(D++)<<24;else for(M=0;16>M;++M)N[M]=b[D++]|b[D++]<<8|b[D++]<<16|b[D++]<<24;b=O.g[0],D=O.g[1],M=O.g[2];var U=O.g[3],C=b+(U^D&(M^U))+N[0]+3614090360&4294967295;b=D+(C<<7&4294967295|C>>>25),C=U+(M^b&(D^M))+N[1]+3905402710&4294967295,U=b+(C<<12&4294967295|C>>>20),C=M+(D^U&(b^D))+N[2]+606105819&4294967295,M=U+(C<<17&4294967295|C>>>15),C=D+(b^M&(U^b))+N[3]+3250441966&4294967295,D=M+(C<<22&4294967295|C>>>10),C=b+(U^D&(M^U))+N[4]+4118548399&4294967295,b=D+(C<<7&4294967295|C>>>25),C=U+(M^b&(D^M))+N[5]+1200080426&4294967295,U=b+(C<<12&4294967295|C>>>20),C=M+(D^U&(b^D))+N[6]+2821735955&4294967295,M=U+(C<<17&4294967295|C>>>15),C=D+(b^M&(U^b))+N[7]+4249261313&4294967295,D=M+(C<<22&4294967295|C>>>10),C=b+(U^D&(M^U))+N[8]+1770035416&4294967295,b=D+(C<<7&4294967295|C>>>25),C=U+(M^b&(D^M))+N[9]+2336552879&4294967295,U=b+(C<<12&4294967295|C>>>20),C=M+(D^U&(b^D))+N[10]+4294925233&4294967295,M=U+(C<<17&4294967295|C>>>15),C=D+(b^M&(U^b))+N[11]+2304563134&4294967295,D=M+(C<<22&4294967295|C>>>10),C=b+(U^D&(M^U))+N[12]+1804603682&4294967295,b=D+(C<<7&4294967295|C>>>25),C=U+(M^b&(D^M))+N[13]+4254626195&4294967295,U=b+(C<<12&4294967295|C>>>20),C=M+(D^U&(b^D))+N[14]+2792965006&4294967295,M=U+(C<<17&4294967295|C>>>15),C=D+(b^M&(U^b))+N[15]+1236535329&4294967295,D=M+(C<<22&4294967295|C>>>10),C=b+(M^U&(D^M))+N[1]+4129170786&4294967295,b=D+(C<<5&4294967295|C>>>27),C=U+(D^M&(b^D))+N[6]+3225465664&4294967295,U=b+(C<<9&4294967295|C>>>23),C=M+(b^D&(U^b))+N[11]+643717713&4294967295,M=U+(C<<14&4294967295|C>>>18),C=D+(U^b&(M^U))+N[0]+3921069994&4294967295,D=M+(C<<20&4294967295|C>>>12),C=b+(M^U&(D^M))+N[5]+3593408605&4294967295,b=D+(C<<5&4294967295|C>>>27),C=U+(D^M&(b^D))+N[10]+38016083&4294967295,U=b+(C<<9&4294967295|C>>>23),C=M+(b^D&(U^b))+N[15]+3634488961&4294967295,M=U+(C<<14&4294967295|C>>>18),C=D+(U^b&(M^U))+N[4]+3889429448&4294967295,D=M+(C<<20&4294967295|C>>>12),C=b+(M^U&(D^M))+N[9]+568446438&4294967295,b=D+(C<<5&4294967295|C>>>27),C=U+(D^M&(b^D))+N[14]+3275163606&4294967295,U=b+(C<<9&4294967295|C>>>23),C=M+(b^D&(U^b))+N[3]+4107603335&4294967295,M=U+(C<<14&4294967295|C>>>18),C=D+(U^b&(M^U))+N[8]+1163531501&4294967295,D=M+(C<<20&4294967295|C>>>12),C=b+(M^U&(D^M))+N[13]+2850285829&4294967295,b=D+(C<<5&4294967295|C>>>27),C=U+(D^M&(b^D))+N[2]+4243563512&4294967295,U=b+(C<<9&4294967295|C>>>23),C=M+(b^D&(U^b))+N[7]+1735328473&4294967295,M=U+(C<<14&4294967295|C>>>18),C=D+(U^b&(M^U))+N[12]+2368359562&4294967295,D=M+(C<<20&4294967295|C>>>12),C=b+(D^M^U)+N[5]+4294588738&4294967295,b=D+(C<<4&4294967295|C>>>28),C=U+(b^D^M)+N[8]+2272392833&4294967295,U=b+(C<<11&4294967295|C>>>21),C=M+(U^b^D)+N[11]+1839030562&4294967295,M=U+(C<<16&4294967295|C>>>16),C=D+(M^U^b)+N[14]+4259657740&4294967295,D=M+(C<<23&4294967295|C>>>9),C=b+(D^M^U)+N[1]+2763975236&4294967295,b=D+(C<<4&4294967295|C>>>28),C=U+(b^D^M)+N[4]+1272893353&4294967295,U=b+(C<<11&4294967295|C>>>21),C=M+(U^b^D)+N[7]+4139469664&4294967295,M=U+(C<<16&4294967295|C>>>16),C=D+(M^U^b)+N[10]+3200236656&4294967295,D=M+(C<<23&4294967295|C>>>9),C=b+(D^M^U)+N[13]+681279174&4294967295,b=D+(C<<4&4294967295|C>>>28),C=U+(b^D^M)+N[0]+3936430074&4294967295,U=b+(C<<11&4294967295|C>>>21),C=M+(U^b^D)+N[3]+3572445317&4294967295,M=U+(C<<16&4294967295|C>>>16),C=D+(M^U^b)+N[6]+76029189&4294967295,D=M+(C<<23&4294967295|C>>>9),C=b+(D^M^U)+N[9]+3654602809&4294967295,b=D+(C<<4&4294967295|C>>>28),C=U+(b^D^M)+N[12]+3873151461&4294967295,U=b+(C<<11&4294967295|C>>>21),C=M+(U^b^D)+N[15]+530742520&4294967295,M=U+(C<<16&4294967295|C>>>16),C=D+(M^U^b)+N[2]+3299628645&4294967295,D=M+(C<<23&4294967295|C>>>9),C=b+(M^(D|~U))+N[0]+4096336452&4294967295,b=D+(C<<6&4294967295|C>>>26),C=U+(D^(b|~M))+N[7]+1126891415&4294967295,U=b+(C<<10&4294967295|C>>>22),C=M+(b^(U|~D))+N[14]+2878612391&4294967295,M=U+(C<<15&4294967295|C>>>17),C=D+(U^(M|~b))+N[5]+4237533241&4294967295,D=M+(C<<21&4294967295|C>>>11),C=b+(M^(D|~U))+N[12]+1700485571&4294967295,b=D+(C<<6&4294967295|C>>>26),C=U+(D^(b|~M))+N[3]+2399980690&4294967295,U=b+(C<<10&4294967295|C>>>22),C=M+(b^(U|~D))+N[10]+4293915773&4294967295,M=U+(C<<15&4294967295|C>>>17),C=D+(U^(M|~b))+N[1]+2240044497&4294967295,D=M+(C<<21&4294967295|C>>>11),C=b+(M^(D|~U))+N[8]+1873313359&4294967295,b=D+(C<<6&4294967295|C>>>26),C=U+(D^(b|~M))+N[15]+4264355552&4294967295,U=b+(C<<10&4294967295|C>>>22),C=M+(b^(U|~D))+N[6]+2734768916&4294967295,M=U+(C<<15&4294967295|C>>>17),C=D+(U^(M|~b))+N[13]+1309151649&4294967295,D=M+(C<<21&4294967295|C>>>11),C=b+(M^(D|~U))+N[4]+4149444226&4294967295,b=D+(C<<6&4294967295|C>>>26),C=U+(D^(b|~M))+N[11]+3174756917&4294967295,U=b+(C<<10&4294967295|C>>>22),C=M+(b^(U|~D))+N[2]+718787259&4294967295,M=U+(C<<15&4294967295|C>>>17),C=D+(U^(M|~b))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+b&4294967295,O.g[1]=O.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,b){b===void 0&&(b=O.length);for(var D=b-this.blockSize,N=this.B,M=this.h,U=0;U<b;){if(M==0)for(;U<=D;)o(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<b;)if(N[M++]=O.charCodeAt(U++),M==this.blockSize){o(this,N),M=0;break}}else for(;U<b;)if(N[M++]=O[U++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=b},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var b=1;b<O.length-8;++b)O[b]=0;var D=8*this.o;for(b=O.length-8;b<O.length;++b)O[b]=D&255,D/=256;for(this.u(O),O=Array(16),b=D=0;4>b;++b)for(var N=0;32>N;N+=8)O[D++]=this.g[b]>>>N&255;return O};function h(O,b){var D=g;return Object.prototype.hasOwnProperty.call(D,O)?D[O]:D[O]=b(O)}function d(O,b){this.h=b;for(var D=[],N=!0,M=O.length-1;0<=M;M--){var U=O[M]|0;N&&U==b||(D[M]=U,N=!1)}this.g=D}var g={};function p(O){return-128<=O&&128>O?h(O,function(b){return new d([b|0],0>b?-1:0)}):new d([O|0],0>O?-1:0)}function _(O){if(isNaN(O)||!isFinite(O))return S;if(0>O)return H(_(-O));for(var b=[],D=1,N=0;O>=D;N++)b[N]=O/D|0,D*=4294967296;return new d(b,0)}function T(O,b){if(O.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(O.charAt(0)=="-")return H(T(O.substring(1),b));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=_(Math.pow(b,8)),N=S,M=0;M<O.length;M+=8){var U=Math.min(8,O.length-M),C=parseInt(O.substring(M,M+U),b);8>U?(U=_(Math.pow(b,U)),N=N.j(U).add(_(C))):(N=N.j(D),N=N.add(_(C)))}return N}var S=p(0),w=p(1),k=p(16777216);a=d.prototype,a.m=function(){if(J(this))return-H(this).m();for(var O=0,b=1,D=0;D<this.g.length;D++){var N=this.i(D);O+=(0<=N?N:4294967296+N)*b,b*=4294967296}return O},a.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Y(this))return"0";if(J(this))return"-"+H(this).toString(O);for(var b=_(Math.pow(O,6)),D=this,N="";;){var M=St(D,b).g;D=ct(D,M.j(b));var U=((0<D.g.length?D.g[0]:D.h)>>>0).toString(O);if(D=M,Y(D))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},a.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Y(O){if(O.h!=0)return!1;for(var b=0;b<O.g.length;b++)if(O.g[b]!=0)return!1;return!0}function J(O){return O.h==-1}a.l=function(O){return O=ct(this,O),J(O)?-1:Y(O)?0:1};function H(O){for(var b=O.g.length,D=[],N=0;N<b;N++)D[N]=~O.g[N];return new d(D,~O.h).add(w)}a.abs=function(){return J(this)?H(this):this},a.add=function(O){for(var b=Math.max(this.g.length,O.g.length),D=[],N=0,M=0;M<=b;M++){var U=N+(this.i(M)&65535)+(O.i(M)&65535),C=(U>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);N=C>>>16,U&=65535,C&=65535,D[M]=C<<16|U}return new d(D,D[D.length-1]&-2147483648?-1:0)};function ct(O,b){return O.add(H(b))}a.j=function(O){if(Y(this)||Y(O))return S;if(J(this))return J(O)?H(this).j(H(O)):H(H(this).j(O));if(J(O))return H(this.j(H(O)));if(0>this.l(k)&&0>O.l(k))return _(this.m()*O.m());for(var b=this.g.length+O.g.length,D=[],N=0;N<2*b;N++)D[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<O.g.length;M++){var U=this.i(N)>>>16,C=this.i(N)&65535,Ue=O.i(M)>>>16,ae=O.i(M)&65535;D[2*N+2*M]+=C*ae,W(D,2*N+2*M),D[2*N+2*M+1]+=U*ae,W(D,2*N+2*M+1),D[2*N+2*M+1]+=C*Ue,W(D,2*N+2*M+1),D[2*N+2*M+2]+=U*Ue,W(D,2*N+2*M+2)}for(N=0;N<b;N++)D[N]=D[2*N+1]<<16|D[2*N];for(N=b;N<2*b;N++)D[N]=0;return new d(D,0)};function W(O,b){for(;(O[b]&65535)!=O[b];)O[b+1]+=O[b]>>>16,O[b]&=65535,b++}function it(O,b){this.g=O,this.h=b}function St(O,b){if(Y(b))throw Error("division by zero");if(Y(O))return new it(S,S);if(J(O))return b=St(H(O),b),new it(H(b.g),H(b.h));if(J(b))return b=St(O,H(b)),new it(H(b.g),b.h);if(30<O.g.length){if(J(O)||J(b))throw Error("slowDivide_ only works with positive integers.");for(var D=w,N=b;0>=N.l(O);)D=_t(D),N=_t(N);var M=zt(D,1),U=zt(N,1);for(N=zt(N,2),D=zt(D,2);!Y(N);){var C=U.add(N);0>=C.l(O)&&(M=M.add(D),U=C),N=zt(N,1),D=zt(D,1)}return b=ct(O,M.j(b)),new it(M,b)}for(M=S;0<=O.l(b);){for(D=Math.max(1,Math.floor(O.m()/b.m())),N=Math.ceil(Math.log(D)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=_(D),C=U.j(b);J(C)||0<C.l(O);)D-=N,U=_(D),C=U.j(b);Y(U)&&(U=w),M=M.add(U),O=ct(O,C)}return new it(M,O)}a.A=function(O){return St(this,O).h},a.and=function(O){for(var b=Math.max(this.g.length,O.g.length),D=[],N=0;N<b;N++)D[N]=this.i(N)&O.i(N);return new d(D,this.h&O.h)},a.or=function(O){for(var b=Math.max(this.g.length,O.g.length),D=[],N=0;N<b;N++)D[N]=this.i(N)|O.i(N);return new d(D,this.h|O.h)},a.xor=function(O){for(var b=Math.max(this.g.length,O.g.length),D=[],N=0;N<b;N++)D[N]=this.i(N)^O.i(N);return new d(D,this.h^O.h)};function _t(O){for(var b=O.g.length+1,D=[],N=0;N<b;N++)D[N]=O.i(N)<<1|O.i(N-1)>>>31;return new d(D,O.h)}function zt(O,b){var D=b>>5;b%=32;for(var N=O.g.length-D,M=[],U=0;U<N;U++)M[U]=0<b?O.i(U+D)>>>b|O.i(U+D+1)<<32-b:O.i(U+D);return new d(M,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,_v=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,yr=d}).apply(typeof Ky<"u"?Ky:typeof self<"u"?self:typeof window<"u"?window:{});var Fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vv,Gl,Ev,Zu,id,Tv,Av,Sv;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fu=="object"&&Fu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var y=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var P=u[A];if(!(P in y))break t;y=y[P]}u=u[u.length-1],A=y[u],m=m(A),m!=A&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var y=0,A=!1,P={next:function(){if(!A&&y<u.length){var q=y++;return{value:m(q,u[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,y){return u.call.apply(u.bind,arguments)}function S(u,m,y){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,A),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function w(u,m,y){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:S,w.apply(null,arguments)}function k(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function Y(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(A,P,q){for(var et=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)et[Ot-2]=arguments[Ot];return m.prototype[P].apply(A,et)}}function J(u){const m=u.length;if(0<m){const y=Array(m);for(let A=0;A<m;A++)y[A]=u[A];return y}return[]}function H(u,m){for(let y=1;y<arguments.length;y++){const A=arguments[y];if(p(A)){const P=u.length||0,q=A.length||0;u.length=P+q;for(let et=0;et<q;et++)u[P+et]=A[et]}else u.push(A)}}class ct{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){return/^[\s\xa0]*$/.test(u)}function it(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function St(u){return St[" "](u),u}St[" "]=function(){};var _t=it().indexOf("Gecko")!=-1&&!(it().toLowerCase().indexOf("webkit")!=-1&&it().indexOf("Edge")==-1)&&!(it().indexOf("Trident")!=-1||it().indexOf("MSIE")!=-1)&&it().indexOf("Edge")==-1;function zt(u,m,y){for(const A in u)m.call(y,u[A],A,u)}function O(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function b(u){const m={};for(const y in u)m[y]=u[y];return m}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let y,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(y in A)u[y]=A[y];for(let q=0;q<D.length;q++)y=D[q],Object.prototype.hasOwnProperty.call(A,y)&&(u[y]=A[y])}}function M(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function U(u){g.setTimeout(()=>{throw u},0)}function C(){var u=Bt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ue{constructor(){this.h=this.g=null}add(m,y){const A=ae.get();A.set(m,y),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new ct(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,ft=!1,Bt=new Ue,V=()=>{const u=g.Promise.resolve(void 0);rt=()=>{u.then($)}};var $=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(y){U(y)}var m=ae;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ft=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var dt=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u})();function Ct(u,m){if(tt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(_t){t:{try{St(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Et[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ct.aa.h.call(this)}}Y(Ct,tt);var Et={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function zn(u,m,y,A,P){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!A,this.ha=P,this.key=++Jt,this.da=this.fa=!1}function zi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function oi(u){this.src=u,this.g={},this.h=0}oi.prototype.add=function(u,m,y,A,P){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var et=Ir(u,m,A,P);return-1<et?(m=u[et],y||(m.fa=!1)):(m=new zn(m,this.src,q,!!A,P),m.fa=y,u.push(m)),m};function Vr(u,m){var y=m.type;if(y in u.g){var A=u.g[y],P=Array.prototype.indexOf.call(A,m,void 0),q;(q=0<=P)&&Array.prototype.splice.call(A,P,1),q&&(zi(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Ir(u,m,y,A){for(var P=0;P<u.length;++P){var q=u[P];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==A)return P}return-1}var Nr="closure_lm_"+(1e6*Math.random()|0),xs={};function To(u,m,y,A,P){if(Array.isArray(m)){for(var q=0;q<m.length;q++)To(u,m[q],y,A,P);return null}return y=Ao(y),u&&u[De]?u.K(m,y,_(A)?!!A.capture:!1,P):pn(u,m,y,!1,A,P)}function pn(u,m,y,A,P,q){if(!m)throw Error("Invalid event type");var et=_(P)?!!P.capture:!!P,Ot=ba(u);if(Ot||(u[Nr]=Ot=new oi(u)),y=Ot.add(m,y,A,et,q),y.proxy)return y;if(A=xc(),y.proxy=A,A.src=u,A.listener=y,u.addEventListener)dt||(P=et),P===void 0&&(P=!1),u.addEventListener(m.toString(),A,P);else if(u.attachEvent)u.attachEvent(Or(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function xc(){function u(y){return m.call(u.src,u.listener,y)}const m=Uc;return u}function Us(u,m,y,A,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Us(u,m[q],y,A,P);else A=_(A)?!!A.capture:!!A,y=Ao(y),u&&u[De]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],y=Ir(q,y,A,P),-1<y&&(zi(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=ba(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ir(m,y,A,P)),(y=-1<u?m[u]:null)&&Sa(y))}function Sa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[De])Vr(m.i,u);else{var y=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(y,A,u.capture):m.detachEvent?m.detachEvent(Or(y),A):m.addListener&&m.removeListener&&m.removeListener(A),(y=ba(m))?(Vr(y,u),y.h==0&&(y.src=null,m[Nr]=null)):zi(u)}}}function Or(u){return u in xs?xs[u]:xs[u]="on"+u}function Uc(u,m){if(u.da)u=!0;else{m=new Ct(m,this);var y=u.listener,A=u.ha||u.src;u.fa&&Sa(u),u=y.call(A,m)}return u}function ba(u){return u=u[Nr],u instanceof oi?u:null}var Ps="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ao(u){return typeof u=="function"?u:(u[Ps]||(u[Ps]=function(m){return u.handleEvent(m)}),u[Ps])}function se(){at.call(this),this.i=new oi(this),this.M=this,this.F=null}Y(se,at),se.prototype[De]=!0,se.prototype.removeEventListener=function(u,m,y,A){Us(this,u,m,y,A)};function Ht(u,m){var y,A=u.F;if(A)for(y=[];A;A=A.F)y.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new tt(m,u);else if(m instanceof tt)m.target=m.target||u;else{var P=m;m=new tt(A,u),N(m,P)}if(P=!0,y)for(var q=y.length-1;0<=q;q--){var et=m.g=y[q];P=sn(et,A,!0,m)&&P}if(et=m.g=u,P=sn(et,A,!0,m)&&P,P=sn(et,A,!1,m)&&P,y)for(q=0;q<y.length;q++)et=m.g=y[q],P=sn(et,A,!1,m)&&P}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],A=0;A<y.length;A++)zi(y[A]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,y,A){return this.i.add(String(u),m,!1,y,A)},se.prototype.L=function(u,m,y,A){return this.i.add(String(u),m,!0,y,A)};function sn(u,m,y,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,q=0;q<m.length;++q){var et=m[q];if(et&&!et.da&&et.capture==y){var Ot=et.listener,Ae=et.ha||et.src;et.fa&&Vr(u.i,et),P=Ot.call(Ae,A)!==!1&&P}}return P&&!A.defaultPrevented}function Ge(u,m,y){if(typeof u=="function")y&&(u=w(u,y));else if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function So(u){u.g=Ge(()=>{u.g=null,u.i&&(u.i=!1,So(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Pc extends at{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:So(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(u){at.call(this),this.h=u,this.g={}}Y(Mr,at);var xr=[];function Ur(u){zt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Sa(m)},u),u.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),Ur(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=g.JSON.stringify,Ra=g.JSON.parse,Pr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ls(){}Ls.prototype.h=null;function zs(u){return u.h||(u.h=u.i())}function Bs(){}var ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ci(){tt.call(this,"d")}Y(ci,tt);function js(){tt.call(this,"c")}Y(js,tt);var Bn={},ks=null;function Bi(){return ks=ks||new se}Bn.La="serverreachability";function wa(u){tt.call(this,Bn.La,u)}Y(wa,tt);function ji(u){const m=Bi();Ht(m,new wa(m))}Bn.STAT_EVENT="statevent";function bo(u,m){tt.call(this,Bn.STAT_EVENT,u),this.stat=m}Y(bo,tt);function ee(u){const m=Bi();Ht(m,new bo(m,u))}Bn.Ma="timingevent";function Te(u,m){tt.call(this,Bn.Ma,u),this.size=m}Y(Te,tt);function me(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function qs(u,m,y,A,P,q){u.info(function(){if(u.g)if(q)for(var et="",Ot=q.split("&"),Ae=0;Ae<Ot.length;Ae++){var Mt=Ot[Ae].split("=");if(1<Mt.length){var Ie=Mt[0];Mt=Mt[1];var Se=Ie.split("_");et=2<=Se.length&&Se[1]=="type"?et+(Ie+"="+Mt+"&"):et+(Ie+"=redacted&")}}else et=null;else et=q;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+m+`
`+y+`
`+et})}function Lc(u,m,y,A,P,q,et){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+m+`
`+y+`
`+q+" "+et})}function ki(u,m,y,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lr(u,y)+(A?" "+A:"")})}function Ro(u,m){u.info(function(){return"TIMEOUT: "+m})}yn.prototype.info=function(){};function Lr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var A=y[u];if(!(2>A.length)){var P=A[1];if(Array.isArray(P)&&!(1>P.length)){var q=P[0];if(q!="noop"&&q!="stop"&&q!="close")for(var et=1;et<P.length;et++)P[et]=""}}}}return In(y)}catch{return m}}var qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jn;function kn(){}Y(kn,Ls),kn.prototype.g=function(){return new XMLHttpRequest},kn.prototype.i=function(){return{}},jn=new kn;function Ze(u,m,y,A){this.j=u,this.i=m,this.l=y,this.R=A||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var Hs={},Ca={};function Nn(u,m,y){u.L=1,u.v=qr(ln(m)),u.m=y,u.P=!0,fi(u,null)}function fi(u,m){u.F=Date.now(),zr(u),u.A=ln(u.v);var y=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Ks(y.i,"t",A),u.C=0,y=u.j.J,u.h=new ue,u.g=ko(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Pc(w(u.Y,u,u.g),u.O)),m=u.U,y=u.g,A=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(xr[0]=P.toString()),P=xr);for(var q=0;q<P.length;q++){var et=To(y,P[q],A||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),ji(),qs(u.i,u.u,u.A,u.l,u.R,u.m)}Ze.prototype.ca=function(u){u=u.target;const m=this.M;m&&Tn(u)==3?m.j():this.Y(u)},Ze.prototype.Y=function(u){try{if(u==this.g)t:{const Se=Tn(this.g);var m=this.g.Ba();const Ei=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||Mo(this.g)))){this.J||Se!=4||m==7||(m==8||0>=Ei?ji(3):ji(2)),Hi(this);var y=this.g.Z();this.X=y;e:if(wo(this)){var A=Mo(this.g);u="";var P=A.length,q=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pe(this),qn(this);var et="";break e}this.h.i=new g.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(q&&m==P-1)});A.length=0,this.h.g+=u,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=y==200,Lc(this.i,this.u,this.A,this.l,this.R,Se,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Ae=this.g;if((Ot=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ot)){var Mt=Ot;break e}}Mt=null}if(y=Mt)ki(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Br(this,y);else{this.o=!1,this.s=3,ee(12),Pe(this),qn(this);break t}}if(this.P){y=!0;let Le;for(;!this.J&&this.C<et.length;)if(Le=Co(this,et),Le==Ca){Se==4&&(this.s=4,ee(14),y=!1),ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==Hs){this.s=4,ee(15),ki(this.i,this.l,et,"[Invalid Chunk]"),y=!1;break}else ki(this.i,this.l,Le,null),Br(this,Le);if(wo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||et.length!=0||this.h.h||(this.s=1,ee(16),y=!1),this.o=this.o&&y,!y)ki(this.i,this.l,et,"[Invalid Chunked Response]"),Pe(this),qn(this);else if(0<et.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),Zr(Ie),Ie.M=!0,ee(11))}}else ki(this.i,this.l,et,null),Br(this,et);Se==4&&Pe(this),this.o&&!this.J&&(Se==4?zo(this.j,this):(this.o=!1,zr(this)))}else qc(this.g),y==400&&0<et.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Pe(this),qn(this)}}}catch{}finally{}};function wo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Co(u,m){var y=u.C,A=m.indexOf(`
`,y);return A==-1?Ca:(y=Number(m.substring(y,A)),isNaN(y)?Hs:(A+=1,A+y>m.length?Ca:(m=m.slice(A,A+y),u.C=A+y,m)))}Ze.prototype.cancel=function(){this.J=!0,Pe(this)};function zr(u){u.S=Date.now()+u.I,Do(u,u.I)}function Do(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=me(w(u.ba,u),m)}function Hi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ze.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ro(this.i,this.A),this.L!=2&&(ji(),ee(17)),Pe(this),this.s=2,qn(this)):Do(this,this.S-u)};function qn(u){u.j.G==0||u.J||zo(u.j,u)}function Pe(u){Hi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ur(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Br(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||Gs(y.h,u))){if(!u.K&&Gs(y.h,u)&&y.G==3){try{var A=y.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Ba(y),La(y);else break t;tl(y),ee(18)}}else y.za=P[1],0<y.za-y.T&&37500>P[2]&&y.F&&y.v==0&&!y.C&&(y.C=me(w(y.Za,y),6e3));if(1>=Va(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else vi(y,11)}else if((u.K||y.g==u)&&Ba(y),!W(m))for(P=y.Da.g.parse(m),m=0;m<P.length;m++){let Mt=P[m];if(y.T=Mt[0],Mt=Mt[1],y.G==2)if(Mt[0]=="c"){y.K=Mt[1],y.ia=Mt[2];const Ie=Mt[3];Ie!=null&&(y.la=Ie,y.j.info("VER="+y.la));const Se=Mt[4];Se!=null&&(y.Aa=Se,y.j.info("SVER="+y.Aa));const Ei=Mt[5];Ei!=null&&typeof Ei=="number"&&0<Ei&&(A=1.5*Ei,y.L=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const Le=u.g;if(Le){const Kn=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kn){var q=A.h;q.g||Kn.indexOf("spdy")==-1&&Kn.indexOf("quic")==-1&&Kn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ia(q,q.h),q.h=null))}if(A.D){const nl=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(A.ya=nl,Qt(A.I,A.D,nl))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),A=y;var et=u;if(A.qa=jo(A,A.J?A.ia:null,A.W),et.K){$e(A.h,et);var Ot=et,Ae=A.L;Ae&&(Ot.I=Ae),Ot.B&&(Hi(Ot),zr(Ot)),A.g=et}else Po(A);0<y.i.length&&za(y)}else Mt[0]!="stop"&&Mt[0]!="close"||vi(y,7);else y.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?vi(y,7):Js(y):Mt[0]!="noop"&&y.l&&y.l.ta(Mt),y.v=0)}}ji(4)}catch{}}var Vo=class{constructor(u,m){this.g=u,this.map=m}};function di(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Da(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Va(u){return u.h?1:u.g?u.g.size:0}function Gs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ia(u,m){u.g?u.g.add(m):u.h=m}function $e(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}di.prototype.cancel=function(){if(this.i=Fs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Fs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return J(u.i)}function zc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,A=0;A<y;A++)m.push(u[A]);return m}m=[],y=0;for(A in u)m[y++]=u[A];return m}function Na(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const A in u)m[y++]=A;return m}}}function Qs(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Na(u),A=zc(u),P=A.length,q=0;q<P;q++)m.call(void 0,A[q],y&&y[q],u)}var jr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bc(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var A=u[y].indexOf("="),P=null;if(0<=A){var q=u[y].substring(0,A);P=u[y].substring(A+1)}else q=u[y];m(q,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function ge(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ge){this.h=u.h,kr(this,u.j),this.o=u.o,this.g=u.g,Gi(this,u.s),this.l=u.l;var m=u.i,y=new gi;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),mi(this,y),this.m=u.m}else u&&(m=String(u).match(jr))?(this.h=!1,kr(this,m[1]||"",!0),this.o=_n(m[2]||""),this.g=_n(m[3]||"",!0),Gi(this,m[4]),this.l=_n(m[5]||"",!0),mi(this,m[6]||"",!0),this.m=_n(m[7]||"")):(this.h=!1,this.i=new gi(null,this.h))}ge.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Hr(m,Ys,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Hr(m,Ys,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Hr(y,y.charAt(0)=="/"?jc:Xs,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Hr(y,Oa)),u.join("")};function ln(u){return new ge(u)}function kr(u,m,y){u.j=y?_n(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Gi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function mi(u,m,y){m instanceof gi?(u.i=m,No(u.i,u.h)):(y||(m=Hr(m,kc)),u.i=new gi(m,u.h))}function Qt(u,m,y){u.i.set(m,y)}function qr(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function _n(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Hr(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Io),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Io(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ys=/[#\/\?@]/g,Xs=/[#\?:]/g,jc=/[#\?]/g,kc=/[#\?@]/g,Oa=/#/g;function gi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&Bc(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}a=gi.prototype,a.add=function(u,m){vn(this),this.i=null,u=Hn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function pi(u,m){vn(u),m=Hn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function yi(u,m){return vn(u),m=Hn(u,m),u.g.has(m)}a.forEach=function(u,m){vn(this),this.g.forEach(function(y,A){y.forEach(function(P){u.call(m,P,A,this)},this)},this)},a.na=function(){vn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let A=0;A<m.length;A++){const P=u[A];for(let q=0;q<P.length;q++)y.push(m[A])}return y},a.V=function(u){vn(this);let m=[];if(typeof u=="string")yi(this,u)&&(m=m.concat(this.g.get(Hn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},a.set=function(u,m){return vn(this),this.i=null,u=Hn(this,u),yi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ks(u,m,y){pi(u,m),0<y.length&&(u.i=null,u.g.set(Hn(u,m),J(y)),u.h+=y.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var A=m[y];const q=encodeURIComponent(String(A)),et=this.V(A);for(A=0;A<et.length;A++){var P=q;et[A]!==""&&(P+="="+encodeURIComponent(String(et[A]))),u.push(P)}}return this.i=u.join("&")};function Hn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function No(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(y,A){var P=A.toLowerCase();A!=P&&(pi(this,A),Ks(this,P,y))},u)),u.j=m}function Gr(u,m){const y=new yn;if(g.Image){const A=new Image;A.onload=k(En,y,"TestLoadImage: loaded",!0,m,A),A.onerror=k(En,y,"TestLoadImage: error",!1,m,A),A.onabort=k(En,y,"TestLoadImage: abort",!1,m,A),A.ontimeout=k(En,y,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function On(u,m){const y=new yn,A=new AbortController,P=setTimeout(()=>{A.abort(),En(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(P),q.ok?En(y,"TestPingServer: ok",!0,m):En(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),En(y,"TestPingServer: error",!1,m)})}function En(u,m,y,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(y)}catch{}}function Fr(){this.g=new Pr}function Gn(u,m,y){const A=y||"";try{Qs(u,function(P,q){let et=P;_(P)&&(et=In(P)),m.push(A+q+"="+encodeURIComponent(et))})}catch(P){throw m.push(A+"type="+encodeURIComponent("_badmap")),P}}function Fi(u){this.l=u.Ub||null,this.j=u.eb||!1}Y(Fi,Ls),Fi.prototype.g=function(){return new _i(this.l,this.j)},Fi.prototype.i=(function(u){return function(){return u}})({});function _i(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(_i,se),a=_i.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Qn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Fn(this):Qn(this),this.readyState==3&&Zs(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Fn(this))},a.Qa=function(u){this.g&&(this.response=u,Fn(this))},a.ga=function(){this.g&&Fn(this)};function Fn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Qn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function $s(u){let m="";return zt(u,function(y,A){m+=A,m+=":",m+=y,m+=`\r
`}),m}function Ve(u,m,y){t:{for(A in y){var A=!1;break t}A=!0}A||(y=$s(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Qt(u,m,y))}function kt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(kt,se);var Ma=/^https?$/i,Qr=["POST","PUT"];a=kt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jn.g(),this.v=this.o?zs(this.o):zs(jn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Oo(this,q);return}if(u=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)y.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())y.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),P=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Qr,m,void 0))||A||P||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of y)this.g.setRequestHeader(q,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yr(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Oo(this,q)}};function Oo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,xa(u),Yn(u)}function xa(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),Yn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),kt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Ua(this):this.bb())},a.bb=function(){Ua(this)};function Ua(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Tn(u)!=4||u.Z()!=2)){if(u.u&&Tn(u)==4)Ge(u.Ea,0,u);else if(Ht(u,"readystatechange"),Tn(u)==4){u.h=!1;try{const et=u.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var A;if(A=et===0){var P=String(u.D).match(jr)[1]||null;!P&&g.self&&g.self.location&&(P=g.self.location.protocol.slice(0,-1)),A=!Ma.test(P?P.toLowerCase():"")}y=A}if(y)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var q=2<Tn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",xa(u)}}finally{Yn(u)}}}}function Yn(u,m){if(u.g){Yr(u);const y=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{y.onreadystatechange=A}catch{}}}function Yr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function Tn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ra(m)}};function Mo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function qc(u){const m={};u=(u.g&&2<=Tn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(W(u[A]))continue;var y=M(u[A]);const P=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[P]||[];m[P]=q,q.push(y)}O(m,function(A){return A.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xr(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Pa(u){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xr("baseRetryDelayMs",5e3,u),this.cb=Xr("retryDelaySeedMs",1e4,u),this.Wa=Xr("forwardChannelMaxRetries",2,u),this.wa=Xr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new di(u&&u.concurrentRequestLimit),this.Da=new Fr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Pa.prototype,a.la=8,a.G=1,a.connect=function(u,m,y,A){ee(0),this.W=u,this.H=m||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.I=jo(this,null,this.W),za(this)};function Js(u){if(xo(u),u.G==3){var m=u.U++,y=ln(u.I);if(Qt(y,"SID",u.K),Qt(y,"RID",m),Qt(y,"TYPE","terminate"),Kr(u,y),m=new Ze(u,u.j,m),m.L=2,m.v=qr(ln(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=ko(m.j,null),m.g.ea(m.v)),m.F=Date.now(),zr(m)}Bo(u)}function La(u){u.g&&(Zr(u),u.g.cancel(),u.g=null)}function xo(u){La(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ba(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function za(u){if(!Da(u.h)&&!u.s){u.s=!0;var m=u.Ga;rt||V(),ft||(rt(),ft=!0),Bt.add(m,u),u.B=0}}function Hc(u,m){return Va(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=me(w(u.Ga,u,m),el(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new Ze(this,this.j,u);let q=this.o;if(this.S&&(q?(q=b(q),N(q,this.S)):q=this.S),this.m!==null||this.O||(P.H=q,q=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Uo(this,P,m),y=ln(this.I),Qt(y,"RID",u),Qt(y,"CVER",22),this.D&&Qt(y,"X-HTTP-Session-Id",this.D),Kr(this,y),q&&(this.O?m="headers="+encodeURIComponent(String($s(q)))+"&"+m:this.m&&Ve(y,this.m,q)),Ia(this.h,P),this.Ua&&Qt(y,"TYPE","init"),this.P?(Qt(y,"$req",m),Qt(y,"SID","null"),P.T=!0,Nn(P,y,null)):Nn(P,y,m),this.G=2}}else this.G==3&&(u?Ws(this,u):this.i.length==0||Da(this.h)||Ws(this))};function Ws(u,m){var y;m?y=m.l:y=u.U++;const A=ln(u.I);Qt(A,"SID",u.K),Qt(A,"RID",y),Qt(A,"AID",u.T),Kr(u,A),u.m&&u.o&&Ve(A,u.m,u.o),y=new Ze(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Uo(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ia(u.h,y),Nn(y,A,m)}function Kr(u,m){u.H&&zt(u.H,function(y,A){Qt(m,A,y)}),u.l&&Qs({},function(y,A){Qt(m,A,y)})}function Uo(u,m,y){y=Math.min(u.i.length,y);var A=u.l?w(u.l.Na,u.l,u):null;t:{var P=u.i;let q=-1;for(;;){const et=["count="+y];q==-1?0<y?(q=P[0].g,et.push("ofs="+q)):q=0:et.push("ofs="+q);let Ot=!0;for(let Ae=0;Ae<y;Ae++){let Mt=P[Ae].g;const Ie=P[Ae].map;if(Mt-=q,0>Mt)q=Math.max(0,P[Ae].g-100),Ot=!1;else try{Gn(Ie,et,"req"+Mt+"_")}catch{A&&A(Ie)}}if(Ot){A=et.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,A}function Po(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;rt||V(),ft||(rt(),ft=!0),Bt.add(m,u),u.v=0}}function tl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=me(w(u.Fa,u),el(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,Lo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=me(w(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),La(this),Lo(this))};function Zr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Lo(u){u.g=new Ze(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ln(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),Kr(u,m),u.m&&u.o&&Ve(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=qr(ln(m)),y.m=null,y.P=!0,fi(y,u)}a.Za=function(){this.C!=null&&(this.C=null,La(this),tl(this),ee(19))};function Ba(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function zo(u,m){var y=null;if(u.g==m){Ba(u),Zr(u),u.g=null;var A=2}else if(Gs(u.h,m))y=m.D,$e(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;A=Bi(),Ht(A,new Te(A,y)),za(u)}else Po(u);else if(P=m.s,P==3||P==0&&0<m.X||!(A==1&&Hc(u,m)||A==2&&tl(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),P){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function el(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var y=w(u.fb,u),A=u.Xa;const P=!A;A=new ge(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||kr(A,"https"),qr(A),P?Gr(A.toString(),y):On(A.toString(),y)}else ee(2);u.G=0,u.l&&u.l.sa(m),Bo(u),xo(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function Bo(u){if(u.G=0,u.ka=[],u.l){const m=Fs(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ka,m),H(u.ka,u.i),u.h.i.length=0,J(u.i),u.i.length=0),u.l.ra()}}function jo(u,m,y){var A=y instanceof ge?ln(y):new ge(y);if(A.g!="")m&&(A.g=m+"."+A.g),Gi(A,A.s);else{var P=g.location;A=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var q=new ge(null);A&&kr(q,A),m&&(q.g=m),P&&Gi(q,P),y&&(q.l=y),A=q}return y=u.D,m=u.ya,y&&m&&Qt(A,y,m),Qt(A,"VER",u.la),Kr(u,A),A}function ko(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new kt(new Fi({eb:y})):new kt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function qo(){}a=qo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function ja(){}ja.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){se.call(this),this.g=new Pa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!W(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!W(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xn(this)}Y(Je,se),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){Js(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=In(u),u=y);m.i.push(new Vo(m.Ya++,u)),m.G==3&&za(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,Js(this.g),delete this.g,Je.aa.N.call(this)};function Ho(u){ci.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Y(Ho,ci);function Go(){js.call(this),this.status=1}Y(Go,js);function Xn(u){this.g=u}Y(Xn,qo),Xn.prototype.ua=function(){Ht(this.g,"a")},Xn.prototype.ta=function(u){Ht(this.g,new Ho(u))},Xn.prototype.sa=function(u){Ht(this.g,new Go)},Xn.prototype.ra=function(){Ht(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,Sv=function(){return new ja},Av=function(){return Bi()},Tv=Bn,id={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qi.NO_ERROR=0,qi.TIMEOUT=8,qi.HTTP_ERROR=6,Zu=qi,hi.COMPLETE="complete",Ev=hi,Bs.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",se.prototype.listen=se.prototype.K,Gl=Bs,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,vv=kt}).apply(typeof Fu<"u"?Fu:typeof self<"u"?self:typeof window<"u"?window:{});const Zy="@firebase/firestore",$y="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Is="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new fv("@firebase/firestore");function ps(){return pa.logLevel}function lt(a,...e){if(pa.logLevel<=Pt.DEBUG){const i=e.map(Id);pa.debug(`Firestore (${Is}): ${a}`,...i)}}function Pi(a,...e){if(pa.logLevel<=Pt.ERROR){const i=e.map(Id);pa.error(`Firestore (${Is}): ${a}`,...i)}}function Er(a,...e){if(pa.logLevel<=Pt.WARN){const i=e.map(Id);pa.warn(`Firestore (${Is}): ${a}`,...i)}}function Id(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,bv(a,s,i)}function bv(a,e,i){let s=`FIRESTORE (${Is}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Pi(s),new Error(s)}function qt(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||bv(e,o,s)}function At(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Vs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class yS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class _S{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let h=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new _r,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const p=h;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},g=p=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new _r)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new Rv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Xe(e)}}class vS{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ES{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new vS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Jy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,eS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const s=h=>{h.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const o=h=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Jy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Jy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=AS(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function wt(a,e){return a<e?-1:a>e?1:0}function rd(a,e){let i=0;for(;i<a.length&&i<e.length;){const s=a.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return wt(s,o);{const h=wv(),d=SS(h.encode(Wy(a,i)),h.encode(Wy(e,i)));return d!==0?d:wt(s,o)}}i+=s>65535?2:1}return wt(a.length,e.length)}function Wy(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function SS(a,e){for(let i=0;i<a.length&&i<e.length;++i)if(a[i]!==e[i])return wt(a[i],e[i]);return wt(a.length,e.length)}function Ss(a,e,i){return a.length===e.length&&a.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="__name__";class ei{constructor(e,i,s){i===void 0?i=0:i>e.length&&yt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&yt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ei.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ei?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=ei.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return wt(e.length,i.length)}static compareSegments(e,i){const s=ei.isNumericId(e),o=ei.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ei.extractNumericId(e).compare(ei.extractNumericId(i)):rd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yr.fromString(e.substring(4,e.length-2))}}class te extends ei{construct(e,i,s){return new te(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ut(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const bS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends ei{construct(e,i,s){return new qe(e,i,s)}static isValidIdentifier(e){return bS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===t_}static keyField(){return new qe([t_])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ut(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ut(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new ut(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qe(i)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(te.fromString(e))}static fromName(e){return new mt(te.fromString(e).popFirst(5))}static empty(){return new mt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return te.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new te(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(a,e,i){if(!i)throw new ut(Z.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function RS(a,e,i,s){if(e===!0&&s===!0)throw new ut(Z.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function e_(a){if(!mt.isDocumentKey(a))throw new ut(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function n_(a){if(mt.isDocumentKey(a))throw new ut(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Dv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Od(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":yt(12329,{type:typeof a})}function Pn(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ut(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Od(a);throw new ut(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(a,e){const i={typeString:a};return e&&(i.value=e),i}function mo(a,e){if(!Dv(a))throw new ut(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new ut(Z.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=-62135596800,r_=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*r_);return new Zt(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<i_)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r_}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Zt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mo(e,Zt._jsonSchema))return new Zt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-i_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Zt._jsonSchemaVersion="firestore/timestamp/1.0",Zt._jsonSchema={type:ve("string",Zt._jsonSchemaVersion),seconds:ve("number"),nanoseconds:ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new Zt(0,0))}static max(){return new Tt(new Zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=-1;function wS(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new Zt(i+1,0):new Zt(i,s));return new Tr(o,mt.empty(),e)}function CS(a){return new Tr(a.readTime,a.key,ao)}class Tr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Tr(Tt.min(),mt.empty(),ao)}static max(){return new Tr(Tt.max(),mt.empty(),ao)}}function DS(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=mt.comparator(a.documentKey,e.documentKey),i!==0?i:wt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ns(a){if(a.code!==Z.FAILED_PRECONDITION||a.message!==VS)throw a;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new K(((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):K.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):K.reject(i)}static resolve(e){return new K(((i,s)=>{i(e)}))}static reject(e){return new K(((i,s)=>{s(e)}))}static waitFor(e){return new K(((i,s)=>{let o=0,h=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++h,d&&h===o&&i()}),(p=>s(p)))})),d=!0,h===o&&i()}))}static or(e){let i=K.resolve(!1);for(const s of e)i=i.next((o=>o?K.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,h)=>{s.push(i.call(this,o,h))})),this.waitFor(s)}static mapArray(e,i){return new K(((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let p=0;p<h;p++){const _=p;i(e[_]).next((T=>{d[_]=T,++g,g===h&&s(d)}),(T=>o(T)))}}))}static doWhile(e,i){return new K(((s,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):s()};h()}))}}function NS(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Os(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this._e(s),this.ae=s=>i.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}pc.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=-1;function yc(a){return a==null}function rc(a){return a===0&&1/a==-1/0}function OS(a){return typeof a=="number"&&Number.isInteger(a)&&!rc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="";function MS(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=a_(e)),e=xS(a.get(i),e);return a_(e)}function xS(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case Vv:i+="";break;default:i+=h}}return i}function a_(a){return a+Vv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Cr(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function Iv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,i){this.comparator=e,this.root=i||ke.EMPTY}insert(e,i){return new re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qu(this.root,e,this.comparator,!0)}}class Qu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??ke.RED,this.left=o??ke.EMPTY,this.right=h??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new ke(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ke.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw yt(27949);return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new ke(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.comparator=e,this.data=new re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new l_(this.data.getIterator())}getIteratorFrom(e){return new l_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Ce)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ce(this.comparator);return i.data=e,i}}class l_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.fields=e,e.sort(qe.comparator)}static empty(){return new gn([])}unionWith(e){let i=new Ce(qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new gn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ss(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Nv("Invalid base64 string: "+h):h}})(e);return new He(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new He(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}He.EMPTY_BYTE_STRING=new He("");const US=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(a){if(qt(!!a,39018),typeof a=="string"){let e=0;const i=US.exec(a);if(qt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:fe(a.seconds),nanos:fe(a.nanos)}}function fe(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Sr(a){return typeof a=="string"?He.fromBase64String(a):He.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="server_timestamp",Mv="__type__",xv="__previous_value__",Uv="__local_write_time__";function xd(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Mv])===null||i===void 0?void 0:i.stringValue)===Ov}function _c(a){const e=a.mapValue.fields[xv];return xd(e)?_c(e):e}function so(a){const e=Ar(a.mapValue.fields[Uv].timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,i,s,o,h,d,g,p,_,T){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=T}}const ac="(default)";class lo{constructor(e,i){this.projectId=e,this.database=i||ac}static empty(){return new lo("","")}get isDefaultDatabase(){return this.database===ac}isEqual(e){return e instanceof lo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="__type__",LS="__max__",Yu={mapValue:{}},Lv="__vector__",sc="value";function br(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?xd(a)?4:BS(a)?9007199254740991:zS(a)?10:11:yt(28295,{value:a})}function si(a,e){if(a===e)return!0;const i=br(a);if(i!==br(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return so(a).isEqual(so(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ar(o.timestampValue),g=Ar(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,h){return Sr(o.bytesValue).isEqual(Sr(h.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,h){return fe(o.geoPointValue.latitude)===fe(h.geoPointValue.latitude)&&fe(o.geoPointValue.longitude)===fe(h.geoPointValue.longitude)})(a,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return fe(o.integerValue)===fe(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=fe(o.doubleValue),g=fe(h.doubleValue);return d===g?rc(d)===rc(g):isNaN(d)&&isNaN(g)}return!1})(a,e);case 9:return Ss(a.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(s_(d)!==s_(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!si(d[p],g[p])))return!1;return!0})(a,e);default:return yt(52216,{left:a})}}function oo(a,e){return(a.values||[]).find((i=>si(i,e)))!==void 0}function bs(a,e){if(a===e)return 0;const i=br(a),s=br(e);if(i!==s)return wt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return wt(a.booleanValue,e.booleanValue);case 2:return(function(h,d){const g=fe(h.integerValue||h.doubleValue),p=fe(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(a,e);case 3:return o_(a.timestampValue,e.timestampValue);case 4:return o_(so(a),so(e));case 5:return rd(a.stringValue,e.stringValue);case 6:return(function(h,d){const g=Sr(h),p=Sr(d);return g.compareTo(p)})(a.bytesValue,e.bytesValue);case 7:return(function(h,d){const g=h.split("/"),p=d.split("/");for(let _=0;_<g.length&&_<p.length;_++){const T=wt(g[_],p[_]);if(T!==0)return T}return wt(g.length,p.length)})(a.referenceValue,e.referenceValue);case 8:return(function(h,d){const g=wt(fe(h.latitude),fe(d.latitude));return g!==0?g:wt(fe(h.longitude),fe(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return u_(a.arrayValue,e.arrayValue);case 10:return(function(h,d){var g,p,_,T;const S=h.fields||{},w=d.fields||{},k=(g=S[sc])===null||g===void 0?void 0:g.arrayValue,Y=(p=w[sc])===null||p===void 0?void 0:p.arrayValue,J=wt(((_=k==null?void 0:k.values)===null||_===void 0?void 0:_.length)||0,((T=Y==null?void 0:Y.values)===null||T===void 0?void 0:T.length)||0);return J!==0?J:u_(k,Y)})(a.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Yu.mapValue&&d===Yu.mapValue)return 0;if(h===Yu.mapValue)return 1;if(d===Yu.mapValue)return-1;const g=h.fields||{},p=Object.keys(g),_=d.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let S=0;S<p.length&&S<T.length;++S){const w=rd(p[S],T[S]);if(w!==0)return w;const k=bs(g[p[S]],_[T[S]]);if(k!==0)return k}return wt(p.length,T.length)})(a.mapValue,e.mapValue);default:throw yt(23264,{le:i})}}function o_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return wt(a,e);const i=Ar(a),s=Ar(e),o=wt(i.seconds,s.seconds);return o!==0?o:wt(i.nanos,s.nanos)}function u_(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=bs(i[o],s[o]);if(h)return h}return wt(i.length,s.length)}function Rs(a){return ad(a)}function ad(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=Ar(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Sr(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return mt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=ad(h);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${ad(i.fields[d])}`;return o+"}"})(a.mapValue):yt(61005,{value:a})}function $u(a){switch(br(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_c(a);return e?16+$u(e):16;case 5:return 2*a.stringValue.length;case 6:return Sr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,h)=>o+$u(h)),0)})(a.arrayValue);case 10:case 11:return(function(s){let o=0;return Cr(s.fields,((h,d)=>{o+=h.length+$u(d)})),o})(a.mapValue);default:throw yt(13486,{value:a})}}function sd(a){return!!a&&"integerValue"in a}function Ud(a){return!!a&&"arrayValue"in a}function c_(a){return!!a&&"nullValue"in a}function h_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Ju(a){return!!a&&"mapValue"in a}function zS(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Pv])===null||i===void 0?void 0:i.stringValue)===Lv}function Kl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Cr(a.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Kl(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Kl(a.arrayValue.values[i]);return e}return Object.assign({},a)}function BS(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===LS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Ju(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(i)}setAll(e){let i=qe.emptyPath(),s={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Kl(d):o.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Ju(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Ju(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Cr(i,((o,h)=>e[o]=h));for(const o of s)delete e[o]}clone(){return new an(Kl(this.value))}}function zv(a){const e=[];return Cr(a.fields,((i,s)=>{const o=new qe([i]);if(Ju(s)){const h=zv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ke(e,0,Tt.min(),Tt.min(),Tt.min(),an.empty(),0)}static newFoundDocument(e,i,s,o){return new Ke(e,1,i,Tt.min(),s,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,Tt.min(),Tt.min(),an.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,Tt.min(),Tt.min(),an.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,i){this.position=e,this.inclusive=i}}function f_(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?s=mt.comparator(mt.fromName(d.referenceValue),i.key):s=bs(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function d_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!si(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,i="asc"){this.field=e,this.dir=i}}function jS(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{}class we extends Bv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new qS(e,i,s):i==="array-contains"?new FS(e,s):i==="in"?new QS(e,s):i==="not-in"?new YS(e,s):i==="array-contains-any"?new XS(e,s):new we(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new HS(e,s):new GS(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(bs(i,this.value)):i!==null&&br(this.value)===br(i)&&this.matchesComparison(bs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends Bv{constructor(e,i){super(),this.filters=e,this.op=i,this.he=null}static create(e,i){return new li(e,i)}matches(e){return jv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function jv(a){return a.op==="and"}function kv(a){return kS(a)&&jv(a)}function kS(a){for(const e of a.filters)if(e instanceof li)return!1;return!0}function ld(a){if(a instanceof we)return a.field.canonicalString()+a.op.toString()+Rs(a.value);if(kv(a))return a.filters.map((e=>ld(e))).join(",");{const e=a.filters.map((i=>ld(i))).join(",");return`${a.op}(${e})`}}function qv(a,e){return a instanceof we?(function(s,o){return o instanceof we&&s.op===o.op&&s.field.isEqual(o.field)&&si(s.value,o.value)})(a,e):a instanceof li?(function(s,o){return o instanceof li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((h,d,g)=>h&&qv(d,o.filters[g])),!0):!1})(a,e):void yt(19439)}function Hv(a){return a instanceof we?(function(i){return`${i.field.canonicalString()} ${i.op} ${Rs(i.value)}`})(a):a instanceof li?(function(i){return i.op.toString()+" {"+i.getFilters().map(Hv).join(" ,")+"}"})(a):"Filter"}class qS extends we{constructor(e,i,s){super(e,i,s),this.key=mt.fromName(s.referenceValue)}matches(e){const i=mt.comparator(e.key,this.key);return this.matchesComparison(i)}}class HS extends we{constructor(e,i){super(e,"in",i),this.keys=Gv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class GS extends we{constructor(e,i){super(e,"not-in",i),this.keys=Gv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Gv(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((s=>mt.fromName(s.referenceValue)))}class FS extends we{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ud(i)&&oo(i.arrayValue,this.value)}}class QS extends we{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&oo(this.value.arrayValue,i)}}class YS extends we{constructor(e,i){super(e,"not-in",i)}matches(e){if(oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!oo(this.value.arrayValue,i)}}class XS extends we{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ud(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>oo(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Pe=null}}function m_(a,e=null,i=[],s=[],o=null,h=null,d=null){return new KS(a,e,i,s,o,h,d)}function Pd(a){const e=At(a);if(e.Pe===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>ld(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),yc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Rs(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Rs(s))).join(",")),e.Pe=i}return e.Pe}function Ld(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!jS(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!qv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!d_(a.startAt,e.startAt)&&d_(a.endAt,e.endAt)}function od(a){return mt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function ZS(a,e,i,s,o,h,d,g){return new vc(a,e,i,s,o,h,d,g)}function Ec(a){return new vc(a)}function g_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function $S(a){return a.collectionGroup!==null}function Zl(a){const e=At(a);if(e.Te===null){e.Te=[];const i=new Set;for(const h of e.explicitOrderBy)e.Te.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ce(qe.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Te.push(new oc(h,s))})),i.has(qe.keyField().canonicalString())||e.Te.push(new oc(qe.keyField(),s))}return e.Te}function ni(a){const e=At(a);return e.Ie||(e.Ie=JS(e,Zl(a))),e.Ie}function JS(a,e){if(a.limitType==="F")return m_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new oc(o.field,h)}));const i=a.endAt?new lc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new lc(a.startAt.position,a.startAt.inclusive):null;return m_(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function ud(a,e,i){return new vc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Tc(a,e){return Ld(ni(a),ni(e))&&a.limitType===e.limitType}function Fv(a){return`${Pd(ni(a))}|lt:${a.limitType}`}function ys(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>Hv(o))).join(", ")}]`),yc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Rs(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Rs(o))).join(",")),`Target(${s})`})(ni(a))}; limitType=${a.limitType})`}function Ac(a,e){return e.isFoundDocument()&&(function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):mt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(a,e)&&(function(s,o){for(const h of Zl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(a,e)&&(function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0})(a,e)&&(function(s,o){return!(s.startAt&&!(function(d,g,p){const _=f_(d,g,p);return d.inclusive?_<=0:_<0})(s.startAt,Zl(s),o)||s.endAt&&!(function(d,g,p){const _=f_(d,g,p);return d.inclusive?_>=0:_>0})(s.endAt,Zl(s),o))})(a,e)}function WS(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Qv(a){return(e,i)=>{let s=!1;for(const o of Zl(a)){const h=tb(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function tb(a,e,i){const s=a.field.isKeyField()?mt.comparator(e.key,i.key):(function(h,d,g){const p=d.data.field(h),_=g.data.field(h);return p!==null&&_!==null?bs(p,_):yt(42886)})(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return yt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Cr(this.inner,((i,s)=>{for(const[o,h]of s)e(o,h)}))}isEmpty(){return Iv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=new re(mt.comparator);function Li(){return eb}const Yv=new re(mt.comparator);function Fl(...a){let e=Yv;for(const i of a)e=e.insert(i.key,i);return e}function Xv(a){let e=Yv;return a.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function da(){return $l()}function Kv(){return $l()}function $l(){return new Ta((a=>a.toString()),((a,e)=>a.isEqual(e)))}const nb=new re(mt.comparator),ib=new Ce(mt.comparator);function Nt(...a){let e=ib;for(const i of a)e=e.add(i);return e}const rb=new Ce(wt);function ab(){return rb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rc(e)?"-0":e}}function Zv(a){return{integerValue:""+a}}function sb(a,e){return OS(e)?Zv(e):zd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(){this._=void 0}}function lb(a,e,i){return a instanceof uo?(function(o,h){const d={fields:{[Mv]:{stringValue:Ov},[Uv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&xd(h)&&(h=_c(h)),h&&(d.fields[xv]=h),{mapValue:d}})(i,e):a instanceof ws?Jv(a,e):a instanceof co?Wv(a,e):(function(o,h){const d=$v(o,h),g=p_(d)+p_(o.Ee);return sd(d)&&sd(o.Ee)?Zv(g):zd(o.serializer,g)})(a,e)}function ob(a,e,i){return a instanceof ws?Jv(a,e):a instanceof co?Wv(a,e):i}function $v(a,e){return a instanceof uc?(function(s){return sd(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class uo extends Sc{}class ws extends Sc{constructor(e){super(),this.elements=e}}function Jv(a,e){const i=t0(e);for(const s of a.elements)i.some((o=>si(o,s)))||i.push(s);return{arrayValue:{values:i}}}class co extends Sc{constructor(e){super(),this.elements=e}}function Wv(a,e){let i=t0(e);for(const s of a.elements)i=i.filter((o=>!si(o,s)));return{arrayValue:{values:i}}}class uc extends Sc{constructor(e,i){super(),this.serializer=e,this.Ee=i}}function p_(a){return fe(a.integerValue||a.doubleValue)}function t0(a){return Ud(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,i){this.field=e,this.transform=i}}function ub(a,e){return a.field.isEqual(e.field)&&(function(s,o){return s instanceof ws&&o instanceof ws||s instanceof co&&o instanceof co?Ss(s.elements,o.elements,si):s instanceof uc&&o instanceof uc?si(s.Ee,o.Ee):s instanceof uo&&o instanceof uo})(a.transform,e.transform)}class cb{constructor(e,i){this.version=e,this.transformResults=i}}class Ln{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class bc{}function n0(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new r0(a.key,Ln.none()):new go(a.key,a.data,Ln.none());{const i=a.data,s=an.empty();let o=new Ce(qe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Dr(a.key,s,new gn(o.toArray()),Ln.none())}}function hb(a,e,i){a instanceof go?(function(o,h,d){const g=o.value.clone(),p=__(o.fieldTransforms,h,d.transformResults);g.setAll(p),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(a,e,i):a instanceof Dr?(function(o,h,d){if(!Wu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=__(o.fieldTransforms,h,d.transformResults),p=h.data;p.setAll(i0(o)),p.setAll(g),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Jl(a,e,i,s){return a instanceof go?(function(h,d,g,p){if(!Wu(h.precondition,d))return g;const _=h.value.clone(),T=v_(h.fieldTransforms,p,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(a,e,i,s):a instanceof Dr?(function(h,d,g,p){if(!Wu(h.precondition,d))return g;const _=v_(h.fieldTransforms,p,d),T=d.data;return T.setAll(i0(h)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((S=>S.field)))})(a,e,i,s):(function(h,d,g){return Wu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(a,e,i)}function fb(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),h=$v(s.transform,o||null);h!=null&&(i===null&&(i=an.empty()),i.set(s.field,h))}return i||null}function y_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ss(s,o,((h,d)=>ub(h,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class go extends bc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Dr extends bc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function i0(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}})),e}function __(a,e,i){const s=new Map;qt(a.length===i.length,32656,{Ae:i.length,Re:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,ob(d,g,i[o]))}return s}function v_(a,e,i){const s=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);s.set(o.field,lb(h,d,e))}return s}class r0 extends bc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class db extends bc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&hb(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Jl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Jl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Kv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const p=n0(d,g);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Nt())}isEqual(e){return this.batchId===e.batchId&&Ss(this.mutations,e.mutations,((i,s)=>y_(i,s)))&&Ss(this.baseMutations,e.baseMutations,((i,s)=>y_(i,s)))}}class Bd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){qt(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=(function(){return nb})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Bd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Ut;function yb(a){switch(a){case Z.OK:return yt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return yt(15467,{code:a})}}function a0(a){if(a===void 0)return Pi("GRPC error has no .code"),Z.UNKNOWN;switch(a){case _e.OK:return Z.OK;case _e.CANCELLED:return Z.CANCELLED;case _e.UNKNOWN:return Z.UNKNOWN;case _e.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case _e.INTERNAL:return Z.INTERNAL;case _e.UNAVAILABLE:return Z.UNAVAILABLE;case _e.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case _e.NOT_FOUND:return Z.NOT_FOUND;case _e.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case _e.ABORTED:return Z.ABORTED;case _e.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case _e.DATA_LOSS:return Z.DATA_LOSS;default:return yt(39323,{code:a})}}(Ut=_e||(_e={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=new yr([4294967295,4294967295],0);function E_(a){const e=wv().encode(a),i=new _v;return i.update(e),new Uint8Array(i.digest())}function T_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new yr([i,s],0),new yr([o,h],0)]}class jd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Ql(`Invalid padding: ${i}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*e.length-i,this.ge=yr.fromNumber(this.fe)}pe(e,i,s){let o=e.add(i.multiply(yr.fromNumber(s)));return o.compare(_b)===1&&(o=new yr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const i=E_(e),[s,o]=T_(i);for(let h=0;h<this.hashCount;h++){const d=this.pe(s,o,h);if(!this.ye(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new jd(h,o,i);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.fe===0)return;const i=E_(e),[s,o]=T_(i);for(let h=0;h<this.hashCount;h++){const d=this.pe(s,o,h);this.we(d)}}we(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,po.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Rc(Tt.min(),o,new re(wt),Li(),Nt())}}class po{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new po(s,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,i,s,o){this.Se=e,this.removedTargetIds=i,this.key=s,this.be=o}}class s0{constructor(e,i){this.targetId=e,this.De=i}}class l0{constructor(e,i,s=He.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class A_{constructor(){this.ve=0,this.Ce=S_(),this.Fe=He.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Nt(),i=Nt(),s=Nt();return this.Ce.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:yt(38017,{changeType:h})}})),new po(this.Fe,this.Me,e,i,s)}ke(){this.xe=!1,this.Ce=S_()}qe(e,i){this.xe=!0,this.Ce=this.Ce.insert(e,i)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class vb{constructor(e){this.We=e,this.Ge=new Map,this.ze=Li(),this.je=Xu(),this.Je=Xu(),this.He=new re(wt)}Ye(e){for(const i of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(i,e.be):this.Xe(i,e.key,e.be);for(const i of e.removedTargetIds)this.Xe(i,e.key,e.be)}et(e){this.forEachTarget(e,(i=>{const s=this.tt(i);switch(e.state){case 0:this.nt(i)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),s.Be(e.resumeToken));break;default:yt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Ge.forEach(((s,o)=>{this.nt(o)&&i(o)}))}it(e){const i=e.targetId,s=e.De.count,o=this.st(i);if(o){const h=o.target;if(od(h))if(s===0){const d=new mt(h.path);this.Xe(i,d,Ke.newNoDocument(d,Tt.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this.ot(i);if(d!==s){const g=this._t(e),p=g?this.ut(g,e,d):1;if(p!==0){this.rt(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,_)}}}}}_t(e){const i=e.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Sr(s).toUint8Array()}catch(p){if(p instanceof Nv)return Er("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new jd(d,o,h)}catch(p){return Er(p instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.fe===0?null:g}ut(e,i,s){return i.De.count===s-this.ht(e,i.targetId)?0:2}ht(e,i){const s=this.We.getRemoteKeysForTarget(i);let o=0;return s.forEach((h=>{const d=this.We.lt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.Xe(i,h,null),o++)})),o}Pt(e){const i=new Map;this.Ge.forEach(((h,d)=>{const g=this.st(d);if(g){if(h.current&&od(g.target)){const p=new mt(g.target.path);this.Tt(p).has(d)||this.It(d,p)||this.Xe(d,p,Ke.newNoDocument(p,e))}h.Ne&&(i.set(d,h.Le()),h.ke())}}));let s=Nt();this.Je.forEach(((h,d)=>{let g=!0;d.forEachWhile((p=>{const _=this.st(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(h))})),this.ze.forEach(((h,d)=>d.setReadTime(e)));const o=new Rc(e,i,this.He,this.ze,s);return this.ze=Li(),this.je=Xu(),this.Je=Xu(),this.He=new re(wt),o}Ze(e,i){if(!this.nt(e))return;const s=this.It(e,i.key)?2:0;this.tt(e).qe(i.key,s),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(e)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(e))}Xe(e,i,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,i)?o.qe(i,1):o.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(e)),this.Je=this.Je.insert(i,this.dt(i).add(e)),s&&(this.ze=this.ze.insert(i,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const i=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let i=this.Ge.get(e);return i||(i=new A_,this.Ge.set(e,i)),i}dt(e){let i=this.Je.get(e);return i||(i=new Ce(wt),this.Je=this.Je.insert(e,i)),i}Tt(e){let i=this.je.get(e);return i||(i=new Ce(wt),this.je=this.je.insert(e,i)),i}nt(e){const i=this.st(e)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",e),i}st(e){const i=this.Ge.get(e);return i&&i.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new A_),this.We.getRemoteKeysForTarget(e).forEach((i=>{this.Xe(e,i,null)}))}It(e,i){return this.We.getRemoteKeysForTarget(e).has(i)}}function Xu(){return new re(mt.comparator)}function S_(){return new re(mt.comparator)}const Eb={asc:"ASCENDING",desc:"DESCENDING"},Tb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ab={and:"AND",or:"OR"};class Sb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function cd(a,e){return a.useProto3Json||yc(e)?e:{value:e}}function cc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o0(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function bb(a,e){return cc(a,e.toTimestamp())}function ii(a){return qt(!!a,49232),Tt.fromTimestamp((function(i){const s=Ar(i);return new Zt(s.seconds,s.nanos)})(a))}function kd(a,e){return hd(a,e).canonicalString()}function hd(a,e){const i=(function(o){return new te(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function u0(a){const e=te.fromString(a);return qt(m0(e),10190,{key:e.toString()}),e}function fd(a,e){return kd(a.databaseId,e.path)}function Qf(a,e){const i=u0(e);if(i.get(1)!==a.databaseId.projectId)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new mt(h0(i))}function c0(a,e){return kd(a.databaseId,e)}function Rb(a){const e=u0(a);return e.length===4?te.emptyPath():h0(e)}function dd(a){return new te(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function h0(a){return qt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function b_(a,e,i){return{name:fd(a,e),fields:i.value.mapValue.fields}}function wb(a,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,T){return _.useProto3Json?(qt(T===void 0||typeof T=="string",58123),He.fromBase64String(T||"")):(qt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),He.fromUint8Array(T||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const T=_.code===void 0?Z.UNKNOWN:a0(_.code);return new ut(T,_.message||"")})(d);i=new l0(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Qf(a,s.document.name),h=ii(s.document.updateTime),d=s.document.createTime?ii(s.document.createTime):Tt.min(),g=new an({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(o,h,d,g),_=s.targetIds||[],T=s.removedTargetIds||[];i=new tc(_,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Qf(a,s.document),h=s.readTime?ii(s.readTime):Tt.min(),d=Ke.newNoDocument(o,h),g=s.removedTargetIds||[];i=new tc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Qf(a,s.document),h=s.removedTargetIds||[];i=new tc([],h,o,null)}else{if(!("filter"in e))return yt(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new pb(o,h),g=s.targetId;i=new s0(g,d)}}return i}function Cb(a,e){let i;if(e instanceof go)i={update:b_(a,e.key,e.value)};else if(e instanceof r0)i={delete:fd(a,e.key)};else if(e instanceof Dr)i={update:b_(a,e.key,e.data),updateMask:Pb(e.fieldMask)};else{if(!(e instanceof db))return yt(16599,{Rt:e.type});i={verify:fd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(h,d){const g=d.transform;if(g instanceof uo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ws)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof co)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof uc)return{fieldPath:d.field.canonicalString(),increment:g.Ee};throw yt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:bb(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:yt(27497)})(a,e.precondition)),i}function Db(a,e){return a&&a.length>0?(qt(e!==void 0,14353),a.map((i=>(function(o,h){let d=o.updateTime?ii(o.updateTime):ii(h);return d.isEqual(Tt.min())&&(d=ii(h)),new cb(d,o.transformResults||[])})(i,e)))):[]}function Vb(a,e){return{documents:[c0(a,e.path)]}}function Ib(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=c0(a,o);const h=(function(_){if(_.length!==0)return d0(li.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((T=>(function(w){return{field:_s(w.field),direction:Mb(w.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=cd(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{Vt:i,parent:o}}function Nb(a){let e=Rb(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){qt(s===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let h=[];i.where&&(h=(function(S){const w=f0(S);return w instanceof li&&kv(w)?w.getFilters():[w]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((w=>(function(Y){return new oc(vs(Y.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(w)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let w;return w=typeof S=="object"?S.value:S,yc(w)?null:w})(i.limit));let p=null;i.startAt&&(p=(function(S){const w=!!S.before,k=S.values||[];return new lc(k,w)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const w=!S.before,k=S.values||[];return new lc(k,w)})(i.endAt)),ZS(e,o,d,h,g,"F",p,_)}function Ob(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function f0(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=vs(i.unaryFilter.field);return we.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=vs(i.unaryFilter.field);return we.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=vs(i.unaryFilter.field);return we.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=vs(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return we.create(vs(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return li.create(i.compositeFilter.filters.map((s=>f0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(a):yt(30097,{filter:a})}function Mb(a){return Eb[a]}function xb(a){return Tb[a]}function Ub(a){return Ab[a]}function _s(a){return{fieldPath:a.canonicalString()}}function vs(a){return qe.fromServerFormat(a.fieldPath)}function d0(a){return a instanceof we?(function(i){if(i.op==="=="){if(h_(i.value))return{unaryFilter:{field:_s(i.field),op:"IS_NAN"}};if(c_(i.value))return{unaryFilter:{field:_s(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(h_(i.value))return{unaryFilter:{field:_s(i.field),op:"IS_NOT_NAN"}};if(c_(i.value))return{unaryFilter:{field:_s(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_s(i.field),op:xb(i.op),value:i.value}}})(a):a instanceof li?(function(i){const s=i.getFilters().map((o=>d0(o)));return s.length===1?s[0]:{compositeFilter:{op:Ub(i.op),filters:s}}})(a):yt(54877,{filter:a})}function Pb(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function m0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,i,s,o,h=Tt.min(),d=Tt.min(),g=He.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){this.gt=e}}function zb(a){const e=Nb({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?ud(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this.Dn=new jb}addToCollectionParentIndex(e,i){return this.Dn.add(i),K.resolve()}getCollectionParents(e,i){return K.resolve(this.Dn.getEntries(i))}addFieldIndex(e,i){return K.resolve()}deleteFieldIndex(e,i){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,i){return K.resolve()}getDocumentsMatchingTarget(e,i){return K.resolve(null)}getIndexType(e,i){return K.resolve(0)}getFieldIndexes(e,i){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,i){return K.resolve(Tr.min())}getMinOffsetFromCollectionGroup(e,i){return K.resolve(Tr.min())}updateCollectionGroup(e,i,s){return K.resolve()}updateIndexEntries(e,i){return K.resolve()}}class jb{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Ce(te.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ce(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},g0=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(g0,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Cs(0)}static ur(){return new Cs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="LruGarbageCollector",kb=1048576;function C_([a,e],[i,s]){const o=wt(a,i);return o===0?wt(e,s):o}class qb{constructor(e){this.Tr=e,this.buffer=new Ce(C_),this.Ir=0}dr(){return++this.Ir}Er(e){const i=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();C_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Hb{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){lt(w_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Os(i)?lt(w_,"Ignoring IndexedDB error during garbage collection: ",i):await Ns(i)}await this.Rr(3e5)}))}}class Gb{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.mr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return K.resolve(pc.ue);const s=new qb(i);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.Vr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(R_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R_):this.pr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,i){let s,o,h,d,g,p,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,g=Date.now(),this.removeTargets(e,s,i)))).next((S=>(h=S,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(_=Date.now(),ps()<=Pt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(p-g)+`ms
	Removed ${S} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:S}))))}}function Fb(a,e){return new Gb(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.changes=new Ta((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?K.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&Jl(s.mutation,o,gn.empty(),Zt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Nt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Nt()){const o=da();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((h=>{let d=Fl();return h.forEach(((g,p)=>{d=d.insert(g,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=da();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Nt())))}populateOverlays(e,i,s){const o=[];return s.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,s,o){let h=Li();const d=$l(),g=(function(){return $l()})();return i.forEach(((p,_)=>{const T=s.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof Dr)?h=h.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Jl(T.mutation,_,T.mutation.getFieldMask(),Zt.now())):d.set(_.key,gn.empty())})),this.recalculateAndSaveOverlays(e,h).next((p=>(p.forEach(((_,T)=>d.set(_,T))),i.forEach(((_,T)=>{var S;return g.set(_,new Yb(T,(S=d.get(_))!==null&&S!==void 0?S:null))})),g)))}recalculateAndSaveOverlays(e,i){const s=$l();let o=new re(((d,g)=>d-g)),h=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((p=>{const _=i.get(p);if(_===null)return;let T=s.get(p)||gn.empty();T=g.applyToLocalView(_,T),s.set(p,T);const S=(o.get(g.batchId)||Nt()).add(p);o=o.insert(g.batchId,S)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,T=p.value,S=Kv();T.forEach((w=>{if(!h.has(w)){const k=n0(i.get(w),s.get(w));k!==null&&S.set(w,k),h=h.add(w)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return K.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):$S(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):K.resolve(da());let g=ao,p=h;return d.next((_=>K.forEach(_,((T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),h.get(T)?K.resolve():this.remoteDocumentCache.getEntry(e,T).next((w=>{p=p.insert(T,w)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,p,_,Nt()))).next((T=>({batchId:g,changes:Xv(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new mt(i)).next((s=>{let o=Fl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Fl();return this.indexManager.getCollectionParents(e,h).next((g=>K.forEach(g,(p=>{const _=(function(S,w){return new vc(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,p.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next((T=>{T.forEach(((S,w)=>{d=d.insert(S,w)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o)))).next((d=>{h.forEach(((p,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,Ke.newInvalidDocument(T)))}));let g=Fl();return d.forEach(((p,_)=>{const T=h.get(p);T!==void 0&&Jl(T.mutation,_,gn.empty(),Zt.now()),Ac(i,_)&&(g=g.insert(p,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,i){return K.resolve(this.Br.get(i))}saveBundleMetadata(e,i){return this.Br.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:ii(o.createTime)}})(i)),K.resolve()}getNamedQuery(e,i){return K.resolve(this.Lr.get(i))}saveNamedQuery(e,i){return this.Lr.set(i.name,(function(o){return{name:o.name,query:zb(o.bundledQuery),readTime:ii(o.readTime)}})(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(){this.overlays=new re(mt.comparator),this.kr=new Map}getOverlay(e,i){return K.resolve(this.overlays.get(i))}getOverlays(e,i){const s=da();return K.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&s.set(o,h)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,h)=>{this.wt(e,i,h)})),K.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.kr.delete(s)),K.resolve()}getOverlaysForCollection(e,i,s){const o=da(),h=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&p.largestBatchId>s&&o.set(p.getKey(),p)}return K.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new re(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let T=h.get(_.largestBatchId);T===null&&(T=da(),h=h.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=da(),p=h.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,T)=>g.set(_,T))),!(g.size()>=o)););return K.resolve(g)}wt(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new gb(i,s));let h=this.kr.get(i);h===void 0&&(h=Nt(),this.kr.set(i,h)),this.kr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(){this.qr=new Ce(xe.Qr),this.$r=new Ce(xe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,i){const s=new xe(e,i);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Wr(new xe(e,i))}Gr(e,i){e.forEach((s=>this.removeReference(s,i)))}zr(e){const i=new mt(new te([])),s=new xe(i,e),o=new xe(i,e+1),h=[];return this.$r.forEachInRange([s,o],(d=>{this.Wr(d),h.push(d.key)})),h}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const i=new mt(new te([])),s=new xe(i,e),o=new xe(i,e+1);let h=Nt();return this.$r.forEachInRange([s,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new xe(e,0),s=this.qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class xe{constructor(e,i){this.key=e,this.Hr=i}static Qr(e,i){return mt.comparator(e.key,i.key)||wt(e.Hr,i.Hr)}static Ur(e,i){return wt(e.Hr,i.Hr)||mt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new Ce(xe.Qr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new mb(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Yr=this.Yr.add(new xe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,i){return K.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Xr(s),h=o<0?0:o;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Md:this.er-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new xe(i,0),o=new xe(i,Number.POSITIVE_INFINITY),h=[];return this.Yr.forEachInRange([s,o],(d=>{const g=this.Zr(d.Hr);h.push(g)})),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ce(wt);return i.forEach((o=>{const h=new xe(o,0),d=new xe(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([h,d],(g=>{s=s.add(g.Hr)}))})),K.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;mt.isDocumentKey(h)||(h=h.child(""));const d=new xe(new mt(h),0);let g=new Ce(wt);return this.Yr.forEachWhile((p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(g=g.add(p.Hr)),!0)}),d),K.resolve(this.ei(g))}ei(e){const i=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){qt(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return K.forEach(i.mutations,(o=>{const h=new xe(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Yr=s}))}rr(e){}containsKey(e,i){const s=new xe(i,0),o=this.Yr.firstAfterOrEqual(s);return K.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ti(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e){this.ni=e,this.docs=(function(){return new re(mt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ni(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return K.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let s=Li();return i.forEach((o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Ke.newInvalidDocument(o))})),K.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Li();const d=i.path,g=new mt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||DS(CS(T),s)<=0||(o.has(T.key)||Ac(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(e,i,s,o){yt(9500)}ri(e,i){return K.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new t2(this)}getSize(e){return K.resolve(this.size)}}class t2 extends Qb{constructor(e){super(),this.Or=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)})),K.waitFor(i)}getFromCache(e,i){return this.Or.getEntry(e,i)}getAllFromCache(e,i){return this.Or.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.persistence=e,this.ii=new Ta((i=>Pd(i)),Ld),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.si=0,this.oi=new qd,this.targetCount=0,this._i=Cs.ar()}forEachTarget(e,i){return this.ii.forEach(((s,o)=>i(o))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.si&&(this.si=i),K.resolve()}hr(e){this.ii.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this._i=new Cs(i),this.highestTargetId=i),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,i){return this.hr(i),this.targetCount+=1,K.resolve()}updateTargetData(e,i){return this.hr(i),K.resolve()}removeTargetData(e,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.ii.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ii.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),K.waitFor(h).next((()=>o))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,i){const s=this.ii.get(i)||null;return K.resolve(s)}addMatchingKeys(e,i,s){return this.oi.Kr(i,s),K.resolve()}removeMatchingKeys(e,i,s){this.oi.Gr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),K.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.oi.zr(i),K.resolve()}getMatchingKeysForTargetId(e,i){const s=this.oi.Jr(i);return K.resolve(s)}containsKey(e,i){return K.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,i){this.ai={},this.overlays={},this.ui=new pc(0),this.ci=!1,this.ci=!0,this.li=new $b,this.referenceDelegate=e(this),this.hi=new e2(this),this.indexManager=new Bb,this.remoteDocumentCache=(function(o){return new Wb(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new Lb(i),this.Ti=new Kb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Zb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ai[e.toKey()];return s||(s=new Jb(i,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,i,s){lt("MemoryPersistence","Starting transaction:",e);const o=new n2(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ei(e,i){return K.or(Object.values(this.ai).map((s=>()=>s.containsKey(e,i))))}}class n2 extends IS{constructor(e){super(),this.currentSequenceNumber=e}}class Hd{constructor(e){this.persistence=e,this.Ai=new qd,this.Ri=null}static Vi(e){return new Hd(e)}get mi(){if(this.Ri)return this.Ri;throw yt(60996)}addReference(e,i,s){return this.Ai.addReference(s,i),this.mi.delete(s.toString()),K.resolve()}removeReference(e,i,s){return this.Ai.removeReference(s,i),this.mi.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,i){return this.mi.add(i.toString()),K.resolve()}removeTarget(e,i){this.Ai.zr(i.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.mi.add(h.toString())))})).next((()=>s.removeTargetData(e,i)))}Ii(){this.Ri=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.mi,(s=>{const o=mt.fromPath(s);return this.fi(e,o).next((h=>{h||i.removeEntry(o,Tt.min())}))})).next((()=>(this.Ri=null,i.apply(e))))}updateLimboDocument(e,i){return this.fi(e,i).next((s=>{s?this.mi.delete(i.toString()):this.mi.add(i.toString())}))}Pi(e){return 0}fi(e,i){return K.or([()=>K.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class hc{constructor(e,i){this.persistence=e,this.gi=new Ta((s=>MS(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Fb(this,i)}static Vi(e,i){return new hc(e,i)}Ii(){}di(e){return K.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}mr(e){const i=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}yr(e){let i=0;return this.gr(e,(s=>{i++})).next((()=>i))}gr(e,i){return K.forEach(this.gi,((s,o)=>this.Sr(e,s,o).next((h=>h?K.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ri(e,(d=>this.Sr(e,d,i).next((g=>{g||(s++,h.removeEntry(d,Tt.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.gi.set(i,e.currentSequenceNumber),K.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.gi.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,i,s){return this.gi.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,i){return this.gi.set(i,e.currentSequenceNumber),K.resolve()}Pi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=$u(e.data.value)),i}Sr(e,i,s){return K.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.gi.get(i);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Is=s,this.ds=o}static Es(e,i){let s=Nt(),o=Nt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Gd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return J1()?8:NS(Z1())>0?6:4})()}initialize(e,i){this.gs=e,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ps(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ys(e,i,o,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new i2;return this.ws(e,i,d).next((g=>{if(h.result=g,this.Rs)return this.Ss(e,i,d,g.size)}))})).next((()=>h.result))}Ss(e,i,s,o){return s.documentReadCount<this.Vs?(ps()<=Pt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",ys(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),K.resolve()):(ps()<=Pt.DEBUG&&lt("QueryEngine","Query:",ys(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(ps()<=Pt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",ys(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(i))):K.resolve())}ps(e,i){if(g_(i))return K.resolve(null);let s=ni(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=ud(i,null,"F"),s=ni(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const d=Nt(...h);return this.gs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((p=>{const _=this.bs(i,g);return this.Ds(i,_,d,p.readTime)?this.ps(e,ud(i,null,"F")):this.vs(e,_,i,p)}))))})))))}ys(e,i,s,o){return g_(i)||o.isEqual(Tt.min())?K.resolve(null):this.gs.getDocuments(e,s).next((h=>{const d=this.bs(i,h);return this.Ds(i,d,s,o)?K.resolve(null):(ps()<=Pt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ys(i)),this.vs(e,d,i,wS(o,ao)).next((g=>g)))}))}bs(e,i){let s=new Ce(Qv(e));return i.forEach(((o,h)=>{Ac(e,h)&&(s=s.add(h))})),s}Ds(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ws(e,i,s){return ps()<=Pt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",ys(i)),this.gs.getDocumentsMatchingQuery(e,i,Tr.min(),s)}vs(e,i,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="LocalStore",a2=3e8;class s2{constructor(e,i,s,o){this.persistence=e,this.Cs=i,this.serializer=o,this.Fs=new re(wt),this.Ms=new Ta((h=>Pd(h)),Ld),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xb(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Fs)))}}function l2(a,e,i,s){return new s2(a,e,i,s)}async function y0(a,e){const i=At(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((h=>(o=h,i.Ns(e),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],g=[];let p=Nt();for(const _ of o){d.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of h){g.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(s,p).next((_=>({Bs:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function o2(a,e){const i=At(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),h=i.Os.newChangeBuffer({trackRemovals:!0});return(function(g,p,_,T){const S=_.batch,w=S.keys();let k=K.resolve();return w.forEach((Y=>{k=k.next((()=>T.getEntry(p,Y))).next((J=>{const H=_.docVersions.get(Y);qt(H!==null,48541),J.version.compareTo(H)<0&&(S.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),T.addEntry(J)))}))})),k.next((()=>g.mutationQueue.removeMutationBatch(p,S)))})(i,s,e,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let p=Nt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function _0(a){const e=At(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.hi.getLastRemoteSnapshotVersion(i)))}function u2(a,e){const i=At(a),s=e.snapshotVersion;let o=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Os.newChangeBuffer({trackRemovals:!0});o=i.Fs;const g=[];e.targetChanges.forEach(((T,S)=>{const w=o.get(S);if(!w)return;g.push(i.hi.removeMatchingKeys(h,T.removedDocuments,S).next((()=>i.hi.addMatchingKeys(h,T.addedDocuments,S))));let k=w.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(S)!==null?k=k.withResumeToken(He.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):T.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(T.resumeToken,s)),o=o.insert(S,k),(function(J,H,ct){return J.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=a2?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0})(w,k,T)&&g.push(i.hi.updateTargetData(h,k))}));let p=Li(),_=Nt();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,T))})),g.push(c2(h,d,e.documentUpdates).next((T=>{p=T.Ls,_=T.ks}))),!s.isEqual(Tt.min())){const T=i.hi.getLastRemoteSnapshotVersion(h).next((S=>i.hi.setTargetsMetadata(h,h.currentSequenceNumber,s)));g.push(T)}return K.waitFor(g).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,p,_))).next((()=>p))})).then((h=>(i.Fs=o,h)))}function c2(a,e,i){let s=Nt(),o=Nt();return i.forEach((h=>s=s.add(h))),e.getEntries(a,s).next((h=>{let d=Li();return i.forEach(((g,p)=>{const _=h.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(Tt.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):lt(Fd,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)})),{Ls:d,ks:o}}))}function h2(a,e){const i=At(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Md),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function f2(a,e){const i=At(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.hi.getTargetData(s,e).next((h=>h?(o=h,K.resolve(o)):i.hi.allocateTargetId(s).next((d=>(o=new mr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(s.targetId,s),i.Ms.set(e,s.targetId)),s}))}async function md(a,e,i){const s=At(a),o=s.Fs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Os(d))throw d;lt(Fd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function D_(a,e,i){const s=At(a);let o=Tt.min(),h=Nt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,_,T){const S=At(p),w=S.Ms.get(T);return w!==void 0?K.resolve(S.Fs.get(w)):S.hi.getTargetData(_,T)})(s,d,ni(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(d,g.targetId).next((p=>{h=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,e,i?o:Tt.min(),i?h:Nt()))).next((g=>(d2(s,WS(e),g),{documents:g,qs:h})))))}function d2(a,e,i){let s=a.xs.get(e)||Tt.min();i.forEach(((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),a.xs.set(e,s)}class V_{constructor(){this.activeTargetIds=ab()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class m2{constructor(){this.Fo=new V_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,i,s){this.Mo[e]=i}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new V_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="ConnectivityMonitor";class N_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){lt(I_,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){lt(I_,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku=null;function gd(){return Ku===null?Ku=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ku++,"0x"+Ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="RestConnection",p2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class y2{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===ac?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,i,s,o,h){const d=gd(),g=this.Go(e,i.toUriEncodedString());lt(Yf,`Sending RPC '${e}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,h);const{host:_}=new URL(g),T=Dd(_);return this.jo(e,g,p,s,T).then((S=>(lt(Yf,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw Er(Yf,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",s),S}))}Jo(e,i,s,o,h,d){return this.Wo(e,i,s,o,h)}zo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Is})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),s&&s.headers.forEach(((o,h)=>e[h]=o))}Go(e,i){const s=p2[e];return`${this.$o}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class v2 extends y2{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,i,s,o,h){const d=gd();return new Promise(((g,p)=>{const _=new vv;_.setWithCredentials(!0),_.listenOnce(Ev.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Zu.NO_ERROR:const S=_.getResponseJson();lt(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case Zu.TIMEOUT:lt(Ye,`RPC '${e}' ${d} timed out`),p(new ut(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Zu.HTTP_ERROR:const w=_.getStatus();if(lt(Ye,`RPC '${e}' ${d} failed with status:`,w,"response text:",_.getResponseText()),w>0){let k=_.getResponseJson();Array.isArray(k)&&(k=k[0]);const Y=k==null?void 0:k.error;if(Y&&Y.status&&Y.message){const J=(function(ct){const W=ct.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(W)>=0?W:Z.UNKNOWN})(Y.status);p(new ut(J,Y.message))}else p(new ut(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new ut(Z.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{c_:e,streamId:d,l_:_.getLastErrorCode(),h_:_.getLastError()})}}finally{lt(Ye,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);lt(Ye,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",T,s,15)}))}P_(e,i,s){const o=gd(),h=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Sv(),g=Av(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const T=h.join("");lt(Ye,`Creating RPC '${e}' stream ${o}: ${T}`,p);const S=d.createWebChannel(T,p);this.T_(S);let w=!1,k=!1;const Y=new _2({Ho:H=>{k?lt(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(w||(lt(Ye,`Opening RPC '${e}' stream ${o} transport.`),S.open(),w=!0),lt(Ye,`RPC '${e}' stream ${o} sending:`,H),S.send(H))},Yo:()=>S.close()}),J=(H,ct,W)=>{H.listen(ct,(it=>{try{W(it)}catch(St){setTimeout((()=>{throw St}),0)}}))};return J(S,Gl.EventType.OPEN,(()=>{k||(lt(Ye,`RPC '${e}' stream ${o} transport opened.`),Y.s_())})),J(S,Gl.EventType.CLOSE,(()=>{k||(k=!0,lt(Ye,`RPC '${e}' stream ${o} transport closed`),Y.__(),this.I_(S))})),J(S,Gl.EventType.ERROR,(H=>{k||(k=!0,Er(Ye,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),Y.__(new ut(Z.UNAVAILABLE,"The operation could not be completed")))})),J(S,Gl.EventType.MESSAGE,(H=>{var ct;if(!k){const W=H.data[0];qt(!!W,16349);const it=W,St=(it==null?void 0:it.error)||((ct=it[0])===null||ct===void 0?void 0:ct.error);if(St){lt(Ye,`RPC '${e}' stream ${o} received error:`,St);const _t=St.status;let zt=(function(D){const N=_e[D];if(N!==void 0)return a0(N)})(_t),O=St.message;zt===void 0&&(zt=Z.INTERNAL,O="Unknown error status: "+_t+" with message "+St.message),k=!0,Y.__(new ut(zt,O)),S.close()}else lt(Ye,`RPC '${e}' stream ${o} received:`,W),Y.a_(W)}})),J(g,Tv.STAT_EVENT,(H=>{H.stat===id.PROXY?lt(Ye,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===id.NOPROXY&&lt(Ye,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Y.o_()}),0),Y}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((i=>i===e))}}function Xf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(a){return new Sb(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Fi=e,this.timerId=i,this.d_=s,this.E_=o,this.A_=h,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const i=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,i-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="PersistentStream";class E0{constructor(e,i,s,o,h,d,g,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new v0(e,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Pi(i.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(i)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===i&&this.W_(s,o)}),(s=>{e((()=>{const o=new ut(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(e,i){const s=this.K_(this.b_);this.stream=this.z_(e,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return lt(O_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return i=>{this.Fi.enqueueAndForget((()=>this.b_===e?i():(lt(O_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class E2 extends E0{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}z_(e,i){return this.connection.P_("Listen",e,i)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const i=wb(this.serializer,e),s=(function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?ii(d.readTime):Tt.min()})(e);return this.listener.J_(i,s)}H_(e){const i={};i.database=dd(this.serializer),i.addTarget=(function(h,d){let g;const p=d.target;if(g=od(p)?{documents:Vb(h,p)}:{query:Ib(h,p).Vt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=o0(h,d.resumeToken);const _=cd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=cc(h,d.snapshotVersion.toTimestamp());const _=cd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const s=Ob(this.serializer,e);s&&(i.labels=s),this.k_(i)}Y_(e){const i={};i.database=dd(this.serializer),i.removeTarget=e,this.k_(i)}}class T2 extends E0{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,i){return this.connection.P_("Write",e,i)}j_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const i=Db(e.writeResults,e.commitTime),s=ii(e.commitTime);return this.listener.ta(s,i)}na(){const e={};e.database=dd(this.serializer),this.k_(e)}X_(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>Cb(this.serializer,s)))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{}class S2 extends A2{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(e,hd(i,s),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(Z.UNKNOWN,h.toString())}))}Jo(e,i,s,o,h){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Jo(e,hd(i,s),o,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(Z.UNKNOWN,d.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class b2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Pi(i),this._a=!1):lt("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="RemoteStore";class R2{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=h,this.Ea.xo((d=>{s.enqueueAndForget((async()=>{Aa(this)&&(lt(ya,"Restarting streams for network reachability change."),await(async function(p){const _=At(p);_.Ia.add(4),await yo(_),_.Aa.set("Unknown"),_.Ia.delete(4),await Cc(_)})(this))}))})),this.Aa=new b2(s,o)}}async function Cc(a){if(Aa(a))for(const e of a.da)await e(!0)}async function yo(a){for(const e of a.da)await e(!1)}function T0(a,e){const i=At(a);i.Ta.has(e.targetId)||(i.Ta.set(e.targetId,e),Kd(i)?Xd(i):Ms(i).x_()&&Yd(i,e))}function Qd(a,e){const i=At(a),s=Ms(i);i.Ta.delete(e),s.x_()&&A0(i,e),i.Ta.size===0&&(s.x_()?s.B_():Aa(i)&&i.Aa.set("Unknown"))}function Yd(a,e){if(a.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ms(a).H_(e)}function A0(a,e){a.Ra.$e(e),Ms(a).Y_(e)}function Xd(a){a.Ra=new vb({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>a.Ta.get(e)||null,lt:()=>a.datastore.serializer.databaseId}),Ms(a).start(),a.Aa.aa()}function Kd(a){return Aa(a)&&!Ms(a).M_()&&a.Ta.size>0}function Aa(a){return At(a).Ia.size===0}function S0(a){a.Ra=void 0}async function w2(a){a.Aa.set("Online")}async function C2(a){a.Ta.forEach(((e,i)=>{Yd(a,e)}))}async function D2(a,e){S0(a),Kd(a)?(a.Aa.la(e),Xd(a)):a.Aa.set("Unknown")}async function V2(a,e,i){if(a.Aa.set("Online"),e instanceof l0&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ta.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ta.delete(g),o.Ra.removeTarget(g))})(a,e)}catch(s){lt(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await fc(a,s)}else if(e instanceof tc?a.Ra.Ye(e):e instanceof s0?a.Ra.it(e):a.Ra.et(e),!i.isEqual(Tt.min()))try{const s=await _0(a.localStore);i.compareTo(s)>=0&&await(function(h,d){const g=h.Ra.Pt(d);return g.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=h.Ta.get(_);T&&h.Ta.set(_,T.withResumeToken(p.resumeToken,d))}})),g.targetMismatches.forEach(((p,_)=>{const T=h.Ta.get(p);if(!T)return;h.Ta.set(p,T.withResumeToken(He.EMPTY_BYTE_STRING,T.snapshotVersion)),A0(h,p);const S=new mr(T.target,p,_,T.sequenceNumber);Yd(h,S)})),h.remoteSyncer.applyRemoteEvent(g)})(a,i)}catch(s){lt(ya,"Failed to raise snapshot:",s),await fc(a,s)}}async function fc(a,e,i){if(!Os(e))throw e;a.Ia.add(1),await yo(a),a.Aa.set("Offline"),i||(i=()=>_0(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{lt(ya,"Retrying IndexedDB access"),await i(),a.Ia.delete(1),await Cc(a)}))}function b0(a,e){return e().catch((i=>fc(a,i,e)))}async function Dc(a){const e=At(a),i=Rr(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Md;for(;I2(e);)try{const o=await h2(e.localStore,s);if(o===null){e.Pa.length===0&&i.B_();break}s=o.batchId,N2(e,o)}catch(o){await fc(e,o)}R0(e)&&w0(e)}function I2(a){return Aa(a)&&a.Pa.length<10}function N2(a,e){a.Pa.push(e);const i=Rr(a);i.x_()&&i.Z_&&i.X_(e.mutations)}function R0(a){return Aa(a)&&!Rr(a).M_()&&a.Pa.length>0}function w0(a){Rr(a).start()}async function O2(a){Rr(a).na()}async function M2(a){const e=Rr(a);for(const i of a.Pa)e.X_(i.mutations)}async function x2(a,e,i){const s=a.Pa.shift(),o=Bd.from(s,e,i);await b0(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await Dc(a)}async function U2(a,e){e&&Rr(a).Z_&&await(async function(s,o){if((function(d){return yb(d)&&d!==Z.ABORTED})(o.code)){const h=s.Pa.shift();Rr(s).N_(),await b0(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Dc(s)}})(a,e),R0(a)&&w0(a)}async function M_(a,e){const i=At(a);i.asyncQueue.verifyOperationInProgress(),lt(ya,"RemoteStore received new credentials");const s=Aa(i);i.Ia.add(3),await yo(i),s&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ia.delete(3),await Cc(i)}async function P2(a,e){const i=At(a);e?(i.Ia.delete(2),await Cc(i)):e||(i.Ia.add(2),await yo(i),i.Aa.set("Unknown"))}function Ms(a){return a.Va||(a.Va=(function(i,s,o){const h=At(i);return h.ia(),new E2(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Zo:w2.bind(null,a),e_:C2.bind(null,a),n_:D2.bind(null,a),J_:V2.bind(null,a)}),a.da.push((async e=>{e?(a.Va.N_(),Kd(a)?Xd(a):a.Aa.set("Unknown")):(await a.Va.stop(),S0(a))}))),a.Va}function Rr(a){return a.ma||(a.ma=(function(i,s,o){const h=At(i);return h.ia(),new T2(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),e_:O2.bind(null,a),n_:U2.bind(null,a),ea:M2.bind(null,a),ta:x2.bind(null,a)}),a.da.push((async e=>{e?(a.ma.N_(),await Dc(a)):(await a.ma.stop(),a.Pa.length>0&&(lt(ya,`Stopping write stream with ${a.Pa.length} pending writes`),a.Pa=[]))}))),a.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new Zd(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $d(a,e){if(Pi("AsyncQueue",`${e}: ${a}`),Os(a))return new ut(Z.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{static emptySet(e){return new Ts(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||mt.comparator(i.key,s.key):(i,s)=>mt.comparator(i.key,s.key),this.keyedMap=Fl(),this.sortedSet=new re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ts)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Ts;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(){this.fa=new re(mt.comparator)}track(e){const i=e.doc.key,s=this.fa.get(i);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(i,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(i):e.type===1&&s.type===2?this.fa=this.fa.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):yt(63341,{At:e,ga:s}):this.fa=this.fa.insert(i,e)}pa(){const e=[];return this.fa.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Ds{constructor(e,i,s,o,h,d,g,p,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Ds(e,i,Ts.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class z2{constructor(){this.queries=U_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,s){const o=At(i),h=o.queries;o.queries=U_(),h.forEach(((d,g)=>{for(const p of g.wa)p.onError(s)}))})(this,new ut(Z.ABORTED,"Firestore shutting down"))}}function U_(){return new Ta((a=>Fv(a)),Tc)}async function C0(a,e){const i=At(a);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.ba()&&(s=2):(h=new L2,s=e.ba()?0:1);try{switch(s){case 0:h.ya=await i.onListen(o,!0);break;case 1:h.ya=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=$d(d,`Initialization of query '${ys(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.wa.push(e),e.va(i.onlineState),h.ya&&e.Ca(h.ya)&&Jd(i)}async function D0(a,e){const i=At(a),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.wa.indexOf(e);d>=0&&(h.wa.splice(d,1),h.wa.length===0?o=e.ba()?0:1:!h.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function B2(a,e){const i=At(a);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.wa)g.Ca(o)&&(s=!0);d.ya=o}}s&&Jd(i)}function j2(a,e,i){const s=At(a),o=s.queries.get(e);if(o)for(const h of o.wa)h.onError(i);s.queries.delete(e)}function Jd(a){a.Da.forEach((e=>{e.next()}))}var pd,P_;(P_=pd||(pd={})).Fa="default",P_.Cache="cache";class V0{constructor(e,i,s){this.query=e,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ds(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),i=!0):this.Ba(e,this.onlineState)&&(this.La(e),i=!0),this.Oa=e,i}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),i=!0),i}Ba(e,i){if(!e.fromCache||!this.ba())return!0;const s=i!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(e){e=Ds.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==pd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this.key=e}}class N0{constructor(e){this.key=e}}class k2{constructor(e,i){this.query=e,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Nt(),this.mutatedKeys=Nt(),this.Xa=Qv(e),this.eu=new Ts(this.Xa)}get tu(){return this.Ha}nu(e,i){const s=i?i.ru:new x_,o=i?i.eu:this.eu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,S)=>{const w=o.get(T),k=Ac(this.query,S)?S:null,Y=!!w&&this.mutatedKeys.has(w.key),J=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let H=!1;w&&k?w.data.isEqual(k.data)?Y!==J&&(s.track({type:3,doc:k}),H=!0):this.iu(w,k)||(s.track({type:2,doc:k}),H=!0,(p&&this.Xa(k,p)>0||_&&this.Xa(k,_)<0)&&(g=!0)):!w&&k?(s.track({type:0,doc:k}),H=!0):w&&!k&&(s.track({type:1,doc:w}),H=!0,(p||_)&&(g=!0)),H&&(k?(d=d.add(k),h=J?h.add(T):h.delete(T)):(d=d.delete(T),h=h.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),h=h.delete(T.key),s.track({type:1,doc:T})}return{eu:d,ru:s,Ds:g,mutatedKeys:h}}iu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort(((T,S)=>(function(k,Y){const J=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{At:H})}};return J(k)-J(Y)})(T.type,S.type)||this.Xa(T.doc,S.doc))),this.su(s),o=o!=null&&o;const g=i&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,_=p!==this.Ya;return this.Ya=p,d.length!==0||_?{snapshot:new Ds(this.query,e.eu,h,d,e.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new x_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((i=>this.Ha=this.Ha.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ha=this.Ha.delete(i))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Nt(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const i=[];return e.forEach((s=>{this.Za.has(s)||i.push(new N0(s))})),this.Za.forEach((s=>{e.has(s)||i.push(new I0(s))})),i}uu(e){this.Ha=e.qs,this.Za=Nt();const i=this.nu(e.documents);return this.applyChanges(i,!0)}cu(){return Ds.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Wd="SyncEngine";class q2{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class H2{constructor(e){this.key=e,this.lu=!1}}class G2{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new Ta((g=>Fv(g)),Tc),this.Tu=new Map,this.Iu=new Set,this.du=new re(mt.comparator),this.Eu=new Map,this.Au=new qd,this.Ru={},this.Vu=new Map,this.mu=Cs.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function F2(a,e,i=!0){const s=L0(a);let o;const h=s.Pu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.cu()):o=await O0(s,e,i,!0),o}async function Q2(a,e){const i=L0(a);await O0(i,e,!0,!1)}async function O0(a,e,i,s){const o=await f2(a.localStore,ni(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await Y2(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&T0(a.remoteStore,o),g}async function Y2(a,e,i,s,o){a.gu=(S,w,k)=>(async function(J,H,ct,W){let it=H.view.nu(ct);it.Ds&&(it=await D_(J.localStore,H.query,!1).then((({documents:O})=>H.view.nu(O,it))));const St=W&&W.targetChanges.get(H.targetId),_t=W&&W.targetMismatches.get(H.targetId)!=null,zt=H.view.applyChanges(it,J.isPrimaryClient,St,_t);return z_(J,H.targetId,zt._u),zt.snapshot})(a,S,w,k);const h=await D_(a.localStore,e,!0),d=new k2(e,h.qs),g=d.nu(h.documents),p=po.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),_=d.applyChanges(g,a.isPrimaryClient,p);z_(a,i,_._u);const T=new q2(e,i,d);return a.Pu.set(e,T),a.Tu.has(i)?a.Tu.get(i).push(e):a.Tu.set(i,[e]),_.snapshot}async function X2(a,e,i){const s=At(a),o=s.Pu.get(e),h=s.Tu.get(o.targetId);if(h.length>1)return s.Tu.set(o.targetId,h.filter((d=>!Tc(d,e)))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await md(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Qd(s.remoteStore,o.targetId),yd(s,o.targetId)})).catch(Ns)):(yd(s,o.targetId),await md(s.localStore,o.targetId,!0))}async function K2(a,e){const i=At(a),s=i.Pu.get(e),o=i.Tu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Qd(i.remoteStore,s.targetId))}async function Z2(a,e,i){const s=iR(a);try{const o=await(function(d,g){const p=At(d),_=Zt.now(),T=g.reduce(((k,Y)=>k.add(Y.key)),Nt());let S,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let Y=Li(),J=Nt();return p.Os.getEntries(k,T).next((H=>{Y=H,Y.forEach(((ct,W)=>{W.isValidDocument()||(J=J.add(ct))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,Y))).next((H=>{S=H;const ct=[];for(const W of g){const it=fb(W,S.get(W.key).overlayedDocument);it!=null&&ct.push(new Dr(W.key,it,zv(it.value.mapValue),Ln.exists(!0)))}return p.mutationQueue.addMutationBatch(k,_,ct,g)})).next((H=>{w=H;const ct=H.applyToLocalDocumentSet(S,J);return p.documentOverlayCache.saveOverlays(k,H.batchId,ct)}))})).then((()=>({batchId:w.batchId,changes:Xv(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,g,p){let _=d.Ru[d.currentUser.toKey()];_||(_=new re(wt)),_=_.insert(g,p),d.Ru[d.currentUser.toKey()]=_})(s,o.batchId,i),await _o(s,o.changes),await Dc(s.remoteStore)}catch(o){const h=$d(o,"Failed to persist write");i.reject(h)}}async function M0(a,e){const i=At(a);try{const s=await u2(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Eu.get(h);d&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.lu=!0:o.modifiedDocuments.size>0?qt(d.lu,14607):o.removedDocuments.size>0&&(qt(d.lu,42227),d.lu=!1))})),await _o(i,s,e)}catch(s){await Ns(s)}}function L_(a,e,i){const s=At(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Pu.forEach(((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const p=At(d);p.onlineState=g;let _=!1;p.queries.forEach(((T,S)=>{for(const w of S.wa)w.va(g)&&(_=!0)})),_&&Jd(p)})(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function $2(a,e,i){const s=At(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Eu.get(e),h=o&&o.key;if(h){let d=new re(mt.comparator);d=d.insert(h,Ke.newNoDocument(h,Tt.min()));const g=Nt().add(h),p=new Rc(Tt.min(),new Map,new re(wt),d,g);await M0(s,p),s.du=s.du.remove(h),s.Eu.delete(e),tm(s)}else await md(s.localStore,e,!1).then((()=>yd(s,e,i))).catch(Ns)}async function J2(a,e){const i=At(a),s=e.batch.batchId;try{const o=await o2(i.localStore,e);U0(i,s,null),x0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await _o(i,o)}catch(o){await Ns(o)}}async function W2(a,e,i){const s=At(a);try{const o=await(function(d,g){const p=At(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return p.mutationQueue.lookupMutationBatch(_,g).next((S=>(qt(S!==null,37113),T=S.keys(),p.mutationQueue.removeMutationBatch(_,S)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>p.localDocuments.getDocuments(_,T)))}))})(s.localStore,e);U0(s,e,i),x0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await _o(s,o)}catch(o){await Ns(o)}}function x0(a,e){(a.Vu.get(e)||[]).forEach((i=>{i.resolve()})),a.Vu.delete(e)}function U0(a,e,i){const s=At(a);let o=s.Ru[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function yd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Tu.get(e))a.Pu.delete(s),i&&a.hu.pu(s,i);a.Tu.delete(e),a.isPrimaryClient&&a.Au.zr(e).forEach((s=>{a.Au.containsKey(s)||P0(a,s)}))}function P0(a,e){a.Iu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(Qd(a.remoteStore,i),a.du=a.du.remove(e),a.Eu.delete(i),tm(a))}function z_(a,e,i){for(const s of i)s instanceof I0?(a.Au.addReference(s.key,e),tR(a,s)):s instanceof N0?(lt(Wd,"Document no longer in limbo: "+s.key),a.Au.removeReference(s.key,e),a.Au.containsKey(s.key)||P0(a,s.key)):yt(19791,{yu:s})}function tR(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Iu.has(s)||(lt(Wd,"New document in limbo: "+i),a.Iu.add(s),tm(a))}function tm(a){for(;a.Iu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Iu.values().next().value;a.Iu.delete(e);const i=new mt(te.fromString(e)),s=a.mu.next();a.Eu.set(s,new H2(i)),a.du=a.du.insert(i,s),T0(a.remoteStore,new mr(ni(Ec(i.path)),s,"TargetPurposeLimboResolution",pc.ue))}}async function _o(a,e,i){const s=At(a),o=[],h=[],d=[];s.Pu.isEmpty()||(s.Pu.forEach(((g,p)=>{d.push(s.gu(p,e,i).then((_=>{var T;if((_||i)&&s.isPrimaryClient){const S=_?!_.fromCache:(T=i==null?void 0:i.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(_){o.push(_);const S=Gd.Es(p.targetId,_);h.push(S)}})))})),await Promise.all(d),s.hu.J_(o),await(async function(p,_){const T=At(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>K.forEach(_,(w=>K.forEach(w.Is,(k=>T.persistence.referenceDelegate.addReference(S,w.targetId,k))).next((()=>K.forEach(w.ds,(k=>T.persistence.referenceDelegate.removeReference(S,w.targetId,k)))))))))}catch(S){if(!Os(S))throw S;lt(Fd,"Failed to update sequence numbers: "+S)}for(const S of _){const w=S.targetId;if(!S.fromCache){const k=T.Fs.get(w),Y=k.snapshotVersion,J=k.withLastLimboFreeSnapshotVersion(Y);T.Fs=T.Fs.insert(w,J)}}})(s.localStore,h))}async function eR(a,e){const i=At(a);if(!i.currentUser.isEqual(e)){lt(Wd,"User change. New user:",e.toKey());const s=await y0(i.localStore,e);i.currentUser=e,(function(h,d){h.Vu.forEach((g=>{g.forEach((p=>{p.reject(new ut(Z.CANCELLED,d))}))})),h.Vu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await _o(i,s.Bs)}}function nR(a,e){const i=At(a),s=i.Eu.get(e);if(s&&s.lu)return Nt().add(s.key);{let o=Nt();const h=i.Tu.get(e);if(!h)return o;for(const d of h){const g=i.Pu.get(d);o=o.unionWith(g.view.tu)}return o}}function L0(a){const e=At(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=M0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$2.bind(null,e),e.hu.J_=B2.bind(null,e.eventManager),e.hu.pu=j2.bind(null,e.eventManager),e}function iR(a){const e=At(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W2.bind(null,e),e}class dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,i){return null}Fu(e,i){return null}vu(e){return l2(this.persistence,new r2,e.initialUser,this.serializer)}Du(e){return new p0(Hd.Vi,this.serializer)}bu(e){return new m2}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dc.provider={build:()=>new dc};class rR extends dc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,i){qt(this.persistence.referenceDelegate instanceof hc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Hb(s,e.asyncQueue,i)}Du(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new p0((s=>hc.Vi(s,i)),this.serializer)}}class _d{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>L_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=eR.bind(null,this.syncEngine),await P2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new z2})()}createDatastore(e){const i=wc(e.databaseInfo.databaseId),s=(function(h){return new v2(h)})(e.databaseInfo);return(function(h,d,g,p){return new S2(h,d,g,p)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,h,d,g){return new R2(s,o,h,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>L_(this.syncEngine,i,0)),(function(){return N_.C()?new N_:new g2})())}createSyncEngine(e,i){return(function(o,h,d,g,p,_,T){const S=new G2(o,h,d,g,p,_);return T&&(S.fu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const h=At(o);lt(ya,"RemoteStore shutting down."),h.Ia.add(5),await yo(h),h.Ea.shutdown(),h.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}_d.provider={build:()=>new _d};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="FirestoreClient";class aR{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Xe.UNAUTHENTICATED,this.clientId=Nd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{lt(wr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(lt(wr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=$d(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Kf(a,e){a.asyncQueue.verifyOperationInProgress(),lt(wr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async o=>{s.isEqual(o)||(await y0(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>{Er("Terminating Firestore due to IndexedDb database deletion"),a.terminate().then((()=>{lt("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{Er("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),a._offlineComponents=e}async function B_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await sR(a);lt(wr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((s=>M_(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,o)=>M_(e.remoteStore,o))),a._onlineComponents=e}async function sR(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){lt(wr,"Using user provided OfflineComponentProvider");try{await Kf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Er("Error using user provided cache. Falling back to memory cache: "+i),await Kf(a,new dc)}}else lt(wr,"Using default OfflineComponentProvider"),await Kf(a,new rR(void 0));return a._offlineComponents}async function B0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(lt(wr,"Using user provided OnlineComponentProvider"),await B_(a,a._uninitializedComponentsProvider._online)):(lt(wr,"Using default OnlineComponentProvider"),await B_(a,new _d))),a._onlineComponents}function lR(a){return B0(a).then((e=>e.syncEngine))}async function vd(a){const e=await B0(a),i=e.eventManager;return i.onListen=F2.bind(null,e.syncEngine),i.onUnlisten=X2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Q2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=K2.bind(null,e.syncEngine),i}function oR(a,e,i={}){const s=new _r;return a.asyncQueue.enqueueAndForget((async()=>(function(h,d,g,p,_){const T=new z0({next:w=>{T.Ou(),d.enqueueAndForget((()=>D0(h,S)));const k=w.docs.has(g);!k&&w.fromCache?_.reject(new ut(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&w.fromCache&&p&&p.source==="server"?_.reject(new ut(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(w)},error:w=>_.reject(w)}),S=new V0(Ec(g.path),T,{includeMetadataChanges:!0,ka:!0});return C0(h,S)})(await vd(a),a.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="firestore.googleapis.com",k_=!0;class q_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ut(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=k0,this.ssl=k_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:k_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=g0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kb)throw new ut(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new pS;switch(s.type){case"firstParty":return new ES(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=j_.get(i);s&&(lt("ComponentProvider","Removing Datastore"),j_.delete(i),s.terminate())})(this),Promise.resolve()}}function uR(a,e,i,s={}){var o;a=Pn(a,Vc);const h=Dd(e),d=a._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:a._getEmulatorOptions()}),p=`${e}:${i}`;h&&(F1(`https://${p}`),K1("Firestore",!0)),d.host!==k0&&d.host!==p&&Er("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:p,ssl:h,emulatorOptions:s});if(!eo(_,g)&&(a._setSettings(_),s.mockUserToken)){let T,S;if(typeof s.mockUserToken=="string")T=s.mockUserToken,S=Xe.MOCK_USER;else{T=Q1(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ut(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Xe(w)}a._authCredentials=new yS(new Rv(T,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ic(this.firestore,e,this._query)}}class de{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new de(this.firestore,e,this._key)}toJSON(){return{type:de._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(mo(i,de._jsonSchema))return new de(e,s||null,new mt(te.fromString(i.referencePath)))}}de._jsonSchemaVersion="firestore/documentReference/1.0",de._jsonSchema={type:ve("string",de._jsonSchemaVersion),referencePath:ve("string")};class vr extends Ic{constructor(e,i,s){super(e,i,Ec(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new de(this.firestore,null,new mt(e))}withConverter(e){return new vr(this.firestore,e,this._path)}}function q0(a,e,...i){if(a=xi(a),Cv("collection","path",e),a instanceof Vc){const s=te.fromString(e,...i);return n_(s),new vr(a,null,s)}{if(!(a instanceof de||a instanceof vr))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(te.fromString(e,...i));return n_(s),new vr(a.firestore,null,s)}}function H0(a,e,...i){if(a=xi(a),arguments.length===1&&(e=Nd.newId()),Cv("doc","path",e),a instanceof Vc){const s=te.fromString(e,...i);return e_(s),new de(a,null,new mt(s))}{if(!(a instanceof de||a instanceof vr))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(te.fromString(e,...i));return e_(s),new de(a.firestore,a instanceof vr?a.converter:null,new mt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="AsyncQueue";class G_{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new v0(this,"async_queue_retry"),this.oc=()=>{const s=Xf();s&&lt(H_,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const i=Xf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const i=Xf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const i=new _r;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Os(e))throw e;lt(H_,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const i=this._c.then((()=>(this.nc=!0,e().catch((s=>{throw this.tc=s,this.nc=!1,Pi("INTERNAL UNHANDLED ERROR: ",F_(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=i,i}enqueueAfterDelay(e,i,s){this.ac(),this.sc.indexOf(e)>-1&&(i=0);const o=Zd.createAndSchedule(this,e,i,s,(h=>this.lc(h)));return this.ec.push(o),o}ac(){this.tc&&yt(47125,{hc:F_(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const i of this.ec)if(i.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.ec)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const i=this.ec.indexOf(e);this.ec.splice(i,1)}}function F_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(a){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of s)if(h in o&&typeof o[h]=="function")return!0;return!1})(a,["next","error","complete"])}class _a extends Vc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new G_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new G_(e),this._firestoreClient=void 0,await e}}}function cR(a,e){const i=typeof a=="object"?a:aS(),s=typeof a=="string"?a:ac,o=tS(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=H1("firestore");h&&uR(o,...h)}return o}function em(a){if(a._terminated)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||hR(a),a._firestoreClient}function hR(a){var e,i,s;const o=a._freezeSettings(),h=(function(g,p,_,T){return new PS(g,p,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,j0(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)})(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new aR(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&(function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(He.fromBase64String(e))}catch(i){throw new ut(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Vn(He.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mo(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:ve("string",Vn._jsonSchemaVersion),bytes:ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ri._jsonSchemaVersion}}static fromJSON(e){if(mo(e,ri._jsonSchema))return new ri(e.latitude,e.longitude)}}ri._jsonSchemaVersion="firestore/geoPoint/1.0",ri._jsonSchema={type:ve("string",ri._jsonSchemaVersion),latitude:ve("number"),longitude:ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mo(e,ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ai(e.vectorValues);throw new ut(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:ve("string",ai._jsonSchemaVersion),vectorValues:ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=/^__.*__$/;class dR{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Dr(e,this.data,this.fieldMask,i,this.fieldTransforms):new go(e,this.data,i,this.fieldTransforms)}}class G0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Dr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function F0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ec:a})}}class Oc{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Ac(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Oc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return mc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(F0(this.Ec)&&fR.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class mR{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||wc(e)}Dc(e,i,s,o=!1){return new Oc({Ec:e,methodName:i,bc:s,path:qe.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nm(a){const e=a._freezeSettings(),i=wc(a._databaseId);return new mR(a._databaseId,!!e.ignoreUndefinedProperties,i)}function Q0(a,e,i,s,o,h={}){const d=a.Dc(h.merge||h.mergeFields?2:0,e,i,o);am("Data must be an object, but it was:",d,s);const g=Y0(s,d);let p,_;if(h.merge)p=new gn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const T=[];for(const S of h.mergeFields){const w=Ed(e,S,i);if(!d.contains(w))throw new ut(Z.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);K0(T,w)||T.push(w)}p=new gn(T),_=d.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,_=d.fieldTransforms;return new dR(new an(g),p,_)}class Mc extends vo{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mc}}function gR(a,e,i){return new Oc({Ec:3,bc:e.settings.bc,methodName:a._methodName,mc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class im extends vo{_toFieldTransform(e){return new e0(e.path,new uo)}isEqual(e){return e instanceof im}}class rm extends vo{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=gR(this,e,!0),s=this.vc.map((h=>Eo(h,i))),o=new ws(s);return new e0(e.path,o)}isEqual(e){return e instanceof rm&&eo(this.vc,e.vc)}}function pR(a,e,i,s){const o=a.Dc(1,e,i);am("Data must be an object, but it was:",o,s);const h=[],d=an.empty();Cr(s,((p,_)=>{const T=sm(e,p,i);_=xi(_);const S=o.gc(T);if(_ instanceof Mc)h.push(T);else{const w=Eo(_,S);w!=null&&(h.push(T),d.set(T,w))}}));const g=new gn(h);return new G0(d,g,o.fieldTransforms)}function yR(a,e,i,s,o,h){const d=a.Dc(1,e,i),g=[Ed(e,s,i)],p=[o];if(h.length%2!=0)throw new ut(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<h.length;w+=2)g.push(Ed(e,h[w])),p.push(h[w+1]);const _=[],T=an.empty();for(let w=g.length-1;w>=0;--w)if(!K0(_,g[w])){const k=g[w];let Y=p[w];Y=xi(Y);const J=d.gc(k);if(Y instanceof Mc)_.push(k);else{const H=Eo(Y,J);H!=null&&(_.push(k),T.set(k,H))}}const S=new gn(_);return new G0(T,S,d.fieldTransforms)}function Eo(a,e){if(X0(a=xi(a)))return am("Unsupported field value:",e,a),Y0(a,e);if(a instanceof vo)return(function(s,o){if(!F0(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(s,o){const h=[];let d=0;for(const g of s){let p=Eo(g,o.yc(d));p==null&&(p={nullValue:"NULL_VALUE"}),h.push(p),d++}return{arrayValue:{values:h}}})(a,e)}return(function(s,o){if((s=xi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return sb(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Zt.fromDate(s);return{timestampValue:cc(o.serializer,h)}}if(s instanceof Zt){const h=new Zt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:cc(o.serializer,h)}}if(s instanceof ri)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Vn)return{bytesValue:o0(o.serializer,s._byteString)};if(s instanceof de){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:kd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ai)return(function(d,g){return{mapValue:{fields:{[Pv]:{stringValue:Lv},[sc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.wc("VectorValues must only contain numeric values.");return zd(g.serializer,_)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${Od(s)}`)})(a,e)}function Y0(a,e){const i={};return Iv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cr(a,((s,o)=>{const h=Eo(o,e.Vc(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function X0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Zt||a instanceof ri||a instanceof Vn||a instanceof de||a instanceof vo||a instanceof ai)}function am(a,e,i){if(!X0(i)||!Dv(i)){const s=Od(i);throw s==="an object"?e.wc(a+" a custom object"):e.wc(a+" "+s)}}function Ed(a,e,i){if((e=xi(e))instanceof Nc)return e._internalPath;if(typeof e=="string")return sm(a,e);throw mc("Field path arguments must be of type string or ",a,!1,void 0,i)}const _R=new RegExp("[~\\*/\\[\\]]");function sm(a,e,i){if(e.search(_R)>=0)throw mc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Nc(...e.split("."))._internalPath}catch{throw mc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function mc(a,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(h||d)&&(p+=" (found",h&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new ut(Z.INVALID_ARGUMENT,g+a+p)}function K0(a,e){return a.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new de(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field($0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class vR extends Z0{data(){return super.data()}}function $0(a,e){return typeof e=="string"?sm(a,e):e instanceof Nc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ut(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class TR{convertValue(e,i="none"){switch(br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw yt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Cr(e,((o,h)=>{s[o]=this.convertValue(h,i)})),s}convertVectorValue(e){var i,s,o;const h=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[sc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((d=>fe(d.doubleValue)));return new ai(h)}convertGeoPoint(e){return new ri(fe(e.latitude),fe(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=_c(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(so(e));default:return null}}convertTimestamp(e){const i=Ar(e);return new Zt(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=te.fromString(e);qt(m0(s),9688,{name:e});const o=new lo(s.get(1),s.get(3)),h=new mt(s.popFirst(5));return o.isEqual(i)||Pi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(a,e,i){let s;return s=a?a.toFirestore(e):e,s}class Yl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ga extends Z0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field($0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ga._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ga._jsonSchemaVersion="firestore/documentSnapshot/1.0",ga._jsonSchema={type:ve("string",ga._jsonSchemaVersion),bundleSource:ve("string","DocumentSnapshot"),bundleName:ve("string"),bundle:ve("string")};class ec extends ga{data(e={}){return super.data(e)}}class As{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Yl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new ec(this._firestore,this._userDataWriter,s.key,s,new Yl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const p=new ec(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Yl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const p=new ec(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Yl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:AR(g.type),doc:p,oldIndex:_,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=As._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Nd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function AR(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(a){a=Pn(a,de);const e=Pn(a.firestore,_a);return oR(em(e),a._key).then((i=>tE(e,a,i)))}As._jsonSchemaVersion="firestore/querySnapshot/1.0",As._jsonSchema={type:ve("string",As._jsonSchemaVersion),bundleSource:ve("string","QuerySnapshot"),bundleName:ve("string"),bundle:ve("string")};class W0 extends TR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new de(this.firestore,null,i)}}function bR(a,e,i){a=Pn(a,de);const s=Pn(a.firestore,_a),o=J0(a.converter,e);return lm(s,[Q0(nm(s),"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,Ln.none())])}function RR(a,e,i,...s){a=Pn(a,de);const o=Pn(a.firestore,_a),h=nm(o);let d;return d=typeof(e=xi(e))=="string"||e instanceof Nc?yR(h,"updateDoc",a._key,e,i,s):pR(h,"updateDoc",a._key,e),lm(o,[d.toMutation(a._key,Ln.exists(!0))])}function wR(a,e){const i=Pn(a.firestore,_a),s=H0(a),o=J0(a.converter,e);return lm(i,[Q0(nm(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,Ln.exists(!1))]).then((()=>s))}function CR(a,...e){var i,s,o;a=xi(a);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||Q_(e[d])||(h=e[d++]);const g={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(Q_(e[d])){const S=e[d];e[d]=(i=S.next)===null||i===void 0?void 0:i.bind(S),e[d+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),e[d+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let p,_,T;if(a instanceof de)_=Pn(a.firestore,_a),T=Ec(a._key.path),p={next:S=>{e[d]&&e[d](tE(_,a,S))},error:e[d+1],complete:e[d+2]};else{const S=Pn(a,Ic);_=Pn(S.firestore,_a),T=S._query;const w=new W0(_);p={next:k=>{e[d]&&e[d](new As(_,w,S,k))},error:e[d+1],complete:e[d+2]},ER(a._query)}return(function(w,k,Y,J){const H=new z0(J),ct=new V0(k,H,Y);return w.asyncQueue.enqueueAndForget((async()=>C0(await vd(w),ct))),()=>{H.Ou(),w.asyncQueue.enqueueAndForget((async()=>D0(await vd(w),ct)))}})(em(_),T,g,p)}function lm(a,e){return(function(s,o){const h=new _r;return s.asyncQueue.enqueueAndForget((async()=>Z2(await lR(s),o,h))),h.promise})(em(a),e)}function tE(a,e,i){const s=i.docs.get(e._key),o=new W0(a);return new ga(a,o,e._key,s,new Yl(i.hasPendingWrites,i.fromCache),e.converter)}function DR(){return new im("serverTimestamp")}function VR(...a){return new rm("arrayUnion",a)}(function(e,i=!0){(function(o){Is=o})(rS),ic(new no("firestore",((s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new _a(new _S(s.getProvider("auth-internal")),new TS(d,s.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lo(_.options.projectId,T)})(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),Es(Zy,$y,e),Es(Zy,$y,"esm2017")})();var IR="firebase",NR="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Es(IR,NR,"app");const eE={apiKey:"AIzaSyDQ-X7-YMiMxa-9Yf0pJhMW_8_FlkFw-X8",authDomain:"are-you-the-one-f1098.firebaseapp.com",projectId:"are-you-the-one-f1098",storageBucket:"are-you-the-one-f1098.firebasestorage.app",messagingSenderId:"912960718174",appId:"1:912960718174:web:cb895eaed6777f3b4d3bcf"};console.log("Firebase config:",eE);let Td;if(Fy().length)Td=Fy()[0];else try{Td=gv(eE),console.log("Firebase initialized successfully")}catch(a){console.error("Firebase initialization error:",a)}const om=cR(Td),OR="batool";function MR(){const[a,e]=st.useState(""),[i,s]=st.useState(!1),[o,h]=st.useState(null),d=wd(),g=async p=>{p.preventDefault();const _=a.trim();if(!_)return;s(!0),h(null);const T=_.toLowerCase()===OR.toLowerCase();try{await wR(q0(om,"passwordAttempts"),{password:_,attemptedAt:DR(),success:T,userAgent:navigator.userAgent,timestamp:new Date().toISOString()}),console.log("Password attempt logged successfully"),T?d("/home"):h("Nope, that's not it. Try again!")}catch(S){console.error("Error logging password attempt:",S),T?d("/home"):h("Error logging attempt. Please try again.")}finally{s(!1)}};return nt.jsxs("form",{className:"login-form",onSubmit:g,children:[nt.jsx("h2",{className:"login-title",children:"Curiosity killed the cat"}),nt.jsx("input",{type:"password",placeholder:"Enter Password",value:a,onChange:p=>e(p.target.value),disabled:i,className:"login-input",autoFocus:!0}),nt.jsx("button",{type:"submit",disabled:i,className:"login-button",children:i?"Processing...":"Submit"}),o&&nt.jsx("p",{className:"error-msg",children:o})]})}function xR(){const[a]=st.useState([{id:1,src:"https://via.placeholder.com/300x200/4A90E2/ffffff?text=Memory+1",alt:"Memory 1"},{id:2,src:"https://via.placeholder.com/300x200/7ED321/ffffff?text=Memory+2",alt:"Memory 2"},{id:3,src:"https://via.placeholder.com/300x200/F5A623/ffffff?text=Memory+3",alt:"Memory 3"},{id:4,src:"https://via.placeholder.com/300x200/D0021B/ffffff?text=Memory+4",alt:"Memory 4"}]);return nt.jsx("div",{className:"page-container",children:nt.jsxs("section",{className:"gallery",children:[nt.jsx("h2",{children:"Gallery"}),nt.jsx("div",{className:"gallery-grid",children:a.map(e=>nt.jsx("div",{className:"gallery-item",children:nt.jsx("img",{src:e.src,alt:e.alt})},e.id))})]})})}function UR(){return new Date().toISOString().slice(0,10)}function Y_(a){if(!a)return 0;if(typeof a.toDate=="function")return a.toDate().getTime();if(a.seconds!==void 0)return a.seconds*1e3+Math.floor((a.nanoseconds||0)/1e6);const e=new Date(a);return isNaN(e.getTime())?0:e.getTime()}async function PR(a,e){try{if(!a||!e)throw new Error("user and text required");const i=UR(),s=H0(om,"conversations",i),o=await SR(s),h={user:a,text:e,timestamp:Zt.now()};o.exists()?await RR(s,{messages:VR(h),lastUpdated:Zt.now()}):await bR(s,{messages:[h],lastUpdated:Zt.now()}),console.log("Message sent successfully")}catch(i){throw console.error("Error sending message:",i),i}}function LR(a){try{const e=q0(om,"conversations");return CR(e,s=>{const o=[];s.forEach(h=>{const d=h.data();Array.isArray(d.messages)&&d.messages.forEach((g,p)=>{o.push({_docId:h.id,_idx:p,id:g.id||`${h.id}_${p}`,...g})})}),o.sort((h,d)=>Y_(h.timestamp)-Y_(d.timestamp)),a(o)},s=>{console.error("listenToAllConversations error:",s),a([])})}catch(e){return console.error("Error setting up listener:",e),()=>{}}}function zR(a){if(!a)return"just now";let e;try{if(e=typeof a.toDate=="function"?a.toDate():new Date(a),isNaN(e.getTime()))throw new Error("Invalid Date")}catch{return"invalid timestamp"}const i=new Date,s=new Date(i);s.setDate(i.getDate()-1);const o=e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});return e.toDateString()===i.toDateString()?`Today at ${o}`:e.toDateString()===s.toDateString()?`Yesterday at ${o}`:`${e.toLocaleDateString(void 0,{month:"short",day:"numeric"})} at ${o}`}function BR(){const[a,e]=st.useState([]),[i,s]=st.useState(""),[o,h]=st.useState(!0),[d,g]=st.useState(null),p=st.useRef(null),_=st.useRef(null),T=["Resolving DNS for api.example.com...","Connecting to 93.184.216.34:443...","Performing TLSv1.3 handshake...","Verifying server certificate...","Exchanging session keys...","Cipher suite: TLS_AES_128_GCM_SHA256","Secure channel established."],[S,w]=st.useState([]),[k,Y]=st.useState(!1);st.useEffect(()=>{let W=0;const it=setInterval(()=>{W<T.length?(w(St=>[...St,T[W]]),W+=1):(clearInterval(it),Y(!0))},800);return()=>clearInterval(it)},[]),st.useEffect(()=>{if(!k)return;console.log("ConversationPage: attaching listener");let W;try{W=LR(it=>{console.log("ConversationPage listener -> messages count:",it.length),e(it),h(!1)})}catch(it){console.error("Error setting up listener:",it),g("Failed to connect to message service"),h(!1)}return()=>{if(W&&typeof W=="function")try{W(),console.log("ConversationPage: unsubscribed")}catch(it){console.error("Error unsubscribing:",it)}}},[k]),st.useEffect(()=>{a.length>0&&setTimeout(()=>{var W;(W=_.current)==null||W.scrollIntoView({behavior:"smooth"})},100)},[a]);const J=async W=>{var it;if(W.key==="Enter"){W.preventDefault();const St=(it=p.current)==null?void 0:it.innerText.trim();if(!i||!St)return;p.current.innerText="",h(!0);try{await PR(i,St)}catch(_t){console.error("sendMessageToFirebase error:",_t),g("Failed to send message")}finally{h(!1)}}},H=W=>{s(W.target.value),setTimeout(()=>{var it;return(it=p.current)==null?void 0:it.focus()},0)},ct=()=>{var W;return(W=p.current)==null?void 0:W.focus()};return nt.jsx("div",{className:"conversation-container",children:nt.jsxs("div",{className:"terminal",children:[nt.jsxs("div",{className:"dropdown-container",children:[nt.jsx("label",{htmlFor:"user-select",children:"User: "}),nt.jsxs("select",{id:"user-select",value:i,onChange:H,children:[nt.jsx("option",{value:"",children:"-- Select --"}),nt.jsx("option",{value:"sbfn",children:"sbfn"}),nt.jsx("option",{value:"qa",children:"qa"})]})]}),d&&nt.jsxs("div",{className:"error-message",children:["Error: ",d]}),nt.jsx("div",{className:"hacker-status",children:nt.jsx("code",{children:S.map((W,it)=>nt.jsxs("div",{children:[it===0?"└─▶ ":"└─ ",W]},it))})}),k&&nt.jsxs("div",{children:[o&&nt.jsx("div",{className:"terminal-line",style:{color:"#888"},children:"Loading messages..."}),a.length===0&&!o&&nt.jsx("div",{className:"terminal-line",style:{color:"#888"},children:"No messages found. Start a conversation!"}),a.map(W=>nt.jsxs("div",{className:"terminal-line",children:[nt.jsxs("span",{className:"username",children:["<127.0.0.1@",W.user,">"]})," ","[",zR(W.timestamp),"] ",W.text]},W.id))]}),nt.jsx("div",{className:"separator-line"}),nt.jsxs("div",{className:"terminal-input",onClick:ct,children:[nt.jsx("span",{className:"prompt",children:">"}),nt.jsx("div",{ref:p,contentEditable:!0,suppressContentEditableWarning:!0,className:"terminal-editable",onKeyDown:J,spellCheck:!1,style:{opacity:i&&k?1:.4},"data-placeholder":i?k?"":"Connecting...":"Select a user first"})]}),nt.jsx("div",{ref:_})]})})}const jR="1.1.5";function kR(){const a=wd(),[e]=st.useState([{id:1,text:"Unite with each other to have unity of hearts and keep company with one another to share a feeling of compassion.",author:"Hazrat Muhammad Mustafa (s.a.w)(Nahj al Fasahah: CH21: Tradition No. 2379.)"},{id:2,text:"Coming soon",author:"Unknown"},{id:3,text:"Coming soon",author:"Unknown"}]),[i,s]=st.useState(!1);return st.useEffect(()=>{localStorage.getItem("hasSeenGreeting")||(s(!0),localStorage.setItem("hasSeenGreeting","true"))},[]),nt.jsxs("div",{className:"page-container-wrapper",children:[i&&nt.jsx("div",{className:"greeting-modal",children:nt.jsxs("div",{className:"greeting-content",children:[nt.jsx("h2",{children:"Welcome, Batool!!"}),nt.jsx("p",{children:"Want to see something cool?…"}),nt.jsx("button",{className:"greeting-close-btn",onClick:()=>s(!1),children:"Let’s go!"})]})}),nt.jsxs("div",{className:`page-container ${i?"blur":""}`,children:[nt.jsxs("section",{className:"welcome",children:[nt.jsx("h1",{children:"Welcome Syeda Batool Fatima Naqvi"}),nt.jsx("p",{children:"I am glad you're here. I have waited so long to hear from you, there's so much we need to talk about. Stay tuned for more love"})]}),nt.jsxs("main",{className:"content-grid",children:[nt.jsxs("section",{className:"quotes",children:[nt.jsx("h2",{children:"Dedicated to You"}),nt.jsx("div",{className:"quotes-list",children:e.map(o=>nt.jsxs("div",{className:"quote-card",children:[nt.jsxs("p",{className:"quote-text",children:['"',o.text,'"']}),nt.jsxs("p",{className:"quote-author",children:["— ",o.author]})]},o.id))})]}),nt.jsxs("div",{className:"gallery",onClick:()=>a("/gallery"),style:{cursor:"pointer"},children:[nt.jsx("h2",{children:"Gallery"}),nt.jsx("div",{className:"gallery-grid",children:nt.jsx("div",{className:"gallery-item",children:nt.jsx("img",{src:"https://via.placeholder.com/140x120/4A90E2/ffffff?text=+",alt:"Coming Soon"})})}),nt.jsx("button",{className:"btn-full",children:"View Gallery"})]}),nt.jsxs("div",{className:"chat-tile",onClick:()=>a("/conversation"),style:{cursor:"pointer"},children:[nt.jsx("div",{className:"chat-icon",children:nt.jsx("svg",{viewBox:"0 0 24 24",children:nt.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4l4 4 4-4h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"})})}),nt.jsx("h2",{children:"Stressed? Talk to me"}),nt.jsx("button",{className:"btn-chat",children:"Go"})]})]})]})]})}function qR(){return nt.jsxs("div",{className:"app-container",children:[nt.jsx("div",{className:"main-content",children:nt.jsxs(V1,{children:[nt.jsx(gs,{path:"/",element:nt.jsx(MR,{})}),nt.jsx(gs,{path:"/home",element:nt.jsx(kR,{})}),nt.jsx(gs,{path:"gallery",element:nt.jsx(xR,{})}),nt.jsx(gs,{path:"conversation",element:nt.jsx(BR,{})}),nt.jsx(gs,{path:"*",element:nt.jsx(C1,{to:"/",replace:!0})})]})}),nt.jsxs("footer",{style:{textAlign:"center",padding:"1rem 0",background:"var(--bg-color)",color:"#888",fontSize:"0.85rem"},children:[nt.jsxs("div",{style:{color:"#888"},children:["Version: ",jR]}),nt.jsx("div",{style:{color:"#888"},children:"Developed for you"})]})]})}zT.createRoot(document.getElementById("root")).render(nt.jsx(O1,{children:nt.jsx(qR,{})}));
