function mT(r,e){for(var i=0;i<e.length;i++){const s=e[i];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in r)){const h=Object.getOwnPropertyDescriptor(s,o);h&&Object.defineProperty(r,o,h.get?h:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function L_(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Df={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function gT(){if(hy)return St;hy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,Z={};function H(V,$,nt){this.props=V,this.context=$,this.refs=Z,this.updater=nt||q}H.prototype.isReactComponent={},H.prototype.setState=function(V,$){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,$,"setState")},H.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function st(){}st.prototype=H.prototype;function rt(V,$,nt){this.props=V,this.context=$,this.refs=Z,this.updater=nt||q}var ot=rt.prototype=new st;ot.constructor=rt,G(ot,H.prototype),ot.isPureReactComponent=!0;var Dt=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},Pt=Object.prototype.hasOwnProperty;function O(V,$,nt,W,dt,wt){return nt=wt.ref,{$$typeof:r,type:V,key:$,ref:nt!==void 0?nt:null,props:wt}}function b(V,$){return O(V.type,$,void 0,void 0,void 0,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function N(V){var $={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(nt){return $[nt]})}var M=/\/+/g;function U(V,$){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):$.toString(36)}function C(){}function Me(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(C,C):(V.status="pending",V.then(function($){V.status==="pending"&&(V.status="fulfilled",V.value=$)},function($){V.status==="pending"&&(V.status="rejected",V.reason=$)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ae(V,$,nt,W,dt){var wt=typeof V;(wt==="undefined"||wt==="boolean")&&(V=null);var Et=!1;if(V===null)Et=!0;else switch(wt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(V.$$typeof){case r:case e:Et=!0;break;case T:return Et=V._init,ae(Et(V._payload),$,nt,W,dt)}}if(Et)return dt=dt(V),Et=W===""?"."+U(V,0):W,Dt(dt)?(nt="",Et!=null&&(nt=Et.replace(M,"$&/")+"/"),ae(dt,$,nt,"",function(Ln){return Ln})):dt!=null&&(D(dt)&&(dt=b(dt,nt+(dt.key==null||V&&V.key===dt.key?"":(""+dt.key).replace(M,"$&/")+"/")+Et)),$.push(dt)),1;Et=0;var we=W===""?".":W+":";if(Dt(V))for(var $t=0;$t<V.length;$t++)W=V[$t],wt=we+U(W,$t),Et+=ae(W,$,nt,wt,dt);else if($t=w(V),typeof $t=="function")for(V=$t.call(V),$t=0;!(W=V.next()).done;)W=W.value,wt=we+U(W,$t++),Et+=ae(W,$,nt,wt,dt);else if(wt==="object"){if(typeof V.then=="function")return ae(Me(V),$,nt,W,dt);throw $=String(V),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Et}function Q(V,$,nt){if(V==null)return V;var W=[],dt=0;return ae(V,W,"","",function(wt){return $.call(nt,wt,dt++)}),W}function et(V){if(V._status===-1){var $=V._result;$=$(),$.then(function(nt){(V._status===0||V._status===-1)&&(V._status=1,V._result=nt)},function(nt){(V._status===0||V._status===-1)&&(V._status=2,V._result=nt)}),V._status===-1&&(V._status=0,V._result=$)}if(V._status===1)return V._result.default;throw V._result}var ht=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Bt(){}return St.Children={map:Q,forEach:function(V,$,nt){Q(V,function(){$.apply(this,arguments)},nt)},count:function(V){var $=0;return Q(V,function(){$++}),$},toArray:function(V){return Q(V,function($){return $})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},St.Component=H,St.Fragment=i,St.Profiler=o,St.PureComponent=rt,St.StrictMode=s,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,St.__COMPILER_RUNTIME={__proto__:null,c:function(V){return vt.H.useMemoCache(V)}},St.cache=function(V){return function(){return V.apply(null,arguments)}},St.cloneElement=function(V,$,nt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var W=G({},V.props),dt=V.key,wt=void 0;if($!=null)for(Et in $.ref!==void 0&&(wt=void 0),$.key!==void 0&&(dt=""+$.key),$)!Pt.call($,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&$.ref===void 0||(W[Et]=$[Et]);var Et=arguments.length-2;if(Et===1)W.children=nt;else if(1<Et){for(var we=Array(Et),$t=0;$t<Et;$t++)we[$t]=arguments[$t+2];W.children=we}return O(V.type,dt,void 0,void 0,wt,W)},St.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},St.createElement=function(V,$,nt){var W,dt={},wt=null;if($!=null)for(W in $.key!==void 0&&(wt=""+$.key),$)Pt.call($,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(dt[W]=$[W]);var Et=arguments.length-2;if(Et===1)dt.children=nt;else if(1<Et){for(var we=Array(Et),$t=0;$t<Et;$t++)we[$t]=arguments[$t+2];dt.children=we}if(V&&V.defaultProps)for(W in Et=V.defaultProps,Et)dt[W]===void 0&&(dt[W]=Et[W]);return O(V,wt,void 0,void 0,null,dt)},St.createRef=function(){return{current:null}},St.forwardRef=function(V){return{$$typeof:g,render:V}},St.isValidElement=D,St.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:et}},St.memo=function(V,$){return{$$typeof:_,type:V,compare:$===void 0?null:$}},St.startTransition=function(V){var $=vt.T,nt={};vt.T=nt;try{var W=V(),dt=vt.S;dt!==null&&dt(nt,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Bt,ht)}catch(wt){ht(wt)}finally{vt.T=$}},St.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},St.use=function(V){return vt.H.use(V)},St.useActionState=function(V,$,nt){return vt.H.useActionState(V,$,nt)},St.useCallback=function(V,$){return vt.H.useCallback(V,$)},St.useContext=function(V){return vt.H.useContext(V)},St.useDebugValue=function(){},St.useDeferredValue=function(V,$){return vt.H.useDeferredValue(V,$)},St.useEffect=function(V,$,nt){var W=vt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(V,$)},St.useId=function(){return vt.H.useId()},St.useImperativeHandle=function(V,$,nt){return vt.H.useImperativeHandle(V,$,nt)},St.useInsertionEffect=function(V,$){return vt.H.useInsertionEffect(V,$)},St.useLayoutEffect=function(V,$){return vt.H.useLayoutEffect(V,$)},St.useMemo=function(V,$){return vt.H.useMemo(V,$)},St.useOptimistic=function(V,$){return vt.H.useOptimistic(V,$)},St.useReducer=function(V,$,nt){return vt.H.useReducer(V,$,nt)},St.useRef=function(V){return vt.H.useRef(V)},St.useState=function(V){return vt.H.useState(V)},St.useSyncExternalStore=function(V,$,nt){return vt.H.useSyncExternalStore(V,$,nt)},St.useTransition=function(){return vt.H.useTransition()},St.version="19.1.0",St}var fy;function dd(){return fy||(fy=1,Df.exports=gT()),Df.exports}var it=dd();const ft=L_(it),pT=mT({__proto__:null,default:ft},[it]);var Vf={exports:{}},zl={},If={exports:{}},Nf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function yT(){return dy||(dy=1,function(r){function e(Q,et){var ht=Q.length;Q.push(et);t:for(;0<ht;){var Bt=ht-1>>>1,V=Q[Bt];if(0<o(V,et))Q[Bt]=et,Q[ht]=V,ht=Bt;else break t}}function i(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var et=Q[0],ht=Q.pop();if(ht!==et){Q[0]=ht;t:for(var Bt=0,V=Q.length,$=V>>>1;Bt<$;){var nt=2*(Bt+1)-1,W=Q[nt],dt=nt+1,wt=Q[dt];if(0>o(W,ht))dt<V&&0>o(wt,W)?(Q[Bt]=wt,Q[dt]=ht,Bt=dt):(Q[Bt]=W,Q[nt]=ht,Bt=nt);else if(dt<V&&0>o(wt,ht))Q[Bt]=wt,Q[dt]=ht,Bt=dt;else break t}}return et}function o(Q,et){var ht=Q.sortIndex-et.sortIndex;return ht!==0?ht:Q.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],_=[],T=1,S=null,w=3,q=!1,G=!1,Z=!1,H=!1,st=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function Dt(Q){for(var et=i(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=Q)s(_),et.sortIndex=et.expirationTime,e(p,et);else break;et=i(_)}}function vt(Q){if(Z=!1,Dt(Q),!G)if(i(p)!==null)G=!0,Pt||(Pt=!0,U());else{var et=i(_);et!==null&&ae(vt,et.startTime-Q)}}var Pt=!1,O=-1,b=5,D=-1;function N(){return H?!0:!(r.unstable_now()-D<b)}function M(){if(H=!1,Pt){var Q=r.unstable_now();D=Q;var et=!0;try{t:{G=!1,Z&&(Z=!1,rt(O),O=-1),q=!0;var ht=w;try{e:{for(Dt(Q),S=i(p);S!==null&&!(S.expirationTime>Q&&N());){var Bt=S.callback;if(typeof Bt=="function"){S.callback=null,w=S.priorityLevel;var V=Bt(S.expirationTime<=Q);if(Q=r.unstable_now(),typeof V=="function"){S.callback=V,Dt(Q),et=!0;break e}S===i(p)&&s(p),Dt(Q)}else s(p);S=i(p)}if(S!==null)et=!0;else{var $=i(_);$!==null&&ae(vt,$.startTime-Q),et=!1}}break t}finally{S=null,w=ht,q=!1}et=void 0}}finally{et?U():Pt=!1}}}var U;if(typeof ot=="function")U=function(){ot(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Me=C.port2;C.port1.onmessage=M,U=function(){Me.postMessage(null)}}else U=function(){st(M,0)};function ae(Q,et){O=st(function(){Q(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var et=3;break;default:et=w}var ht=w;w=et;try{return Q()}finally{w=ht}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(Q,et){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ht=w;w=Q;try{return et()}finally{w=ht}},r.unstable_scheduleCallback=function(Q,et,ht){var Bt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Bt+ht:Bt):ht=Bt,Q){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ht+V,Q={id:T++,callback:et,priorityLevel:Q,startTime:ht,expirationTime:V,sortIndex:-1},ht>Bt?(Q.sortIndex=ht,e(_,Q),i(p)===null&&Q===i(_)&&(Z?(rt(O),O=-1):Z=!0,ae(vt,ht-Bt))):(Q.sortIndex=V,e(p,Q),G||q||(G=!0,Pt||(Pt=!0,U()))),Q},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(Q){var et=w;return function(){var ht=w;w=et;try{return Q.apply(this,arguments)}finally{w=ht}}}}(Nf)),Nf}var my;function _T(){return my||(my=1,If.exports=yT()),If.exports}var Of={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function vT(){if(gy)return Ge;gy=1;var r=dd();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(p,_,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:_,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(p,_,null,T)},Ge.flushSync=function(p){var _=d.T,T=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=_,s.p=T,s.d.f()}},Ge.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,S=g(T,_.crossOrigin),w=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:q}):T==="script"&&s.d.X(p,{crossOrigin:S,integrity:w,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ge.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Ge.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,S=g(T,_.crossOrigin);s.d.L(p,T,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ge.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=g(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,_){return p(_)},Ge.useFormState=function(p,_,T){return d.H.useFormState(p,_,T)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var py;function z_(){if(py)return Of.exports;py=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Of.exports=vT(),Of.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function ET(){if(yy)return zl;yy=1;var r=_T(),e=dd(),i=z_();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var v=!1,E=c.child;E;){if(E===a){v=!0,a=c,l=f;break}if(E===l){v=!0,l=c,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,l=c;break}if(E===l){v=!0,l=f,a=c;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),st=Symbol.for("react.provider"),rt=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),Dt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),Pt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case H:return"Profiler";case Z:return"StrictMode";case vt:return"Suspense";case Pt:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case ot:return(t.displayName||"Context")+".Provider";case rt:return(t._context.displayName||"Context")+".Consumer";case Dt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Me(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return Me(t(n))}catch{}}return null}var ae=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Bt=[],V=-1;function $(t){return{current:t}}function nt(t){0>V||(t.current=Bt[V],Bt[V]=null,V--)}function W(t,n){V++,Bt[V]=t.current,t.current=n}var dt=$(null),wt=$(null),Et=$(null),we=$(null);function $t(t,n){switch(W(Et,n),W(wt,t),W(dt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Bp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Bp(n),t=kp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(dt),W(dt,t)}function Ln(){nt(dt),nt(wt),nt(Et)}function xi(t){t.memoizedState!==null&&W(we,t);var n=dt.current,a=kp(n,t.type);n!==a&&(W(wt,t),W(dt,a))}function ai(t){wt.current===t&&(nt(dt),nt(wt)),we.current===t&&(nt(we),Ol._currentValue=ht)}var ba=Object.prototype.hasOwnProperty,Ra=r.unstable_scheduleCallback,wa=r.unstable_cancelCallback,Vs=r.unstable_shouldYield,fo=r.unstable_requestPaint,gn=r.unstable_now,Cc=r.unstable_getCurrentPriorityLevel,Is=r.unstable_ImmediatePriority,yr=r.unstable_UserBlockingPriority,Ca=r.unstable_NormalPriority,Dc=r.unstable_LowPriority,_r=r.unstable_IdlePriority,Ns=r.log,mo=r.unstable_setDisableYieldValue,re=null,jt=null;function rn(t){if(typeof Ns=="function"&&mo(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(re,t)}catch{}}var He=Math.clz32?Math.clz32:Da,go=Math.log,Vc=Math.LN2;function Da(t){return t>>>=0,t===0?32:31-(go(t)/Vc|0)|0}var Va=256,Ia=4194304;function Dn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vr(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Dn(l):(v&=E,v!==0?c=Dn(v):a||(a=E&~t,a!==0&&(c=Dn(a))))):(E=l&~f,E!==0?c=Dn(E):v!==0?c=Dn(v):a||(a=l&~t,a!==0&&(c=Dn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Na(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Os(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ms(){var t=Va;return Va<<=1,(Va&4194048)===0&&(Va=256),t}function xs(){var t=Ia;return Ia<<=1,(Ia&62914560)===0&&(Ia=4194304),t}function ri(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function si(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Us(t,n,a,l,c,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(a=v&~a;0<a;){var F=31-He(a),K=1<<F;E[F]=0,R[F]=-1;var B=P[F];if(B!==null)for(P[F]=null,F=0;F<B.length;F++){var k=B[F];k!==null&&(k.lane&=-536870913)}a&=~K}l!==0&&zn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function zn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-He(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Ls(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-He(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Ui(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Er(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Li(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:ry(t.type))}function po(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var Wt=Math.random().toString(36).slice(2),ve="__reactFiber$"+Wt,fe="__reactProps$"+Wt,pn="__reactContainer$"+Wt,zs="__reactEvents$"+Wt,Ic="__reactListeners$"+Wt,zi="__reactHandles$"+Wt,yo="__reactResources$"+Wt,Oa="__reactMarker$"+Wt;function Pi(t){delete t[ve],delete t[fe],delete t[zs],delete t[Ic],delete t[zi]}function li(t){var n=t[ve];if(n)return n;for(var a=t.parentNode;a;){if(n=a[pn]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Gp(t);t!==null;){if(a=t[ve])return a;t=Gp(t)}return n}t=a,a=t.parentNode}return null}function Pn(t){if(t=t[ve]||t[pn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Bn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ke(t){var n=t[yo];return n||(n=t[yo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function oe(t){t[Oa]=!0}var Ps=new Set,Tr={};function Vn(t,n){oi(t,n),oi(t+"Capture",n)}function oi(t,n){for(Tr[t]=n,t=0;t<n.length;t++)Ps.add(n[t])}var _o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},Ma={};function Eo(t){return ba.call(Ma,t)?!0:ba.call(vo,t)?!1:_o.test(t)?Ma[t]=!0:(vo[t]=!0,!1)}function Bi(t,n,a){if(Eo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function kn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function xe(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var xa,To;function ui(t){if(xa===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);xa=n&&n[1]||"",To=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xa+t+To}var Ar=!1;function Sr(t,n){if(!t||Ar)return"";Ar=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(k){var B=k}Reflect.construct(t,[],K)}else{try{K.call()}catch(k){B=k}t.call(K.prototype)}}else{try{throw Error()}catch(k){B=k}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var R=v.split(`
`),P=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===P.length)for(l=R.length-1,c=P.length-1;1<=l&&0<=c&&R[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==P[c]){var F=`
`+R[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=c);break}}}finally{Ar=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ui(a):""}function Bs(t){switch(t.tag){case 26:case 27:case 5:return ui(t.type);case 16:return ui("Lazy");case 13:return ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return Sr(t.type,!1);case 11:return Sr(t.type.render,!1);case 1:return Sr(t.type,!0);case 31:return ui("Activity");default:return""}}function br(t){try{var n="";do n+=Bs(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ks(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Nc(t){var n=ks(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Rr(t){t._valueTracker||(t._valueTracker=Nc(t))}function qs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=ks(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Ua(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Oc=/[\n"\\]/g;function de(t){return t.replace(Oc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sn(t,n,a,l,c,f,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xe(n)):t.value!==""+Xe(n)&&(t.value=""+Xe(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?ki(t,v,Xe(n)):a!=null?ki(t,v,Xe(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Xe(E):t.removeAttribute("name")}function La(t,n,a,l,c,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Xe(a):"",n=n!=null?""+Xe(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function ki(t,n,a){n==="number"&&Ua(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ci(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Xe(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ft(t,n,a){if(n!=null&&(n=""+Xe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Xe(a):""}function za(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Xe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function yn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Pa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ao(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Pa.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Hs(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Ao(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Ao(t,f,n[f])}function js(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wr(t){return xc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var hi=null;function _n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fi=null,di=null;function Gs(t){var n=Pn(t);if(n&&(t=n.stateNode)){var a=t[fe]||null;t:switch(t=n.stateNode,n.type){case"input":if(sn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[fe]||null;if(!c)throw Error(s(90));sn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&qs(l)}break t;case"textarea":Ft(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ci(t,!!a.multiple,n,!1)}}}var qn=!1;function So(t,n,a){if(qn)return t(n,a);qn=!0;try{var l=t(n);return l}finally{if(qn=!1,(fi!==null||di!==null)&&(pu(),fi&&(n=fi,t=di,di=fi=null,Gs(n),t)))for(n=0;n<t.length;n++)Gs(t[n])}}function Ba(t,n){var a=t.stateNode;if(a===null)return null;var l=a[fe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(In)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){vn=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{vn=!1}var Hn=null,qi=null,mi=null;function Qs(){if(mi)return mi;var t,n=qi,a=n.length,l,c="value"in Hn?Hn.value:Hn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var v=a-t;for(l=1;l<=v&&n[a-l]===c[f-l];l++);return mi=c.slice(t,1<l?1-l:void 0)}function jn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function Fs(){return!1}function Ce(t){function n(a,l,c,f,v){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:Fs,this.isPropagationStopped=Fs,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cr=Ce(qt),qa=T({},qt,{view:0,detail:0}),bo=Ce(qa),Dr,Vr,Qn,Ha=T({},qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Dr=t.screenX-Qn.screenX,Vr=t.screenY-Qn.screenY):Vr=Dr=0,Qn=t),Dr)},movementY:function(t){return"movementY"in t?t.movementY:Vr}}),En=Ce(Ha),Ro=T({},Ha,{dataTransfer:0}),Uc=Ce(Ro),ja=T({},qa,{relatedTarget:0}),Ir=Ce(ja),Ys=T({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Nr=Ce(Ys),wo=T({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Or=Ce(wo),Lc=T({},qt,{data:0}),Ks=Ce(Lc),Ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Co={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Do={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Do[t])?!!n[t]:!1}function Qa(){return Xs}var Vo=T({},qa,{key:function(t){if(t.key){var n=Ga[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Co[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qa,charCode:function(t){return t.type==="keypress"?jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mr=Ce(Vo),Io=T({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zs=Ce(Io),gi=T({},qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qa}),No=Ce(gi),Oo=T({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mo=Ce(Oo),xo=T({},Ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xr=Ce(xo),Ze=T({},qt,{newState:0,oldState:0}),Uo=Ce(Ze),Lo=[9,13,27,32],Fn=In&&"CompositionEvent"in window,u=null;In&&"documentMode"in document&&(u=document.documentMode);var m=In&&"TextEvent"in window&&!u,y=In&&(!Fn||u&&8<u&&11>=u),A=" ",L=!1;function j(t,n){switch(t){case"keyup":return Lo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function Ee(t,n){switch(t){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(L=!0,A);case"textInput":return t=n.data,t===A&&L?null:t;default:return null}}function Mt(t,n){if(Ot)return t==="compositionend"||!Fn&&j(t,n)?(t=Qs(),mi=qi=Hn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return y&&n.locale!=="ko"?null:n.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!De[t.type]:n==="textarea"}function pi(t,n,a,l){fi?di?di.push(l):di=[l]:fi=l,n=Au(n,"onChange"),0<n.length&&(a=new Cr("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Ue=null,Yn=null;function $s(t){xp(t,0)}function zo(t){var n=Bn(t);if(qs(n))return t}function em(t,n){if(t==="change")return n}var nm=!1;if(In){var zc;if(In){var Pc="oninput"in document;if(!Pc){var im=document.createElement("div");im.setAttribute("oninput","return;"),Pc=typeof im.oninput=="function"}zc=Pc}else zc=!1;nm=zc&&(!document.documentMode||9<document.documentMode)}function am(){Ue&&(Ue.detachEvent("onpropertychange",rm),Yn=Ue=null)}function rm(t){if(t.propertyName==="value"&&zo(Yn)){var n=[];pi(n,Yn,t,_n(t)),So($s,n)}}function G0(t,n,a){t==="focusin"?(am(),Ue=n,Yn=a,Ue.attachEvent("onpropertychange",rm)):t==="focusout"&&am()}function Q0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zo(Yn)}function F0(t,n){if(t==="click")return zo(n)}function Y0(t,n){if(t==="input"||t==="change")return zo(n)}function K0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:K0;function Js(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!ba.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function sm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lm(t,n){var a=sm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=sm(a)}}function om(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?om(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function um(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ua(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ua(t.document)}return n}function Bc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var X0=In&&"documentMode"in document&&11>=document.documentMode,Ur=null,kc=null,Ws=null,qc=!1;function cm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qc||Ur==null||Ur!==Ua(l)||(l=Ur,"selectionStart"in l&&Bc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ws&&Js(Ws,l)||(Ws=l,l=Au(kc,"onSelect"),0<l.length&&(n=new Cr("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Ur)))}function Fa(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Lr={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionrun:Fa("Transition","TransitionRun"),transitionstart:Fa("Transition","TransitionStart"),transitioncancel:Fa("Transition","TransitionCancel"),transitionend:Fa("Transition","TransitionEnd")},Hc={},hm={};In&&(hm=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function Ya(t){if(Hc[t])return Hc[t];if(!Lr[t])return t;var n=Lr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in hm)return Hc[t]=n[a];return t}var fm=Ya("animationend"),dm=Ya("animationiteration"),mm=Ya("animationstart"),Z0=Ya("transitionrun"),$0=Ya("transitionstart"),J0=Ya("transitioncancel"),gm=Ya("transitionend"),pm=new Map,jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jc.push("scrollEnd");function Nn(t,n){pm.set(t,n),Vn(n,[t])}var ym=new WeakMap;function Tn(t,n){if(typeof t=="object"&&t!==null){var a=ym.get(t);return a!==void 0?a:(n={value:t,source:n,stack:br(n)},ym.set(t,n),n)}return{value:t,source:n,stack:br(n)}}var An=[],zr=0,Gc=0;function Po(){for(var t=zr,n=Gc=zr=0;n<t;){var a=An[n];An[n++]=null;var l=An[n];An[n++]=null;var c=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,l!==null&&c!==null){var v=l.pending;v===null?c.next=c:(c.next=v.next,v.next=c),l.pending=c}f!==0&&_m(a,c,f)}}function Bo(t,n,a,l){An[zr++]=t,An[zr++]=n,An[zr++]=a,An[zr++]=l,Gc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Qc(t,n,a,l){return Bo(t,n,a,l),ko(t)}function Pr(t,n){return Bo(t,null,null,n),ko(t)}function _m(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-He(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function ko(t){if(50<bl)throw bl=0,$h=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Br={};function W0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,n,a,l){return new W0(t,n,a,l)}function Fc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yi(t,n){var a=t.alternate;return a===null?(a=on(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function vm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function qo(t,n,a,l,c,f){var v=0;if(l=t,typeof t=="function")Fc(t)&&(v=1);else if(typeof t=="string")v=eT(t,a,dt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case D:return t=on(31,a,n,c),t.elementType=D,t.lanes=f,t;case G:return Ka(a.children,c,f,n);case Z:v=8,c|=24;break;case H:return t=on(12,a,n,c|2),t.elementType=H,t.lanes=f,t;case vt:return t=on(13,a,n,c),t.elementType=vt,t.lanes=f,t;case Pt:return t=on(19,a,n,c),t.elementType=Pt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case st:case ot:v=10;break t;case rt:v=9;break t;case Dt:v=11;break t;case O:v=14;break t;case b:v=16,l=null;break t}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=on(v,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Ka(t,n,a,l){return t=on(7,t,l,n),t.lanes=a,t}function Yc(t,n,a){return t=on(6,t,null,n),t.lanes=a,t}function Kc(t,n,a){return n=on(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var kr=[],qr=0,Ho=null,jo=0,Sn=[],bn=0,Xa=null,_i=1,vi="";function Za(t,n){kr[qr++]=jo,kr[qr++]=Ho,Ho=t,jo=n}function Em(t,n,a){Sn[bn++]=_i,Sn[bn++]=vi,Sn[bn++]=Xa,Xa=t;var l=_i;t=vi;var c=32-He(l)-1;l&=~(1<<c),a+=1;var f=32-He(n)+c;if(30<f){var v=c-c%5;f=(l&(1<<v)-1).toString(32),l>>=v,c-=v,_i=1<<32-He(n)+c|a<<c|l,vi=f+t}else _i=1<<f|a<<c|l,vi=t}function Xc(t){t.return!==null&&(Za(t,1),Em(t,1,0))}function Zc(t){for(;t===Ho;)Ho=kr[--qr],kr[qr]=null,jo=kr[--qr],kr[qr]=null;for(;t===Xa;)Xa=Sn[--bn],Sn[bn]=null,vi=Sn[--bn],Sn[bn]=null,_i=Sn[--bn],Sn[bn]=null}var $e=null,se=null,kt=!1,$a=null,Kn=!1,$c=Error(s(519));function Ja(t){var n=Error(s(418,""));throw nl(Tn(n,t)),$c}function Tm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ve]=t,n[fe]=l,a){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<wl.length;a++)It(wl[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),La(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Rr(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),za(n,l.value,l.defaultValue,l.children),Rr(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Pp(n.textContent,a)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=Su),n=!0):n=!1,n||Ja(t)}function Am(t){for($e=t.return;$e;)switch($e.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:$e=$e.return}}function tl(t){if(t!==$e)return!1;if(!kt)return Am(t),kt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||mf(t.type,t.memoizedProps)),a=!a),a&&se&&Ja(t),Am(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){se=Mn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}se=null}}else n===27?(n=se,ia(t.type)?(t=_f,_f=null,se=t):se=n):se=$e?Mn(t.stateNode.nextSibling):null;return!0}function el(){se=$e=null,kt=!1}function Sm(){var t=$a;return t!==null&&(en===null?en=t:en.push.apply(en,t),$a=null),t}function nl(t){$a===null?$a=[t]:$a.push(t)}var Jc=$(null),Wa=null,Ei=null;function Hi(t,n,a){W(Jc,n._currentValue),n._currentValue=a}function Ti(t){t._currentValue=Jc.current,nt(Jc)}function Wc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function th(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var v=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Wc(f.return,a,t),l||(v=null);break t}f=E.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Wc(v,a,t),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===t){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function il(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=c.type;ln(c.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(c===we.current){if(v=c.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}c=c.return}t!==null&&th(n,t,a,l),n.flags|=262144}function Go(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function tr(t){Wa=t,Ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function je(t){return bm(Wa,t)}function Qo(t,n){return Wa===null&&tr(t),bm(t,n)}function bm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ei===null){if(t===null)throw Error(s(308));Ei=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ei=Ei.next=n;return a}var tE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},eE=r.unstable_scheduleCallback,nE=r.unstable_NormalPriority,Ae={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eh(){return{controller:new tE,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&eE(nE,function(){t.controller.abort()})}var rl=null,nh=0,Hr=0,jr=null;function iE(t,n){if(rl===null){var a=rl=[];nh=0,Hr=rf(),jr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return nh++,n.then(Rm,Rm),n}function Rm(){if(--nh===0&&rl!==null){jr!==null&&(jr.status="fulfilled");var t=rl;rl=null,Hr=0,jr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function aE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var wm=Q.S;Q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&iE(t,n),wm!==null&&wm(t,n)};var er=$(null);function ih(){var t=er.current;return t!==null?t:Jt.pooledCache}function Fo(t,n){n===null?W(er,er.current):W(er,n.pool)}function Cm(){var t=ih();return t===null?null:{parent:Ae._currentValue,pool:t}}var sl=Error(s(460)),Dm=Error(s(474)),Yo=Error(s(542)),ah={then:function(){}};function Vm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ko(){}function Im(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Ko,Ko),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Om(t),t;default:if(typeof n.status=="string")n.then(Ko,Ko);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Om(t),t}throw ll=n,sl}}var ll=null;function Nm(){if(ll===null)throw Error(s(459));var t=ll;return ll=null,t}function Om(t){if(t===sl||t===Yo)throw Error(s(483))}var ji=!1;function rh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qi(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=ko(t),_m(t,null,a),n}return Bo(t,l,n,a),ko(t)}function ol(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Ls(t,a)}}function lh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var oh=!1;function ul(){if(oh){var t=jr;if(t!==null)throw t}}function cl(t,n,a,l){oh=!1;var c=t.updateQueue;ji=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,P=R.next;R.next=null,v===null?f=P:v.next=P,v=R;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==v&&(E===null?F.firstBaseUpdate=P:E.next=P,F.lastBaseUpdate=R))}if(f!==null){var K=c.baseState;v=0,F=P=R=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(xt&B)===B:(l&B)===B){B!==0&&B===Hr&&(oh=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var _t=t,gt=E;B=n;var Xt=a;switch(gt.tag){case 1:if(_t=gt.payload,typeof _t=="function"){K=_t.call(Xt,K,B);break t}K=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=gt.payload,B=typeof _t=="function"?_t.call(Xt,K,B):_t,B==null)break t;K=T({},K,B);break t;case 2:ji=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(P=F=k,R=K):F=F.next=k,v|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);F===null&&(R=K),c.baseState=R,c.firstBaseUpdate=P,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),Wi|=v,t.lanes=v,t.memoizedState=K}}function Mm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function xm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Mm(a[t],n)}var Gr=$(null),Xo=$(0);function Um(t,n){t=Di,W(Xo,t),W(Gr,n),Di=t|n.baseLanes}function uh(){W(Xo,Di),W(Gr,Gr.current)}function ch(){Di=Xo.current,nt(Gr),nt(Xo)}var Fi=0,bt=null,Yt=null,me=null,Zo=!1,Qr=!1,nr=!1,$o=0,hl=0,Fr=null,rE=0;function ue(){throw Error(s(321))}function hh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!ln(t[a],n[a]))return!1;return!0}function fh(t,n,a,l,c,f){return Fi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?_g:vg,nr=!1,f=a(l,c),nr=!1,Qr&&(f=zm(n,a,l,c)),Lm(t),f}function Lm(t){Q.H=iu;var n=Yt!==null&&Yt.next!==null;if(Fi=0,me=Yt=bt=null,Zo=!1,hl=0,Fr=null,n)throw Error(s(300));t===null||Ve||(t=t.dependencies,t!==null&&Go(t)&&(Ve=!0))}function zm(t,n,a,l){bt=t;var c=0;do{if(Qr&&(Fr=null),hl=0,Qr=!1,25<=c)throw Error(s(301));if(c+=1,me=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=fE,f=n(a,l)}while(Qr);return f}function sE(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?fl(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(bt.flags|=1024),n}function dh(){var t=$o!==0;return $o=0,t}function mh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function gh(t){if(Zo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Zo=!1}Fi=0,me=Yt=bt=null,Qr=!1,hl=$o=0,Fr=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?bt.memoizedState=me=t:me=me.next=t,me}function ge(){if(Yt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=me===null?bt.memoizedState:me.next;if(n!==null)me=n,Yt=t;else{if(t===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},me===null?bt.memoizedState=me=t:me=me.next=t}return me}function ph(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var n=hl;return hl+=1,Fr===null&&(Fr=[]),t=Im(Fr,t,n),n=bt,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?_g:vg),t}function Jo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===ot)return je(t)}throw Error(s(438,String(t)))}function yh(t){var n=null,a=bt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ph(),bt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=N;return n.index++,a}function Ai(t,n){return typeof n=="function"?n(t):n}function Wo(t){var n=ge();return _h(n,Yt,t)}function _h(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=v=null,R=null,P=n,F=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(xt&K)===K:(Fi&K)===K){var B=P.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===Hr&&(F=!0);else if((Fi&B)===B){P=P.next,B===Hr&&(F=!0);continue}else K={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=K,v=f):R=R.next=K,bt.lanes|=B,Wi|=B;K=P.action,nr&&a(f,K),f=P.hasEagerState?P.eagerState:a(f,K)}else B={lane:K,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=B,v=f):R=R.next=B,bt.lanes|=K,Wi|=K;P=P.next}while(P!==null&&P!==n);if(R===null?v=f:R.next=E,!ln(f,t.memoizedState)&&(Ve=!0,F&&(a=jr,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function vh(t){var n=ge(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var v=c=c.next;do f=t(f,v.action),v=v.next;while(v!==c);ln(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Pm(t,n,a){var l=bt,c=ge(),f=kt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!ln((Yt||c).memoizedState,a);v&&(c.memoizedState=a,Ve=!0),c=c.queue;var E=qm.bind(null,l,c,t);if(dl(2048,8,E,[t]),c.getSnapshot!==n||v||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,Yr(9,tu(),km.bind(null,l,c,a,n),null),Jt===null)throw Error(s(349));f||(Fi&124)!==0||Bm(l,n,a)}return a}function Bm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=bt.updateQueue,n===null?(n=ph(),bt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function km(t,n,a,l){n.value=a,n.getSnapshot=l,Hm(n)&&jm(t)}function qm(t,n,a){return a(function(){Hm(n)&&jm(t)})}function Hm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!ln(t,a)}catch{return!0}}function jm(t){var n=Pr(t,2);n!==null&&dn(n,t,2)}function Eh(t){var n=We();if(typeof t=="function"){var a=t;if(t=a(),nr){rn(!0);try{a()}finally{rn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:t},n}function Gm(t,n,a,l){return t.baseState=a,_h(t,Yt,typeof l=="function"?l:Ai)}function lE(t,n,a,l,c){if(nu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};Q.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Qm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Qm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=Q.T,v={};Q.T=v;try{var E=a(c,l),R=Q.S;R!==null&&R(v,E),Fm(t,n,E)}catch(P){Th(t,n,P)}finally{Q.T=f}}else try{f=a(c,l),Fm(t,n,f)}catch(P){Th(t,n,P)}}function Fm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ym(t,n,l)},function(l){return Th(t,n,l)}):Ym(t,n,a)}function Ym(t,n,a){n.status="fulfilled",n.value=a,Km(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Qm(t,a)))}function Th(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Km(n),n=n.next;while(n!==l)}t.action=null}function Km(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Xm(t,n){return n}function Zm(t,n){if(kt){var a=Jt.formState;if(a!==null){t:{var l=bt;if(kt){if(se){e:{for(var c=se,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Mn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){se=Mn(c.nextSibling),l=c.data==="F!";break t}}Ja(l)}l=!1}l&&(n=a[0])}}return a=We(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xm,lastRenderedState:n},a.queue=l,a=gg.bind(null,bt,l),l.dispatch=a,l=Eh(!1),f=wh.bind(null,bt,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=lE.bind(null,bt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function $m(t){var n=ge();return Jm(n,Yt,t)}function Jm(t,n,a){if(n=_h(t,n,Xm)[0],t=Wo(Ai)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=fl(n)}catch(v){throw v===sl?Yo:v}else l=n;n=ge();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(bt.flags|=2048,Yr(9,tu(),oE.bind(null,c,a),null)),[l,f,t]}function oE(t,n){t.action=n}function Wm(t){var n=ge(),a=Yt;if(a!==null)return Jm(n,a,t);ge(),n=n.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Yr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=bt.updateQueue,n===null&&(n=ph(),bt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function tu(){return{destroy:void 0,resource:void 0}}function tg(){return ge().memoizedState}function eu(t,n,a,l){var c=We();l=l===void 0?null:l,bt.flags|=t,c.memoizedState=Yr(1|n,tu(),a,l)}function dl(t,n,a,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&hh(l,Yt.memoizedState.deps)?c.memoizedState=Yr(n,f,a,l):(bt.flags|=t,c.memoizedState=Yr(1|n,f,a,l))}function eg(t,n){eu(8390656,8,t,n)}function ng(t,n){dl(2048,8,t,n)}function ig(t,n){return dl(4,2,t,n)}function ag(t,n){return dl(4,4,t,n)}function rg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function sg(t,n,a){a=a!=null?a.concat([t]):null,dl(4,4,rg.bind(null,n,t),a)}function Ah(){}function lg(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&hh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function og(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&hh(n,l[1]))return l[0];if(l=t(),nr){rn(!0);try{t()}finally{rn(!1)}}return a.memoizedState=[l,n],l}function Sh(t,n,a){return a===void 0||(Fi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=hp(),bt.lanes|=t,Wi|=t,a)}function ug(t,n,a,l){return ln(a,n)?a:Gr.current!==null?(t=Sh(t,a,l),ln(t,n)||(Ve=!0),t):(Fi&42)===0?(Ve=!0,t.memoizedState=a):(t=hp(),bt.lanes|=t,Wi|=t,n)}function cg(t,n,a,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var v=Q.T,E={};Q.T=E,wh(t,!1,n,a);try{var R=c(),P=Q.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=aE(R,l);ml(t,n,F,fn(t))}else ml(t,n,l,fn(t))}catch(K){ml(t,n,{then:function(){},status:"rejected",reason:K},fn())}finally{et.p=f,Q.T=v}}function uE(){}function bh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=hg(t).queue;cg(t,c,n,ht,a===null?uE:function(){return fg(t),a(l)})}function hg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function fg(t){var n=hg(t).next.queue;ml(t,n,{},fn())}function Rh(){return je(Ol)}function dg(){return ge().memoizedState}function mg(){return ge().memoizedState}function cE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=fn();t=Gi(a);var l=Qi(n,t,a);l!==null&&(dn(l,n,a),ol(l,n,a)),n={cache:eh()},t.payload=n;return}n=n.return}}function hE(t,n,a){var l=fn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},nu(t)?pg(n,a):(a=Qc(t,n,a,l),a!==null&&(dn(a,t,l),yg(a,n,l)))}function gg(t,n,a){var l=fn();ml(t,n,a,l)}function ml(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(nu(t))pg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,a);if(c.hasEagerState=!0,c.eagerState=E,ln(E,v))return Bo(t,n,c,0),Jt===null&&Po(),!1}catch{}finally{}if(a=Qc(t,n,c,l),a!==null)return dn(a,t,l),yg(a,n,l),!0}return!1}function wh(t,n,a,l){if(l={lane:2,revertLane:rf(),action:l,hasEagerState:!1,eagerState:null,next:null},nu(t)){if(n)throw Error(s(479))}else n=Qc(t,a,l,2),n!==null&&dn(n,t,2)}function nu(t){var n=t.alternate;return t===bt||n!==null&&n===bt}function pg(t,n){Qr=Zo=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function yg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Ls(t,a)}}var iu={readContext:je,use:Jo,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},_g={readContext:je,use:Jo,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:je,useEffect:eg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,eu(4194308,4,rg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return eu(4194308,4,t,n)},useInsertionEffect:function(t,n){eu(4,2,t,n)},useMemo:function(t,n){var a=We();n=n===void 0?null:n;var l=t();if(nr){rn(!0);try{t()}finally{rn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=We();if(a!==void 0){var c=a(n);if(nr){rn(!0);try{a(n)}finally{rn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=hE.bind(null,bt,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=Eh(t);var n=t.queue,a=gg.bind(null,bt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Ah,useDeferredValue:function(t,n){var a=We();return Sh(a,t,n)},useTransition:function(){var t=Eh(!1);return t=cg.bind(null,bt,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=bt,c=We();if(kt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(xt&124)!==0||Bm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,eg(qm.bind(null,l,f,t),[t]),l.flags|=2048,Yr(9,tu(),km.bind(null,l,f,a,n),null),a},useId:function(){var t=We(),n=Jt.identifierPrefix;if(kt){var a=vi,l=_i;a=(l&~(1<<32-He(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=$o++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=rE++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Rh,useFormState:Zm,useActionState:Zm,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=wh.bind(null,bt,!0,a),a.dispatch=n,[t,n]},useMemoCache:yh,useCacheRefresh:function(){return We().memoizedState=cE.bind(null,bt)}},vg={readContext:je,use:Jo,useCallback:lg,useContext:je,useEffect:ng,useImperativeHandle:sg,useInsertionEffect:ig,useLayoutEffect:ag,useMemo:og,useReducer:Wo,useRef:tg,useState:function(){return Wo(Ai)},useDebugValue:Ah,useDeferredValue:function(t,n){var a=ge();return ug(a,Yt.memoizedState,t,n)},useTransition:function(){var t=Wo(Ai)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Pm,useId:dg,useHostTransitionStatus:Rh,useFormState:$m,useActionState:$m,useOptimistic:function(t,n){var a=ge();return Gm(a,Yt,t,n)},useMemoCache:yh,useCacheRefresh:mg},fE={readContext:je,use:Jo,useCallback:lg,useContext:je,useEffect:ng,useImperativeHandle:sg,useInsertionEffect:ig,useLayoutEffect:ag,useMemo:og,useReducer:vh,useRef:tg,useState:function(){return vh(Ai)},useDebugValue:Ah,useDeferredValue:function(t,n){var a=ge();return Yt===null?Sh(a,t,n):ug(a,Yt.memoizedState,t,n)},useTransition:function(){var t=vh(Ai)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Pm,useId:dg,useHostTransitionStatus:Rh,useFormState:Wm,useActionState:Wm,useOptimistic:function(t,n){var a=ge();return Yt!==null?Gm(a,Yt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:yh,useCacheRefresh:mg},Kr=null,gl=0;function au(t){var n=gl;return gl+=1,Kr===null&&(Kr=[]),Im(Kr,t,n)}function pl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ru(t,n){throw n.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Eg(t){var n=t._init;return n(t._payload)}function Tg(t){function n(x,I){if(t){var z=x.deletions;z===null?(x.deletions=[I],x.flags|=16):z.push(I)}}function a(x,I){if(!t)return null;for(;I!==null;)n(x,I),I=I.sibling;return null}function l(x){for(var I=new Map;x!==null;)x.key!==null?I.set(x.key,x):I.set(x.index,x),x=x.sibling;return I}function c(x,I){return x=yi(x,I),x.index=0,x.sibling=null,x}function f(x,I,z){return x.index=z,t?(z=x.alternate,z!==null?(z=z.index,z<I?(x.flags|=67108866,I):z):(x.flags|=67108866,I)):(x.flags|=1048576,I)}function v(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,I,z,Y){return I===null||I.tag!==6?(I=Yc(z,x.mode,Y),I.return=x,I):(I=c(I,z),I.return=x,I)}function R(x,I,z,Y){var lt=z.type;return lt===G?F(x,I,z.props.children,Y,z.key):I!==null&&(I.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&Eg(lt)===I.type)?(I=c(I,z.props),pl(I,z),I.return=x,I):(I=qo(z.type,z.key,z.props,null,x.mode,Y),pl(I,z),I.return=x,I)}function P(x,I,z,Y){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=Kc(z,x.mode,Y),I.return=x,I):(I=c(I,z.children||[]),I.return=x,I)}function F(x,I,z,Y,lt){return I===null||I.tag!==7?(I=Ka(z,x.mode,Y,lt),I.return=x,I):(I=c(I,z),I.return=x,I)}function K(x,I,z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Yc(""+I,x.mode,z),I.return=x,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case w:return z=qo(I.type,I.key,I.props,null,x.mode,z),pl(z,I),z.return=x,z;case q:return I=Kc(I,x.mode,z),I.return=x,I;case b:var Y=I._init;return I=Y(I._payload),K(x,I,z)}if(ae(I)||U(I))return I=Ka(I,x.mode,z,null),I.return=x,I;if(typeof I.then=="function")return K(x,au(I),z);if(I.$$typeof===ot)return K(x,Qo(x,I),z);ru(x,I)}return null}function B(x,I,z,Y){var lt=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return lt!==null?null:E(x,I,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return z.key===lt?R(x,I,z,Y):null;case q:return z.key===lt?P(x,I,z,Y):null;case b:return lt=z._init,z=lt(z._payload),B(x,I,z,Y)}if(ae(z)||U(z))return lt!==null?null:F(x,I,z,Y,null);if(typeof z.then=="function")return B(x,I,au(z),Y);if(z.$$typeof===ot)return B(x,I,Qo(x,z),Y);ru(x,z)}return null}function k(x,I,z,Y,lt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return x=x.get(z)||null,E(I,x,""+Y,lt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return x=x.get(Y.key===null?z:Y.key)||null,R(I,x,Y,lt);case q:return x=x.get(Y.key===null?z:Y.key)||null,P(I,x,Y,lt);case b:var Ct=Y._init;return Y=Ct(Y._payload),k(x,I,z,Y,lt)}if(ae(Y)||U(Y))return x=x.get(z)||null,F(I,x,Y,lt,null);if(typeof Y.then=="function")return k(x,I,z,au(Y),lt);if(Y.$$typeof===ot)return k(x,I,z,Qo(I,Y),lt);ru(I,Y)}return null}function _t(x,I,z,Y){for(var lt=null,Ct=null,ut=I,pt=I=0,Ne=null;ut!==null&&pt<z.length;pt++){ut.index>pt?(Ne=ut,ut=null):Ne=ut.sibling;var zt=B(x,ut,z[pt],Y);if(zt===null){ut===null&&(ut=Ne);break}t&&ut&&zt.alternate===null&&n(x,ut),I=f(zt,I,pt),Ct===null?lt=zt:Ct.sibling=zt,Ct=zt,ut=Ne}if(pt===z.length)return a(x,ut),kt&&Za(x,pt),lt;if(ut===null){for(;pt<z.length;pt++)ut=K(x,z[pt],Y),ut!==null&&(I=f(ut,I,pt),Ct===null?lt=ut:Ct.sibling=ut,Ct=ut);return kt&&Za(x,pt),lt}for(ut=l(ut);pt<z.length;pt++)Ne=k(ut,x,pt,z[pt],Y),Ne!==null&&(t&&Ne.alternate!==null&&ut.delete(Ne.key===null?pt:Ne.key),I=f(Ne,I,pt),Ct===null?lt=Ne:Ct.sibling=Ne,Ct=Ne);return t&&ut.forEach(function(oa){return n(x,oa)}),kt&&Za(x,pt),lt}function gt(x,I,z,Y){if(z==null)throw Error(s(151));for(var lt=null,Ct=null,ut=I,pt=I=0,Ne=null,zt=z.next();ut!==null&&!zt.done;pt++,zt=z.next()){ut.index>pt?(Ne=ut,ut=null):Ne=ut.sibling;var oa=B(x,ut,zt.value,Y);if(oa===null){ut===null&&(ut=Ne);break}t&&ut&&oa.alternate===null&&n(x,ut),I=f(oa,I,pt),Ct===null?lt=oa:Ct.sibling=oa,Ct=oa,ut=Ne}if(zt.done)return a(x,ut),kt&&Za(x,pt),lt;if(ut===null){for(;!zt.done;pt++,zt=z.next())zt=K(x,zt.value,Y),zt!==null&&(I=f(zt,I,pt),Ct===null?lt=zt:Ct.sibling=zt,Ct=zt);return kt&&Za(x,pt),lt}for(ut=l(ut);!zt.done;pt++,zt=z.next())zt=k(ut,x,pt,zt.value,Y),zt!==null&&(t&&zt.alternate!==null&&ut.delete(zt.key===null?pt:zt.key),I=f(zt,I,pt),Ct===null?lt=zt:Ct.sibling=zt,Ct=zt);return t&&ut.forEach(function(dT){return n(x,dT)}),kt&&Za(x,pt),lt}function Xt(x,I,z,Y){if(typeof z=="object"&&z!==null&&z.type===G&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case w:t:{for(var lt=z.key;I!==null;){if(I.key===lt){if(lt=z.type,lt===G){if(I.tag===7){a(x,I.sibling),Y=c(I,z.props.children),Y.return=x,x=Y;break t}}else if(I.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&Eg(lt)===I.type){a(x,I.sibling),Y=c(I,z.props),pl(Y,z),Y.return=x,x=Y;break t}a(x,I);break}else n(x,I);I=I.sibling}z.type===G?(Y=Ka(z.props.children,x.mode,Y,z.key),Y.return=x,x=Y):(Y=qo(z.type,z.key,z.props,null,x.mode,Y),pl(Y,z),Y.return=x,x=Y)}return v(x);case q:t:{for(lt=z.key;I!==null;){if(I.key===lt)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){a(x,I.sibling),Y=c(I,z.children||[]),Y.return=x,x=Y;break t}else{a(x,I);break}else n(x,I);I=I.sibling}Y=Kc(z,x.mode,Y),Y.return=x,x=Y}return v(x);case b:return lt=z._init,z=lt(z._payload),Xt(x,I,z,Y)}if(ae(z))return _t(x,I,z,Y);if(U(z)){if(lt=U(z),typeof lt!="function")throw Error(s(150));return z=lt.call(z),gt(x,I,z,Y)}if(typeof z.then=="function")return Xt(x,I,au(z),Y);if(z.$$typeof===ot)return Xt(x,I,Qo(x,z),Y);ru(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,I!==null&&I.tag===6?(a(x,I.sibling),Y=c(I,z),Y.return=x,x=Y):(a(x,I),Y=Yc(z,x.mode,Y),Y.return=x,x=Y),v(x)):a(x,I)}return function(x,I,z,Y){try{gl=0;var lt=Xt(x,I,z,Y);return Kr=null,lt}catch(ut){if(ut===sl||ut===Yo)throw ut;var Ct=on(29,ut,null,x.mode);return Ct.lanes=Y,Ct.return=x,Ct}finally{}}}var Xr=Tg(!0),Ag=Tg(!1),Rn=$(null),Xn=null;function Yi(t){var n=t.alternate;W(Se,Se.current&1),W(Rn,t),Xn===null&&(n===null||Gr.current!==null||n.memoizedState!==null)&&(Xn=t)}function Sg(t){if(t.tag===22){if(W(Se,Se.current),W(Rn,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else Ki()}function Ki(){W(Se,Se.current),W(Rn,Rn.current)}function Si(t){nt(Rn),Xn===t&&(Xn=null),nt(Se)}var Se=$(0);function su(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||yf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Ch(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:T({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Dh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=fn(),c=Gi(l);c.payload=n,a!=null&&(c.callback=a),n=Qi(t,c,l),n!==null&&(dn(n,t,l),ol(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=fn(),c=Gi(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=Qi(t,c,l),n!==null&&(dn(n,t,l),ol(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=fn(),l=Gi(a);l.tag=2,n!=null&&(l.callback=n),n=Qi(t,l,a),n!==null&&(dn(n,t,a),ol(n,t,a))}};function bg(t,n,a,l,c,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!Js(a,l)||!Js(c,f):!0}function Rg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Dh.enqueueReplaceState(n,n.state,null)}function ir(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=T({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var lu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function wg(t){lu(t)}function Cg(t){console.error(t)}function Dg(t){lu(t)}function ou(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Vg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Vh(t,n,a){return a=Gi(a),a.tag=3,a.payload={element:null},a.callback=function(){ou(t,n)},a}function Ig(t){return t=Gi(t),t.tag=3,t}function Ng(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Vg(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Vg(n,a,l),typeof c!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function dE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&il(n,a,c,!0),a=Rn.current,a!==null){switch(a.tag){case 13:return Xn===null?Wh():a.alternate===null&&le===0&&(le=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===ah?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),ef(t,l,c)),!1;case 22:return a.flags|=65536,l===ah?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),ef(t,l,c)),!1}throw Error(s(435,a.tag))}return ef(t,l,c),Wh(),!1}if(kt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==$c&&(t=Error(s(422),{cause:l}),nl(Tn(t,a)))):(l!==$c&&(n=Error(s(423),{cause:l}),nl(Tn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Tn(l,a),c=Vh(t.stateNode,l,c),lh(t,c),le!==4&&(le=2)),!1;var f=Error(s(520),{cause:l});if(f=Tn(f,a),Sl===null?Sl=[f]:Sl.push(f),le!==4&&(le=2),n===null)return!0;l=Tn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Vh(a.stateNode,l,t),lh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ta===null||!ta.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Ig(c),Ng(c,t,a,l),lh(a,c),!1}a=a.return}while(a!==null);return!1}var Og=Error(s(461)),Ve=!1;function Le(t,n,a,l){n.child=t===null?Ag(n,null,a,l):Xr(n,t.child,a,l)}function Mg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return tr(n),l=fh(t,n,a,v,f,c),E=dh(),t!==null&&!Ve?(mh(t,n,c),bi(t,n,c)):(kt&&E&&Xc(n),n.flags|=1,Le(t,n,l,c),n.child)}function xg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Fc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Ug(t,n,f,l,c)):(t=qo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!zh(t,c)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:Js,a(v,l)&&t.ref===n.ref)return bi(t,n,c)}return n.flags|=1,t=yi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Ug(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(Js(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,zh(t,c))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,bi(t,n,c)}return Ih(t,n,a,l,c)}function Lg(t,n,a){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return zg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fo(n,f!==null?f.cachePool:null),f!==null?Um(n,f):uh(),Sg(n);else return n.lanes=n.childLanes=536870912,zg(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(Fo(n,f.cachePool),Um(n,f),Ki(),n.memoizedState=null):(t!==null&&Fo(n,null),uh(),Ki());return Le(t,n,c,a),n.child}function zg(t,n,a,l){var c=ih();return c=c===null?null:{parent:Ae._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Fo(n,null),uh(),Sg(n),t!==null&&il(t,n,l,!0),null}function uu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Ih(t,n,a,l,c){return tr(n),a=fh(t,n,a,l,void 0,c),l=dh(),t!==null&&!Ve?(mh(t,n,c),bi(t,n,c)):(kt&&l&&Xc(n),n.flags|=1,Le(t,n,a,c),n.child)}function Pg(t,n,a,l,c,f){return tr(n),n.updateQueue=null,a=zm(n,l,a,c),Lm(t),l=dh(),t!==null&&!Ve?(mh(t,n,f),bi(t,n,f)):(kt&&l&&Xc(n),n.flags|=1,Le(t,n,a,f),n.child)}function Bg(t,n,a,l,c){if(tr(n),n.stateNode===null){var f=Br,v=a.contextType;typeof v=="object"&&v!==null&&(f=je(v)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Dh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},rh(n),v=a.contextType,f.context=typeof v=="object"&&v!==null?je(v):Br,f.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Ch(n,a,v,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Dh.enqueueReplaceState(f,f.state,null),cl(n,l,f,c),ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=ir(a,E);f.props=R;var P=f.context,F=a.contextType;v=Br,typeof F=="object"&&F!==null&&(v=je(F));var K=a.getDerivedStateFromProps;F=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==v)&&Rg(n,f,l,v),ji=!1;var B=n.memoizedState;f.state=B,cl(n,l,f,c),ul(),P=n.memoizedState,E||B!==P||ji?(typeof K=="function"&&(Ch(n,a,K,l),P=n.memoizedState),(R=ji||bg(n,a,R,l,B,P,v))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=v,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,sh(t,n),v=n.memoizedProps,F=ir(a,v),f.props=F,K=n.pendingProps,B=f.context,P=a.contextType,R=Br,typeof P=="object"&&P!==null&&(R=je(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==K||B!==R)&&Rg(n,f,l,R),ji=!1,B=n.memoizedState,f.state=B,cl(n,l,f,c),ul();var k=n.memoizedState;v!==K||B!==k||ji||t!==null&&t.dependencies!==null&&Go(t.dependencies)?(typeof E=="function"&&(Ch(n,a,E,l),k=n.memoizedState),(F=ji||bg(n,a,F,l,B,k,R)||t!==null&&t.dependencies!==null&&Go(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=R,l=F):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,uu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Xr(n,t.child,null,c),n.child=Xr(n,null,a,c)):Le(t,n,a,c),n.memoizedState=f.state,t=n.child):t=bi(t,n,c),t}function kg(t,n,a,l){return el(),n.flags|=256,Le(t,n,a,l),n.child}var Nh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oh(t){return{baseLanes:t,cachePool:Cm()}}function Mh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=wn),t}function qg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Se.current&2)!==0),v&&(c=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(kt){if(c?Yi(n):Ki(),kt){var E=se,R;if(R=E){t:{for(R=E,E=Kn;R.nodeType!==8;){if(!E){E=null;break t}if(R=Mn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:Xa!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},R=on(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,$e=n,se=null,R=!0):R=!1}R||Ja(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return yf(E)?n.lanes=32:n.lanes=536870912,null;Si(n)}return E=l.children,l=l.fallback,c?(Ki(),c=n.mode,E=cu({mode:"hidden",children:E},c),l=Ka(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Oh(a),c.childLanes=Mh(t,v,a),n.memoizedState=Nh,l):(Yi(n),xh(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Yi(n),n.flags&=-257,n=Uh(t,n,a)):n.memoizedState!==null?(Ki(),n.child=t.child,n.flags|=128,n=null):(Ki(),c=l.fallback,E=n.mode,l=cu({mode:"visible",children:l.children},E),c=Ka(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Xr(n,t.child,null,a),l=n.child,l.memoizedState=Oh(a),l.childLanes=Mh(t,v,a),n.memoizedState=Nh,n=c);else if(Yi(n),yf(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var P=v.dgst;v=P,l=Error(s(419)),l.stack="",l.digest=v,nl({value:l,source:null,stack:null}),n=Uh(t,n,a)}else if(Ve||il(t,n,a,!1),v=(a&t.childLanes)!==0,Ve||v){if(v=Jt,v!==null&&(l=a&-a,l=(l&42)!==0?1:Ui(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,Pr(t,l),dn(v,t,l),Og;E.data==="$?"||Wh(),n=Uh(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,se=Mn(E.nextSibling),$e=n,kt=!0,$a=null,Kn=!1,t!==null&&(Sn[bn++]=_i,Sn[bn++]=vi,Sn[bn++]=Xa,_i=t.id,vi=t.overflow,Xa=n),n=xh(n,l.children),n.flags|=4096);return n}return c?(Ki(),c=l.fallback,E=n.mode,R=t.child,P=R.sibling,l=yi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,P!==null?c=yi(P,c):(c=Ka(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Oh(a):(R=E.cachePool,R!==null?(P=Ae._currentValue,R=R.parent!==P?{parent:P,pool:P}:R):R=Cm(),E={baseLanes:E.baseLanes|a,cachePool:R}),c.memoizedState=E,c.childLanes=Mh(t,v,a),n.memoizedState=Nh,l):(Yi(n),a=t.child,t=a.sibling,a=yi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function xh(t,n){return n=cu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function cu(t,n){return t=on(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Uh(t,n,a){return Xr(n,t.child,null,a),t=xh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Hg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Wc(t.return,n,a)}function Lh(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function jg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Le(t,n,l.children,a),l=Se.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hg(t,a,n);else if(t.tag===19)Hg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(Se,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&su(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Lh(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&su(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Lh(n,!0,a,null,f);break;case"together":Lh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function bi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Wi|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(il(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=yi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=yi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function zh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Go(t)))}function mE(t,n,a){switch(n.tag){case 3:$t(n,n.stateNode.containerInfo),Hi(n,Ae,t.memoizedState.cache),el();break;case 27:case 5:xi(n);break;case 4:$t(n,n.stateNode.containerInfo);break;case 10:Hi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Yi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?qg(t,n,a):(Yi(n),t=bi(t,n,a),t!==null?t.sibling:null);Yi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(il(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return jg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(Se,Se.current),l)break;return null;case 22:case 23:return n.lanes=0,Lg(t,n,a);case 24:Hi(n,Ae,t.memoizedState.cache)}return bi(t,n,a)}function Gg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!zh(t,a)&&(n.flags&128)===0)return Ve=!1,mE(t,n,a);Ve=(t.flags&131072)!==0}else Ve=!1,kt&&(n.flags&1048576)!==0&&Em(n,jo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Fc(l)?(t=ir(l,t),n.tag=1,n=Bg(null,n,l,t,a)):(n.tag=0,n=Ih(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===Dt){n.tag=11,n=Mg(null,n,l,t,a);break t}else if(c===O){n.tag=14,n=xg(null,n,l,t,a);break t}}throw n=Me(l)||l,Error(s(306,n,""))}}return n;case 0:return Ih(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=ir(l,n.pendingProps),Bg(t,n,l,c,a);case 3:t:{if($t(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,sh(t,n),cl(n,l,null,a);var v=n.memoizedState;if(l=v.cache,Hi(n,Ae,l),l!==f.cache&&th(n,[Ae],a,!0),ul(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=kg(t,n,l,a);break t}else if(l!==c){c=Tn(Error(s(424)),n),nl(c),n=kg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(se=Mn(t.firstChild),$e=n,kt=!0,$a=null,Kn=!0,a=Ag(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(el(),l===c){n=bi(t,n,a);break t}Le(t,n,l,a)}n=n.child}return n;case 26:return uu(t,n),t===null?(a=Kp(n.type,null,n.pendingProps,null))?n.memoizedState=a:kt||(a=n.type,t=n.pendingProps,l=bu(Et.current).createElement(a),l[ve]=n,l[fe]=t,Pe(l,a,t),oe(l),n.stateNode=l):n.memoizedState=Kp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return xi(n),t===null&&kt&&(l=n.stateNode=Qp(n.type,n.pendingProps,Et.current),$e=n,Kn=!0,c=se,ia(n.type)?(_f=c,se=Mn(l.firstChild)):se=c),Le(t,n,n.pendingProps.children,a),uu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&kt&&((c=l=se)&&(l=HE(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,$e=n,se=Mn(l.firstChild),Kn=!1,c=!0):c=!1),c||Ja(n)),xi(n),c=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,mf(c,f)?l=null:v!==null&&mf(c,v)&&(n.flags|=32),n.memoizedState!==null&&(c=fh(t,n,sE,null,null,a),Ol._currentValue=c),uu(t,n),Le(t,n,l,a),n.child;case 6:return t===null&&kt&&((t=a=se)&&(a=jE(a,n.pendingProps,Kn),a!==null?(n.stateNode=a,$e=n,se=null,t=!0):t=!1),t||Ja(n)),null;case 13:return qg(t,n,a);case 4:return $t(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Xr(n,null,l,a):Le(t,n,l,a),n.child;case 11:return Mg(t,n,n.type,n.pendingProps,a);case 7:return Le(t,n,n.pendingProps,a),n.child;case 8:return Le(t,n,n.pendingProps.children,a),n.child;case 12:return Le(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Hi(n,n.type,l.value),Le(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,tr(n),c=je(c),l=l(c),n.flags|=1,Le(t,n,l,a),n.child;case 14:return xg(t,n,n.type,n.pendingProps,a);case 15:return Ug(t,n,n.type,n.pendingProps,a);case 19:return jg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=cu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=yi(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Lg(t,n,a);case 24:return tr(n),l=je(Ae),t===null?(c=ih(),c===null&&(c=Jt,f=eh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},rh(n),Hi(n,Ae,c)):((t.lanes&a)!==0&&(sh(t,n),cl(n,null,null,a),ul()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Hi(n,Ae,l)):(l=f.cache,Hi(n,Ae,l),l!==c.cache&&th(n,[Ae],a,!0))),Le(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ri(t){t.flags|=4}function Qg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Wp(n)){if(n=Rn.current,n!==null&&((xt&4194048)===xt?Xn!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==Xn))throw ll=ah,Dm;t.flags|=8192}}function hu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?xs():536870912,t.lanes|=n,Wr|=n)}function yl(t,n){if(!kt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function gE(t,n,a){var l=n.pendingProps;switch(Zc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ti(Ae),Ln(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(tl(n)?Ri(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Sm())),ne(n),null;case 26:return a=n.memoizedState,t===null?(Ri(n),a!==null?(ne(n),Qg(n,a)):(ne(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Ri(n),ne(n),Qg(n,a)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ri(n),ne(n),n.flags&=-16777217),null;case 27:ai(n),a=Et.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}t=dt.current,tl(n)?Tm(n):(t=Qp(c,l,a),n.stateNode=t,Ri(n))}return ne(n),null;case 5:if(ai(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(t=dt.current,tl(n))Tm(n);else{switch(c=bu(Et.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[ve]=n,t[fe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Pe(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ri(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Et.current,tl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=$e,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ve]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Pp(t.nodeValue,a)),t||Ja(n)}else t=bu(t).createTextNode(l),t[ve]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=tl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ve]=n}else el(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=Sm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Si(n),n):(Si(n),null)}if(Si(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),hu(n,n.updateQueue),ne(n),null;case 4:return Ln(),t===null&&uf(n.stateNode.containerInfo),ne(n),null;case 10:return Ti(n.type),ne(n),null;case 19:if(nt(Se),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)yl(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=su(t),f!==null){for(n.flags|=128,yl(c,!1),t=f.updateQueue,n.updateQueue=t,hu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)vm(a,t),a=a.sibling;return W(Se,Se.current&1|2),n.child}t=t.sibling}c.tail!==null&&gn()>mu&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304)}else{if(!l)if(t=su(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,hu(n,t),yl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!kt)return ne(n),null}else 2*gn()-c.renderingStartTime>mu&&a!==536870912&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=gn(),n.sibling=null,t=Se.current,W(Se,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return Si(n),ch(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&hu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&nt(er),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ti(Ae),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function pE(t,n){switch(Zc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ti(Ae),Ln(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ai(n),null;case 13:if(Si(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));el()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Se),null;case 4:return Ln(),null;case 10:return Ti(n.type),null;case 22:case 23:return Si(n),ch(),t!==null&&nt(er),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ti(Ae),null;case 25:return null;default:return null}}function Fg(t,n){switch(Zc(n),n.tag){case 3:Ti(Ae),Ln();break;case 26:case 27:case 5:ai(n);break;case 4:Ln();break;case 13:Si(n);break;case 19:nt(Se);break;case 10:Ti(n.type);break;case 22:case 23:Si(n),ch(),t!==null&&nt(er);break;case 24:Ti(Ae)}}function _l(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==c)}}catch(E){Zt(n,n.return,E)}}function Xi(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,c=n;var R=a,P=E;try{P()}catch(F){Zt(c,R,F)}}}l=l.next}while(l!==f)}}catch(F){Zt(n,n.return,F)}}function Yg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{xm(n,a)}catch(l){Zt(t,t.return,l)}}}function Kg(t,n,a){a.props=ir(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Zt(t,n,l)}}function vl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Zt(t,n,c)}}function Zn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Zt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Zt(t,n,c)}else a.current=null}function Xg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Zt(t,t.return,c)}}function Ph(t,n,a){try{var l=t.stateNode;zE(l,t.type,a,n),l[fe]=n}catch(c){Zt(t,t.return,c)}}function Zg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ia(t.type)||t.tag===4}function Bh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Zg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ia(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Su));else if(l!==4&&(l===27&&ia(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(kh(t,n,a),t=t.sibling;t!==null;)kh(t,n,a),t=t.sibling}function fu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ia(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(fu(t,n,a),t=t.sibling;t!==null;)fu(t,n,a),t=t.sibling}function $g(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,a),n[ve]=t,n[fe]=a}catch(f){Zt(t,t.return,f)}}var wi=!1,ce=!1,qh=!1,Jg=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function yE(t,n){if(t=t.containerInfo,ff=Iu,t=um(t),Bc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,E=-1,R=-1,P=0,F=0,K=t,B=null;e:for(;;){for(var k;K!==a||c!==0&&K.nodeType!==3||(E=v+c),K!==f||l!==0&&K.nodeType!==3||(R=v+l),K.nodeType===3&&(v+=K.nodeValue.length),(k=K.firstChild)!==null;)B=K,K=k;for(;;){if(K===t)break e;if(B===a&&++P===c&&(E=v),B===f&&++F===l&&(R=v),(k=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=k}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(df={focusedElem:t,selectionRange:a},Iu=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var _t=ir(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(_t,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Zt(a,a.return,gt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)pf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function Wg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Zi(t,a),l&4&&_l(5,a);break;case 1:if(Zi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(v){Zt(a,a.return,v)}else{var c=ir(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Zt(a,a.return,v)}}l&64&&Yg(a),l&512&&vl(a,a.return);break;case 3:if(Zi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{xm(t,n)}catch(v){Zt(a,a.return,v)}}break;case 27:n===null&&l&4&&$g(a);case 26:case 5:Zi(t,a),n===null&&l&4&&Xg(a),l&512&&vl(a,a.return);break;case 12:Zi(t,a);break;case 13:Zi(t,a),l&4&&np(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=wE.bind(null,a),GE(t,a))));break;case 22:if(l=a.memoizedState!==null||wi,!l){n=n!==null&&n.memoizedState!==null||ce,c=wi;var f=ce;wi=l,(ce=n)&&!f?$i(t,a,(a.subtreeFlags&8772)!==0):Zi(t,a),wi=c,ce=f}break;case 30:break;default:Zi(t,a)}}function tp(t){var n=t.alternate;n!==null&&(t.alternate=null,tp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Pi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,tn=!1;function Ci(t,n,a){for(a=a.child;a!==null;)ep(t,n,a),a=a.sibling}function ep(t,n,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(re,a)}catch{}switch(a.tag){case 26:ce||Zn(a,n),Ci(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ce||Zn(a,n);var l=te,c=tn;ia(a.type)&&(te=a.stateNode,tn=!1),Ci(t,n,a),Dl(a.stateNode),te=l,tn=c;break;case 5:ce||Zn(a,n);case 6:if(l=te,c=tn,te=null,Ci(t,n,a),te=l,tn=c,te!==null)if(tn)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(a.stateNode)}catch(f){Zt(a,n,f)}else try{te.removeChild(a.stateNode)}catch(f){Zt(a,n,f)}break;case 18:te!==null&&(tn?(t=te,jp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ll(t)):jp(te,a.stateNode));break;case 4:l=te,c=tn,te=a.stateNode.containerInfo,tn=!0,Ci(t,n,a),te=l,tn=c;break;case 0:case 11:case 14:case 15:ce||Xi(2,a,n),ce||Xi(4,a,n),Ci(t,n,a);break;case 1:ce||(Zn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Kg(a,n,l)),Ci(t,n,a);break;case 21:Ci(t,n,a);break;case 22:ce=(l=ce)||a.memoizedState!==null,Ci(t,n,a),ce=l;break;default:Ci(t,n,a)}}function np(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ll(t)}catch(a){Zt(n,n.return,a)}}function _E(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Jg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Jg),n;default:throw Error(s(435,t.tag))}}function Hh(t,n){var a=_E(t);n.forEach(function(l){var c=CE.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function un(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(ia(E.type)){te=E.stateNode,tn=!1;break t}break;case 5:te=E.stateNode,tn=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(te===null)throw Error(s(160));ep(f,v,c),te=null,tn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)ip(n,t),n=n.sibling}var On=null;function ip(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),l&4&&(Xi(3,t,t.return),_l(3,t),Xi(5,t,t.return));break;case 1:un(n,t),cn(t),l&512&&(ce||a===null||Zn(a,a.return)),l&64&&wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=On;if(un(n,t),cn(t),l&512&&(ce||a===null||Zn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Oa]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,a),f[ve]=t,oe(f),l=f;break t;case"link":var v=$p("link","href",c).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,a),c.head.appendChild(f);break;case"meta":if(v=$p("meta","content",c).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[ve]=t,oe(f),l=f}t.stateNode=l}else Jp(c,t.type,t.stateNode);else t.stateNode=Zp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Jp(c,t.type,t.stateNode):Zp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ph(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(n,t),cn(t),l&512&&(ce||a===null||Zn(a,a.return)),a!==null&&l&4&&Ph(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(n,t),cn(t),l&512&&(ce||a===null||Zn(a,a.return)),t.flags&32){c=t.stateNode;try{yn(c,"")}catch(k){Zt(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Ph(t,c,a!==null?a.memoizedProps:c)),l&1024&&(qh=!0);break;case 6:if(un(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(k){Zt(t,t.return,k)}}break;case 3:if(Cu=null,c=On,On=Ru(n.containerInfo),un(n,t),On=c,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ll(n.containerInfo)}catch(k){Zt(t,t.return,k)}qh&&(qh=!1,ap(t));break;case 4:l=On,On=Ru(t.stateNode.containerInfo),un(n,t),cn(t),On=l;break;case 12:un(n,t),cn(t);break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Kh=gn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hh(t,l)));break;case 22:c=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,P=wi,F=ce;if(wi=P||c,ce=F||R,un(n,t),ce=F,wi=P,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||R||wi||ce||ar(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,c)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){Zt(R,R.return,k)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(k){Zt(R,R.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Hh(t,a))));break;case 19:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hh(t,l)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Zg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=Bh(t);fu(t,f,c);break;case 5:var v=a.stateNode;a.flags&32&&(yn(v,""),a.flags&=-33);var E=Bh(t);fu(t,E,v);break;case 3:case 4:var R=a.stateNode.containerInfo,P=Bh(t);kh(t,P,R);break;default:throw Error(s(161))}}catch(F){Zt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ap(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ap(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Zi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Wg(t,n.alternate,n),n=n.sibling}function ar(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Xi(4,n,n.return),ar(n);break;case 1:Zn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Kg(n,n.return,a),ar(n);break;case 27:Dl(n.stateNode);case 26:case 5:Zn(n,n.return),ar(n);break;case 22:n.memoizedState===null&&ar(n);break;case 30:ar(n);break;default:ar(n)}t=t.sibling}}function $i(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:$i(c,f,a),_l(4,f);break;case 1:if($i(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Zt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Mm(R[c],E)}catch(P){Zt(l,l.return,P)}}a&&v&64&&Yg(f),vl(f,f.return);break;case 27:$g(f);case 26:case 5:$i(c,f,a),a&&l===null&&v&4&&Xg(f),vl(f,f.return);break;case 12:$i(c,f,a);break;case 13:$i(c,f,a),a&&v&4&&np(c,f);break;case 22:f.memoizedState===null&&$i(c,f,a),vl(f,f.return);break;case 30:break;default:$i(c,f,a)}n=n.sibling}}function jh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&al(a))}function Gh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t))}function $n(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)rp(t,n,a,l),n=n.sibling}function rp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,a,l),c&2048&&_l(9,n);break;case 1:$n(t,n,a,l);break;case 3:$n(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t)));break;case 12:if(c&2048){$n(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Zt(n,n.return,R)}}else $n(t,n,a,l);break;case 13:$n(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?$n(t,n,a,l):El(t,n):f._visibility&2?$n(t,n,a,l):(f._visibility|=2,Zr(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&jh(v,n);break;case 24:$n(t,n,a,l),c&2048&&Gh(n.alternate,n);break;default:$n(t,n,a,l)}}function Zr(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,E=a,R=l,P=v.flags;switch(v.tag){case 0:case 11:case 15:Zr(f,v,E,R,c),_l(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&2?Zr(f,v,E,R,c):El(f,v):(F._visibility|=2,Zr(f,v,E,R,c)),c&&P&2048&&jh(v.alternate,v);break;case 24:Zr(f,v,E,R,c),c&&P&2048&&Gh(v.alternate,v);break;default:Zr(f,v,E,R,c)}n=n.sibling}}function El(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:El(a,l),c&2048&&jh(l.alternate,l);break;case 24:El(a,l),c&2048&&Gh(l.alternate,l);break;default:El(a,l)}n=n.sibling}}var Tl=8192;function $r(t){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)sp(t),t=t.sibling}function sp(t){switch(t.tag){case 26:$r(t),t.flags&Tl&&t.memoizedState!==null&&iT(On,t.memoizedState,t.memoizedProps);break;case 5:$r(t);break;case 3:case 4:var n=On;On=Ru(t.stateNode.containerInfo),$r(t),On=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Tl,Tl=16777216,$r(t),Tl=n):$r(t));break;default:$r(t)}}function lp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Al(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,up(l,t)}lp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)op(t),t=t.sibling}function op(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&Xi(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,du(t)):Al(t);break;default:Al(t)}}function du(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,up(l,t)}lp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Xi(8,n,n.return),du(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,du(n));break;default:du(n)}t=t.sibling}}function up(t,n){for(;Ie!==null;){var a=Ie;switch(a.tag){case 0:case 11:case 15:Xi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ie=l;else t:for(a=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(tp(l),l===a){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var vE={getCacheForType:function(t){var n=je(Ae),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},EE=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Vt=null,xt=0,Qt=0,hn=null,Ji=!1,Jr=!1,Qh=!1,Di=0,le=0,Wi=0,rr=0,Fh=0,wn=0,Wr=0,Sl=null,en=null,Yh=!1,Kh=0,mu=1/0,gu=null,ta=null,ze=0,ea=null,ts=null,es=0,Xh=0,Zh=null,cp=null,bl=0,$h=null;function fn(){if((Gt&2)!==0&&xt!==0)return xt&-xt;if(Q.T!==null){var t=Hr;return t!==0?t:rf()}return Li()}function hp(){wn===0&&(wn=(xt&536870912)===0||kt?Ms():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),wn}function dn(t,n,a){(t===Jt&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(ns(t,0),na(t,xt,wn,!1)),si(t,a),((Gt&2)===0||t!==Jt)&&(t===Jt&&((Gt&2)===0&&(rr|=a),le===4&&na(t,xt,wn,!1)),Jn(t))}function fp(t,n,a){if((Gt&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Na(t,n),c=l?SE(t,n):tf(t,n,!0),f=l;do{if(c===0){Jr&&!l&&na(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!TE(a)){c=tf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=t;c=Sl;var R=E.current.memoizedState.isDehydrated;if(R&&(ns(E,v).flags|=256),v=tf(E,v,!1),v!==2){if(Qh&&!R){E.errorRecoveryDisabledLanes|=f,rr|=f,c=4;break t}f=en,en=c,f!==null&&(en===null?en=f:en.push.apply(en,f))}c=v}if(f=!1,c!==2)continue}}if(c===1){ns(t,0),na(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:na(l,n,wn,!Ji);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Kh+300-gn(),10<c)){if(na(l,n,wn,!Ji),vr(l,0,!0)!==0)break t;l.timeoutHandle=qp(dp.bind(null,l,a,en,gu,Yh,n,wn,rr,Wr,Ji,f,2,-0,0),c);break t}dp(l,a,en,gu,Yh,n,wn,rr,Wr,Ji,f,0,-0,0)}}break}while(!0);Jn(t)}function dp(t,n,a,l,c,f,v,E,R,P,F,K,B,k){if(t.timeoutHandle=-1,K=n.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(Nl={stylesheets:null,count:0,unsuspend:nT},sp(n),K=aT(),K!==null)){t.cancelPendingCommit=K(Ep.bind(null,t,n,f,a,l,c,v,E,R,F,1,B,k)),na(t,f,v,!P);return}Ep(t,n,f,a,l,c,v,E,R)}function TE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function na(t,n,a,l){n&=~Fh,n&=~rr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-He(c),v=1<<f;l[f]=-1,c&=~v}a!==0&&zn(t,a,n)}function pu(){return(Gt&6)===0?(Rl(0),!1):!0}function Jh(){if(Vt!==null){if(Qt===0)var t=Vt.return;else t=Vt,Ei=Wa=null,gh(t),Kr=null,gl=0,t=Vt;for(;t!==null;)Fg(t.alternate,t),t=t.return;Vt=null}}function ns(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,BE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Jh(),Jt=t,Vt=a=yi(t.current,null),xt=n,Qt=0,hn=null,Ji=!1,Jr=Na(t,n),Qh=!1,Wr=wn=Fh=rr=Wi=le=0,en=Sl=null,Yh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-He(l),f=1<<c;n|=t[c],l&=~f}return Di=n,Po(),a}function mp(t,n){bt=null,Q.H=iu,n===sl||n===Yo?(n=Nm(),Qt=3):n===Dm?(n=Nm(),Qt=4):Qt=n===Og?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,Vt===null&&(le=1,ou(t,Tn(n,t.current)))}function gp(){var t=Q.H;return Q.H=iu,t===null?iu:t}function pp(){var t=Q.A;return Q.A=vE,t}function Wh(){le=4,Ji||(xt&4194048)!==xt&&Rn.current!==null||(Jr=!0),(Wi&134217727)===0&&(rr&134217727)===0||Jt===null||na(Jt,xt,wn,!1)}function tf(t,n,a){var l=Gt;Gt|=2;var c=gp(),f=pp();(Jt!==t||xt!==n)&&(gu=null,ns(t,n)),n=!1;var v=le;t:do try{if(Qt!==0&&Vt!==null){var E=Vt,R=hn;switch(Qt){case 8:Jh(),v=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var P=Qt;if(Qt=0,hn=null,is(t,E,R,P),a&&Jr){v=0;break t}break;default:P=Qt,Qt=0,hn=null,is(t,E,R,P)}}AE(),v=le;break}catch(F){mp(t,F)}while(!0);return n&&t.shellSuspendCounter++,Ei=Wa=null,Gt=l,Q.H=c,Q.A=f,Vt===null&&(Jt=null,xt=0,Po()),v}function AE(){for(;Vt!==null;)yp(Vt)}function SE(t,n){var a=Gt;Gt|=2;var l=gp(),c=pp();Jt!==t||xt!==n?(gu=null,mu=gn()+500,ns(t,n)):Jr=Na(t,n);t:do try{if(Qt!==0&&Vt!==null){n=Vt;var f=hn;e:switch(Qt){case 1:Qt=0,hn=null,is(t,n,f,1);break;case 2:case 9:if(Vm(f)){Qt=0,hn=null,_p(n);break}n=function(){Qt!==2&&Qt!==9||Jt!==t||(Qt=7),Jn(t)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Vm(f)?(Qt=0,hn=null,_p(n)):(Qt=0,hn=null,is(t,n,f,7));break;case 5:var v=null;switch(Vt.tag){case 26:v=Vt.memoizedState;case 5:case 27:var E=Vt;if(!v||Wp(v)){Qt=0,hn=null;var R=E.sibling;if(R!==null)Vt=R;else{var P=E.return;P!==null?(Vt=P,yu(P)):Vt=null}break e}}Qt=0,hn=null,is(t,n,f,5);break;case 6:Qt=0,hn=null,is(t,n,f,6);break;case 8:Jh(),le=6;break t;default:throw Error(s(462))}}bE();break}catch(F){mp(t,F)}while(!0);return Ei=Wa=null,Q.H=l,Q.A=c,Gt=a,Vt!==null?0:(Jt=null,xt=0,Po(),le)}function bE(){for(;Vt!==null&&!Vs();)yp(Vt)}function yp(t){var n=Gg(t.alternate,t,Di);t.memoizedProps=t.pendingProps,n===null?yu(t):Vt=n}function _p(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Pg(a,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Pg(a,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:gh(n);default:Fg(a,n),n=Vt=vm(n,Di),n=Gg(a,n,Di)}t.memoizedProps=t.pendingProps,n===null?yu(t):Vt=n}function is(t,n,a,l){Ei=Wa=null,gh(n),Kr=null,gl=0;var c=n.return;try{if(dE(t,c,n,a,xt)){le=1,ou(t,Tn(a,t.current)),Vt=null;return}}catch(f){if(c!==null)throw Vt=c,f;le=1,ou(t,Tn(a,t.current)),Vt=null;return}n.flags&32768?(kt||l===1?t=!0:Jr||(xt&536870912)!==0?t=!1:(Ji=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),vp(n,t)):yu(n)}function yu(t){var n=t;do{if((n.flags&32768)!==0){vp(n,Ji);return}t=n.return;var a=gE(n.alternate,n,Di);if(a!==null){Vt=a;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);le===0&&(le=5)}function vp(t,n){do{var a=pE(t.alternate,t);if(a!==null){a.flags&=32767,Vt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=a}while(t!==null);le=6,Vt=null}function Ep(t,n,a,l,c,f,v,E,R){t.cancelPendingCommit=null;do _u();while(ze!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Gc,Us(t,a,f,v,E,R),t===Jt&&(Vt=Jt=null,xt=0),ts=n,ea=t,es=a,Xh=f,Zh=c,cp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,DE(Ca,function(){return Rp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,c=et.p,et.p=2,v=Gt,Gt|=4;try{yE(t,n,a)}finally{Gt=v,et.p=c,Q.T=l}}ze=1,Tp(),Ap(),Sp()}}function Tp(){if(ze===1){ze=0;var t=ea,n=ts,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=et.p;et.p=2;var c=Gt;Gt|=4;try{ip(n,t);var f=df,v=um(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&om(E.ownerDocument.documentElement,E)){if(R!==null&&Bc(E)){var P=R.start,F=R.end;if(F===void 0&&(F=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(F,E.value.length);else{var K=E.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var k=B.getSelection(),_t=E.textContent.length,gt=Math.min(R.start,_t),Xt=R.end===void 0?gt:Math.min(R.end,_t);!k.extend&&gt>Xt&&(v=Xt,Xt=gt,gt=v);var x=lm(E,gt),I=lm(E,Xt);if(x&&I&&(k.rangeCount!==1||k.anchorNode!==x.node||k.anchorOffset!==x.offset||k.focusNode!==I.node||k.focusOffset!==I.offset)){var z=K.createRange();z.setStart(x.node,x.offset),k.removeAllRanges(),gt>Xt?(k.addRange(z),k.extend(I.node,I.offset)):(z.setEnd(I.node,I.offset),k.addRange(z))}}}}for(K=[],k=E;k=k.parentNode;)k.nodeType===1&&K.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Y=K[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Iu=!!ff,df=ff=null}finally{Gt=c,et.p=l,Q.T=a}}t.current=n,ze=2}}function Ap(){if(ze===2){ze=0;var t=ea,n=ts,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=et.p;et.p=2;var c=Gt;Gt|=4;try{Wg(t,n.alternate,n)}finally{Gt=c,et.p=l,Q.T=a}}ze=3}}function Sp(){if(ze===4||ze===3){ze=0,fo();var t=ea,n=ts,a=es,l=cp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,ts=ea=null,bp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ta=null),Er(a),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Q.T,c=et.p,et.p=2,Q.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var E=l[v];f(E.value,{componentStack:E.stack})}}finally{Q.T=n,et.p=c}}(es&3)!==0&&_u(),Jn(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===$h?bl++:(bl=0,$h=t):bl=0,Rl(0)}}function bp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,al(n)))}function _u(t){return Tp(),Ap(),Sp(),Rp()}function Rp(){if(ze!==5)return!1;var t=ea,n=Xh;Xh=0;var a=Er(es),l=Q.T,c=et.p;try{et.p=32>a?32:a,Q.T=null,a=Zh,Zh=null;var f=ea,v=es;if(ze=0,ts=ea=null,es=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,op(f.current),rp(f,f.current,v,a),Gt=E,Rl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(re,f)}catch{}return!0}finally{et.p=c,Q.T=l,bp(t,n)}}function wp(t,n,a){n=Tn(a,n),n=Vh(t.stateNode,n,2),t=Qi(t,n,2),t!==null&&(si(t,2),Jn(t))}function Zt(t,n,a){if(t.tag===3)wp(t,t,a);else for(;n!==null;){if(n.tag===3){wp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ta===null||!ta.has(l))){t=Tn(a,t),a=Ig(2),l=Qi(n,a,2),l!==null&&(Ng(a,l,n,t),si(l,2),Jn(l));break}}n=n.return}}function ef(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new EE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Qh=!0,c.add(a),t=RE.bind(null,t,n,a),n.then(t,t))}function RE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(xt&a)===a&&(le===4||le===3&&(xt&62914560)===xt&&300>gn()-Kh?(Gt&2)===0&&ns(t,0):Fh|=a,Wr===xt&&(Wr=0)),Jn(t)}function Cp(t,n){n===0&&(n=xs()),t=Pr(t,n),t!==null&&(si(t,n),Jn(t))}function wE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Cp(t,a)}function CE(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Cp(t,a)}function DE(t,n){return Ra(t,n)}var vu=null,as=null,nf=!1,Eu=!1,af=!1,sr=0;function Jn(t){t!==as&&t.next===null&&(as===null?vu=as=t:as=as.next=t),Eu=!0,nf||(nf=!0,IE())}function Rl(t,n){if(!af&&Eu){af=!0;do for(var a=!1,l=vu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var v=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-He(42|t)+1)-1,f&=c&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Np(l,f))}else f=xt,f=vr(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Na(l,f)||(a=!0,Np(l,f));l=l.next}while(a);af=!1}}function VE(){Dp()}function Dp(){Eu=nf=!1;var t=0;sr!==0&&(PE()&&(t=sr),sr=0);for(var n=gn(),a=null,l=vu;l!==null;){var c=l.next,f=Vp(l,n);f===0?(l.next=null,a===null?vu=c:a.next=c,c===null&&(as=a)):(a=l,(t!==0||(f&3)!==0)&&(Eu=!0)),l=c}Rl(t)}function Vp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-He(f),E=1<<v,R=c[v];R===-1?((E&a)===0||(E&l)!==0)&&(c[v]=Os(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,a=xt,a=vr(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&wa(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Na(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&wa(l),Er(a)){case 2:case 8:a=yr;break;case 32:a=Ca;break;case 268435456:a=_r;break;default:a=Ca}return l=Ip.bind(null,t),a=Ra(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&wa(l),t.callbackPriority=2,t.callbackNode=null,2}function Ip(t,n){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(_u()&&t.callbackNode!==a)return null;var l=xt;return l=vr(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(fp(t,l,n),Vp(t,gn()),t.callbackNode!=null&&t.callbackNode===a?Ip.bind(null,t):null)}function Np(t,n){if(_u())return null;fp(t,n,!0)}function IE(){kE(function(){(Gt&6)!==0?Ra(Is,VE):Dp()})}function rf(){return sr===0&&(sr=Ms()),sr}function Op(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wr(""+t)}function Mp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function NE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Op((c[fe]||null).action),v=l.submitter;v&&(n=(n=v[fe]||null)?Op(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new Cr("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(sr!==0){var R=v?Mp(c,v):new FormData(c);bh(a,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=v?Mp(c,v):new FormData(c),bh(a,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var sf=0;sf<jc.length;sf++){var lf=jc[sf],OE=lf.toLowerCase(),ME=lf[0].toUpperCase()+lf.slice(1);Nn(OE,"on"+ME)}Nn(fm,"onAnimationEnd"),Nn(dm,"onAnimationIteration"),Nn(mm,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(Z0,"onTransitionRun"),Nn($0,"onTransitionStart"),Nn(J0,"onTransitionCancel"),Nn(gm,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function xp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(F){lu(F)}c.currentTarget=null,f=R}else for(v=0;v<l.length;v++){if(E=l[v],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(F){lu(F)}c.currentTarget=null,f=R}}}}function It(t,n){var a=n[zs];a===void 0&&(a=n[zs]=new Set);var l=t+"__bubble";a.has(l)||(Up(n,t,2,!1),a.add(l))}function of(t,n,a){var l=0;n&&(l|=4),Up(a,t,l,n)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function uf(t){if(!t[Tu]){t[Tu]=!0,Ps.forEach(function(a){a!=="selectionchange"&&(xE.has(a)||of(a,!1,t),of(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Tu]||(n[Tu]=!0,of("selectionchange",!1,n))}}function Up(t,n,a,l){switch(ry(n)){case 2:var c=lT;break;case 8:c=oT;break;default:c=Sf}a=c.bind(null,n,a,t),c=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function cf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===c)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;E!==null;){if(v=li(E),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=f=v;continue t}E=E.parentNode}}l=l.return}So(function(){var P=f,F=_n(a),K=[];t:{var B=pm.get(t);if(B!==void 0){var k=Cr,_t=t;switch(t){case"keypress":if(jn(a)===0)break t;case"keydown":case"keyup":k=Mr;break;case"focusin":_t="focus",k=Ir;break;case"focusout":_t="blur",k=Ir;break;case"beforeblur":case"afterblur":k=Ir;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=No;break;case fm:case dm:case mm:k=Nr;break;case gm:k=Mo;break;case"scroll":case"scrollend":k=bo;break;case"wheel":k=xr;break;case"copy":case"cut":case"paste":k=Or;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Zs;break;case"toggle":case"beforetoggle":k=Uo}var gt=(n&4)!==0,Xt=!gt&&(t==="scroll"||t==="scrollend"),x=gt?B!==null?B+"Capture":null:B;gt=[];for(var I=P,z;I!==null;){var Y=I;if(z=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||z===null||x===null||(Y=Ba(I,x),Y!=null&&gt.push(Cl(I,Y,z))),Xt)break;I=I.return}0<gt.length&&(B=new k(B,_t,null,a,F),K.push({event:B,listeners:gt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&a!==hi&&(_t=a.relatedTarget||a.fromElement)&&(li(_t)||_t[pn]))break t;if((k||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,k?(_t=a.relatedTarget||a.toElement,k=P,_t=_t?li(_t):null,_t!==null&&(Xt=h(_t),gt=_t.tag,_t!==Xt||gt!==5&&gt!==27&&gt!==6)&&(_t=null)):(k=null,_t=P),k!==_t)){if(gt=En,Y="onMouseLeave",x="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(gt=Zs,Y="onPointerLeave",x="onPointerEnter",I="pointer"),Xt=k==null?B:Bn(k),z=_t==null?B:Bn(_t),B=new gt(Y,I+"leave",k,a,F),B.target=Xt,B.relatedTarget=z,Y=null,li(F)===P&&(gt=new gt(x,I+"enter",_t,a,F),gt.target=z,gt.relatedTarget=Xt,Y=gt),Xt=Y,k&&_t)e:{for(gt=k,x=_t,I=0,z=gt;z;z=rs(z))I++;for(z=0,Y=x;Y;Y=rs(Y))z++;for(;0<I-z;)gt=rs(gt),I--;for(;0<z-I;)x=rs(x),z--;for(;I--;){if(gt===x||x!==null&&gt===x.alternate)break e;gt=rs(gt),x=rs(x)}gt=null}else gt=null;k!==null&&Lp(K,B,k,gt,!1),_t!==null&&Xt!==null&&Lp(K,Xt,_t,gt,!0)}}t:{if(B=P?Bn(P):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var lt=em;else if(Te(B))if(nm)lt=Y0;else{lt=Q0;var Ct=G0}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&js(P.elementType)&&(lt=em):lt=F0;if(lt&&(lt=lt(t,P))){pi(K,lt,a,F);break t}Ct&&Ct(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&ki(B,"number",B.value)}switch(Ct=P?Bn(P):window,t){case"focusin":(Te(Ct)||Ct.contentEditable==="true")&&(Ur=Ct,kc=P,Ws=null);break;case"focusout":Ws=kc=Ur=null;break;case"mousedown":qc=!0;break;case"contextmenu":case"mouseup":case"dragend":qc=!1,cm(K,a,F);break;case"selectionchange":if(X0)break;case"keydown":case"keyup":cm(K,a,F)}var ut;if(Fn)t:{switch(t){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Ot?j(t,a)&&(pt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(pt="onCompositionStart");pt&&(y&&a.locale!=="ko"&&(Ot||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Ot&&(ut=Qs()):(Hn=F,qi="value"in Hn?Hn.value:Hn.textContent,Ot=!0)),Ct=Au(P,pt),0<Ct.length&&(pt=new Ks(pt,t,null,a,F),K.push({event:pt,listeners:Ct}),ut?pt.data=ut:(ut=tt(a),ut!==null&&(pt.data=ut)))),(ut=m?Ee(t,a):Mt(t,a))&&(pt=Au(P,"onBeforeInput"),0<pt.length&&(Ct=new Ks("onBeforeInput","beforeinput",null,a,F),K.push({event:Ct,listeners:pt}),Ct.data=ut)),NE(K,t,P,a,F)}xp(K,n)})}function Cl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Au(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ba(t,a),c!=null&&l.unshift(Cl(t,c,f)),c=Ba(t,n),c!=null&&l.push(Cl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function rs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Lp(t,n,a,l,c){for(var f=n._reactName,v=[];a!==null&&a!==l;){var E=a,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||P===null||(R=P,c?(P=Ba(a,f),P!=null&&v.unshift(Cl(a,P,R))):c||(P=Ba(a,f),P!=null&&v.push(Cl(a,P,R)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var UE=/\r\n?/g,LE=/\u0000|\uFFFD/g;function zp(t){return(typeof t=="string"?t:""+t).replace(UE,`
`).replace(LE,"")}function Pp(t,n){return n=zp(n),zp(t)===n}function Su(){}function Kt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":kn(t,"class",l);break;case"tabIndex":kn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(t,a,l);break;case"style":Hs(t,l,f);break;case"data":if(n!=="object"){kn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=wr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Kt(t,n,"name",c.name,c,null),Kt(t,n,"formEncType",c.formEncType,c,null),Kt(t,n,"formMethod",c.formMethod,c,null),Kt(t,n,"formTarget",c.formTarget,c,null)):(Kt(t,n,"encType",c.encType,c,null),Kt(t,n,"method",c.method,c,null),Kt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=wr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Su);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=wr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":It("beforetoggle",t),It("toggle",t),Bi(t,"popover",l);break;case"xlinkActuate":xe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Bi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mc.get(a)||a,Bi(t,a,l))}}function hf(t,n,a,l,c,f){switch(a){case"style":Hs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Su);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[fe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Bi(t,a,l)}}}function Pe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,f,v,a,null)}}c&&Kt(t,n,"srcSet",a.srcSet,a,null),l&&Kt(t,n,"src",a.src,a,null);return;case"input":It("invalid",t);var E=f=v=c=null,R=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":c=F;break;case"type":v=F;break;case"checked":R=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:Kt(t,n,l,F,a,null)}}La(t,f,E,R,P,v,c,!1),Rr(t);return;case"select":It("invalid",t),l=v=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Kt(t,n,c,E,a,null)}n=f,a=v,t.multiple=!!l,n!=null?ci(t,!!l,n,!1):a!=null&&ci(t,!!l,a,!0);return;case"textarea":It("invalid",t),f=c=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Kt(t,n,v,E,a,null)}za(t,l,c,f),Rr(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,R,l,a,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)It(wl[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,P,l,a,null)}return;default:if(js(n)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&hf(t,n,F,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Kt(t,n,E,l,a,null))}function zE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,v=null,E=null,R=null,P=null,F=null;for(k in a){var K=a[k];if(a.hasOwnProperty(k)&&K!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":R=K;default:l.hasOwnProperty(k)||Kt(t,n,k,null,l,K)}}for(var B in l){var k=l[B];if(K=a[B],l.hasOwnProperty(B)&&(k!=null||K!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":P=k;break;case"defaultChecked":F=k;break;case"value":v=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:k!==K&&Kt(t,n,B,k,l,K)}}sn(t,v,E,R,P,F,f,c);return;case"select":k=v=E=B=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":k=R;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=a[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==R&&Kt(t,n,c,f,l,R)}n=E,a=v,l=k,B!=null?ci(t,!!a,B,!1):!!l!=!!a&&(n!=null?ci(t,!!a,n,!0):ci(t,!!a,a?[]:"",!1));return;case"textarea":k=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,n,E,null,l,c)}for(v in l)if(c=l[v],f=a[v],l.hasOwnProperty(v)&&(c!=null||f!=null))switch(v){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Kt(t,n,v,c,l,f)}Ft(t,B,k);return;case"option":for(var _t in a)if(B=a[_t],a.hasOwnProperty(_t)&&B!=null&&!l.hasOwnProperty(_t))switch(_t){case"selected":t.selected=!1;break;default:Kt(t,n,_t,null,l,B)}for(R in l)if(B=l[R],k=a[R],l.hasOwnProperty(R)&&B!==k&&(B!=null||k!=null))switch(R){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Kt(t,n,R,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)B=a[gt],a.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt)&&Kt(t,n,gt,null,l,B);for(P in l)if(B=l[P],k=a[P],l.hasOwnProperty(P)&&B!==k&&(B!=null||k!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Kt(t,n,P,B,l,k)}return;default:if(js(n)){for(var Xt in a)B=a[Xt],a.hasOwnProperty(Xt)&&B!==void 0&&!l.hasOwnProperty(Xt)&&hf(t,n,Xt,void 0,l,B);for(F in l)B=l[F],k=a[F],!l.hasOwnProperty(F)||B===k||B===void 0&&k===void 0||hf(t,n,F,B,l,k);return}}for(var x in a)B=a[x],a.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Kt(t,n,x,null,l,B);for(K in l)B=l[K],k=a[K],!l.hasOwnProperty(K)||B===k||B==null&&k==null||Kt(t,n,K,B,l,k)}var ff=null,df=null;function bu(t){return t.nodeType===9?t:t.ownerDocument}function Bp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function mf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gf=null;function PE(){var t=window.event;return t&&t.type==="popstate"?t===gf?!1:(gf=t,!0):(gf=null,!1)}var qp=typeof setTimeout=="function"?setTimeout:void 0,BE=typeof clearTimeout=="function"?clearTimeout:void 0,Hp=typeof Promise=="function"?Promise:void 0,kE=typeof queueMicrotask=="function"?queueMicrotask:typeof Hp<"u"?function(t){return Hp.resolve(null).then(t).catch(qE)}:qp;function qE(t){setTimeout(function(){throw t})}function ia(t){return t==="head"}function jp(t,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Dl(v.documentElement),a&2&&Dl(v.body),a&4)for(a=v.head,Dl(a),v=a.firstChild;v;){var E=v.nextSibling,R=v.nodeName;v[Oa]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(c===0){t.removeChild(f),Ll(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Ll(n)}function pf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":pf(a),Pi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function HE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Oa])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function jE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Mn(t.nextSibling),t===null))return null;return t}function yf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function GE(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var _f=null;function Gp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Qp(t,n,a){switch(n=bu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Dl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Pi(t)}var Cn=new Map,Fp=new Set;function Ru(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Vi=et.d;et.d={f:QE,r:FE,D:YE,C:KE,L:XE,m:ZE,X:JE,S:$E,M:WE};function QE(){var t=Vi.f(),n=pu();return t||n}function FE(t){var n=Pn(t);n!==null&&n.tag===5&&n.type==="form"?fg(n):Vi.r(t)}var ss=typeof document>"u"?null:document;function Yp(t,n,a){var l=ss;if(l&&typeof n=="string"&&n){var c=de(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Fp.has(c)||(Fp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),oe(n),l.head.appendChild(n)))}}function YE(t){Vi.D(t),Yp("dns-prefetch",t,null)}function KE(t,n){Vi.C(t,n),Yp("preconnect",t,n)}function XE(t,n,a){Vi.L(t,n,a);var l=ss;if(l&&t&&n){var c='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+de(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+de(a.imageSizes)+'"]')):c+='[href="'+de(t)+'"]';var f=c;switch(n){case"style":f=ls(t);break;case"script":f=os(t)}Cn.has(f)||(t=T({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Cn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Vl(f))||n==="script"&&l.querySelector(Il(f))||(n=l.createElement("link"),Pe(n,"link",t),oe(n),l.head.appendChild(n)))}}function ZE(t,n){Vi.m(t,n);var a=ss;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+de(l)+'"][href="'+de(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=os(t)}if(!Cn.has(f)&&(t=T({rel:"modulepreload",href:t},n),Cn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(f)))return}l=a.createElement("link"),Pe(l,"link",t),oe(l),a.head.appendChild(l)}}}function $E(t,n,a){Vi.S(t,n,a);var l=ss;if(l&&t){var c=Ke(l).hoistableStyles,f=ls(t);n=n||"default";var v=c.get(f);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Vl(f)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Cn.get(f))&&vf(t,a);var R=v=l.createElement("link");oe(R),Pe(R,"link",t),R._p=new Promise(function(P,F){R.onload=P,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,wu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},c.set(f,v)}}}function JE(t,n){Vi.X(t,n);var a=ss;if(a&&t){var l=Ke(a).hoistableScripts,c=os(t),f=l.get(c);f||(f=a.querySelector(Il(c)),f||(t=T({src:t,async:!0},n),(n=Cn.get(c))&&Ef(t,n),f=a.createElement("script"),oe(f),Pe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function WE(t,n){Vi.M(t,n);var a=ss;if(a&&t){var l=Ke(a).hoistableScripts,c=os(t),f=l.get(c);f||(f=a.querySelector(Il(c)),f||(t=T({src:t,async:!0,type:"module"},n),(n=Cn.get(c))&&Ef(t,n),f=a.createElement("script"),oe(f),Pe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Kp(t,n,a,l){var c=(c=Et.current)?Ru(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ls(a.href),a=Ke(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ls(a.href);var f=Ke(c).hoistableStyles,v=f.get(t);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=c.querySelector(Vl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Cn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Cn.set(t,a),f||tT(c,t,a,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=os(a),a=Ke(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ls(t){return'href="'+de(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function Xp(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function tT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",a),oe(n),t.head.appendChild(n))}function os(t){return'[src="'+de(t)+'"]'}function Il(t){return"script[async]"+t}function Zp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+de(a.href)+'"]');if(l)return n.instance=l,oe(l),l;var c=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),oe(l),Pe(l,"style",c),wu(l,a.precedence,t),n.instance=l;case"stylesheet":c=ls(a.href);var f=t.querySelector(Vl(c));if(f)return n.state.loading|=4,n.instance=f,oe(f),f;l=Xp(a),(c=Cn.get(c))&&vf(l,c),f=(t.ownerDocument||t).createElement("link"),oe(f);var v=f;return v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),Pe(f,"link",l),n.state.loading|=4,wu(f,a.precedence,t),n.instance=f;case"script":return f=os(a.src),(c=t.querySelector(Il(f)))?(n.instance=c,oe(c),c):(l=a,(c=Cn.get(f))&&(l=T({},a),Ef(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),oe(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,wu(l,a.precedence,t));return n.instance}function wu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Cu=null;function $p(t,n,a){if(Cu===null){var l=new Map,c=Cu=new Map;c.set(a,l)}else c=Cu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Oa]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var E=l.get(v);E?E.push(f):l.set(v,[f])}}return l}function Jp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function eT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Wp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Nl=null;function nT(){}function iT(t,n,a){if(Nl===null)throw Error(s(475));var l=Nl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ls(a.href),f=t.querySelector(Vl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Du.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,oe(f);return}f=t.ownerDocument||t,a=Xp(a),(c=Cn.get(c))&&vf(a,c),f=f.createElement("link"),oe(f);var v=f;v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),Pe(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Du.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function aT(){if(Nl===null)throw Error(s(475));var t=Nl;return t.stylesheets&&t.count===0&&Tf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Tf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Du(){if(this.count--,this.count===0){if(this.stylesheets)Tf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vu=null;function Tf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vu=new Map,n.forEach(rT,t),Vu=null,Du.call(t))}function rT(t,n){if(!(n.state.loading&4)){var a=Vu.get(t);if(a)var l=a.get(null);else{a=new Map,Vu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var v=c[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}c=n.instance,v=c.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,c),a.set(v,c),this.count++,l=Du.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ol={$$typeof:ot,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function sT(t,n,a,l,c,f,v,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ty(t,n,a,l,c,f,v,E,R,P,F,K){return t=new sT(t,n,a,v,E,R,P,K),n=1,f===!0&&(n|=24),f=on(3,null,null,n),t.current=f,f.stateNode=t,n=eh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},rh(f),t}function ey(t){return t?(t=Br,t):Br}function ny(t,n,a,l,c,f){c=ey(c),l.context===null?l.context=c:l.pendingContext=c,l=Gi(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Qi(t,l,n),a!==null&&(dn(a,t,n),ol(a,t,n))}function iy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Af(t,n){iy(t,n),(t=t.alternate)&&iy(t,n)}function ay(t){if(t.tag===13){var n=Pr(t,67108864);n!==null&&dn(n,t,67108864),Af(t,67108864)}}var Iu=!0;function lT(t,n,a,l){var c=Q.T;Q.T=null;var f=et.p;try{et.p=2,Sf(t,n,a,l)}finally{et.p=f,Q.T=c}}function oT(t,n,a,l){var c=Q.T;Q.T=null;var f=et.p;try{et.p=8,Sf(t,n,a,l)}finally{et.p=f,Q.T=c}}function Sf(t,n,a,l){if(Iu){var c=bf(l);if(c===null)cf(t,n,l,Nu,a),sy(t,l);else if(cT(c,t,n,a,l))l.stopPropagation();else if(sy(t,l),n&4&&-1<uT.indexOf(t)){for(;c!==null;){var f=Pn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Dn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var R=1<<31-He(v);E.entanglements[1]|=R,v&=~R}Jn(f),(Gt&6)===0&&(mu=gn()+500,Rl(0))}}break;case 13:E=Pr(f,2),E!==null&&dn(E,f,2),pu(),Af(f,2)}if(f=bf(l),f===null&&cf(t,n,l,Nu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else cf(t,n,l,null,a)}}function bf(t){return t=_n(t),Rf(t)}var Nu=null;function Rf(t){if(Nu=null,t=li(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Nu=t,null}function ry(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cc()){case Is:return 2;case yr:return 8;case Ca:case Dc:return 32;case _r:return 268435456;default:return 32}default:return 32}}var wf=!1,aa=null,ra=null,sa=null,Ml=new Map,xl=new Map,la=[],uT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sy(t,n){switch(t){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":ra=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":Ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(n.pointerId)}}function Ul(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Pn(n),n!==null&&ay(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function cT(t,n,a,l,c){switch(n){case"focusin":return aa=Ul(aa,t,n,a,l,c),!0;case"dragenter":return ra=Ul(ra,t,n,a,l,c),!0;case"mouseover":return sa=Ul(sa,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Ml.set(f,Ul(Ml.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,xl.set(f,Ul(xl.get(f)||null,t,n,a,l,c)),!0}return!1}function ly(t){var n=li(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,po(t.priority,function(){if(a.tag===13){var l=fn();l=Ui(l);var c=Pr(a,l);c!==null&&dn(c,a,l),Af(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ou(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=bf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);hi=l,a.target.dispatchEvent(l),hi=null}else return n=Pn(a),n!==null&&ay(n),t.blockedOn=a,!1;n.shift()}return!0}function oy(t,n,a){Ou(t)&&a.delete(n)}function hT(){wf=!1,aa!==null&&Ou(aa)&&(aa=null),ra!==null&&Ou(ra)&&(ra=null),sa!==null&&Ou(sa)&&(sa=null),Ml.forEach(oy),xl.forEach(oy)}function Mu(t,n){t.blockedOn===n&&(t.blockedOn=null,wf||(wf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hT)))}var xu=null;function uy(t){xu!==t&&(xu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){xu===t&&(xu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Rf(l||a)===null)continue;break}var f=Pn(a);f!==null&&(t.splice(n,3),n-=3,bh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Ll(t){function n(R){return Mu(R,t)}aa!==null&&Mu(aa,t),ra!==null&&Mu(ra,t),sa!==null&&Mu(sa,t),Ml.forEach(n),xl.forEach(n);for(var a=0;a<la.length;a++){var l=la[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<la.length&&(a=la[0],a.blockedOn===null);)ly(a),a.blockedOn===null&&la.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],v=c[fe]||null;if(typeof f=="function")v||uy(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,v=f[fe]||null)E=v.formAction;else if(Rf(c)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),uy(a)}}}function Cf(t){this._internalRoot=t}Uu.prototype.render=Cf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=fn();ny(a,l,t,n,null,null)},Uu.prototype.unmount=Cf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ny(t.current,2,null,t,null,null),pu(),n[pn]=null}};function Uu(t){this._internalRoot=t}Uu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Li();t={blockedOn:null,target:t,priority:n};for(var a=0;a<la.length&&n!==0&&n<la[a].priority;a++);la.splice(a,0,t),a===0&&ly(t)}};var cy=e.version;if(cy!=="19.1.0")throw Error(s(527,cy,"19.1.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var fT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{re=Lu.inject(fT),jt=Lu}catch{}}return zl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=wg,f=Cg,v=Dg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=ty(t,1,!1,null,null,a,l,c,f,v,E,null),t[pn]=n.current,uf(t),new Cf(n)},zl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",f=wg,v=Cg,E=Dg,R=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),n=ty(t,1,!0,n,a??null,l,c,f,v,E,R,P),n.context=ey(null),a=n.current,l=fn(),l=Ui(l),c=Gi(l),c.callback=null,Qi(a,c,l),a=l,n.current.lanes=a,si(n,a),Jn(n),t[pn]=n.current,uf(t),new Uu(n)},zl.version="19.1.0",zl}var _y;function TT(){if(_y)return Vf.exports;_y=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vf.exports=ET(),Vf.exports}var AT=TT();const ST=L_(AT);z_();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yl(){return Yl=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])}return r},Yl.apply(this,arguments)}var ua;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(ua||(ua={}));const vy="popstate";function bT(r){r===void 0&&(r={});function e(o,h){let{pathname:d="/",search:g="",hash:p=""}=dr(o.location.hash.substr(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Hf("",{pathname:d,search:g,hash:p},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function i(o,h){let d=o.document.querySelector("base"),g="";if(d&&d.getAttribute("href")){let p=o.location.href,_=p.indexOf("#");g=_===-1?p:p.slice(0,_)}return g+"#"+(typeof h=="string"?h:P_(h))}function s(o,h){md(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(h)+")")}return wT(e,i,s,r)}function ye(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function md(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RT(){return Math.random().toString(36).substr(2,8)}function Ey(r,e){return{usr:r.state,key:r.key,idx:e}}function Hf(r,e,i,s){return i===void 0&&(i=null),Yl({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?dr(e):e,{state:i,key:e&&e.key||s||RT()})}function P_(r){let{pathname:e="/",search:i="",hash:s=""}=r;return i&&i!=="?"&&(e+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function dr(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substr(i),r=r.substr(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substr(s),r=r.substr(0,s)),r&&(e.pathname=r)}return e}function wT(r,e,i,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:h=!1}=s,d=o.history,g=ua.Pop,p=null,_=T();_==null&&(_=0,d.replaceState(Yl({},d.state,{idx:_}),""));function T(){return(d.state||{idx:null}).idx}function S(){g=ua.Pop;let H=T(),st=H==null?null:H-_;_=H,p&&p({action:g,location:Z.location,delta:st})}function w(H,st){g=ua.Push;let rt=Hf(Z.location,H,st);i&&i(rt,H),_=T()+1;let ot=Ey(rt,_),Dt=Z.createHref(rt);try{d.pushState(ot,"",Dt)}catch(vt){if(vt instanceof DOMException&&vt.name==="DataCloneError")throw vt;o.location.assign(Dt)}h&&p&&p({action:g,location:Z.location,delta:1})}function q(H,st){g=ua.Replace;let rt=Hf(Z.location,H,st);i&&i(rt,H),_=T();let ot=Ey(rt,_),Dt=Z.createHref(rt);d.replaceState(ot,"",Dt),h&&p&&p({action:g,location:Z.location,delta:0})}function G(H){let st=o.location.origin!=="null"?o.location.origin:o.location.href,rt=typeof H=="string"?H:P_(H);return rt=rt.replace(/ $/,"%20"),ye(st,"No window.location.(origin|href) available to create URL for href: "+rt),new URL(rt,st)}let Z={get action(){return g},get location(){return r(o,d)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(vy,S),p=H,()=>{o.removeEventListener(vy,S),p=null}},createHref(H){return e(o,H)},createURL:G,encodeLocation(H){let st=G(H);return{pathname:st.pathname,search:st.search,hash:st.hash}},push:w,replace:q,go(H){return d.go(H)}};return Z}var Ty;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Ty||(Ty={}));function CT(r,e,i){return i===void 0&&(i="/"),DT(r,e,i)}function DT(r,e,i,s){let o=typeof e=="string"?dr(e):e,h=q_(o.pathname||"/",i);if(h==null)return null;let d=B_(r);VT(d);let g=null;for(let p=0;g==null&&p<d.length;++p){let _=qT(h);g=PT(d[p],_)}return g}function B_(r,e,i,s){e===void 0&&(e=[]),i===void 0&&(i=[]),s===void 0&&(s="");let o=(h,d,g)=>{let p={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};p.relativePath.startsWith("/")&&(ye(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let _=ur([s,p.relativePath]),T=i.concat(p);h.children&&h.children.length>0&&(ye(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),B_(h.children,e,T,_)),!(h.path==null&&!h.index)&&e.push({path:_,score:LT(_,h.index),routesMeta:T})};return r.forEach((h,d)=>{var g;if(h.path===""||!((g=h.path)!=null&&g.includes("?")))o(h,d);else for(let p of k_(h.path))o(h,d,p)}),e}function k_(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),h=i.replace(/\?$/,"");if(s.length===0)return o?[h,""]:[h];let d=k_(s.join("/")),g=[];return g.push(...d.map(p=>p===""?h:[h,p].join("/"))),o&&g.push(...d),g.map(p=>r.startsWith("/")&&p===""?"/":p)}function VT(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:zT(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}const IT=/^:[\w-]+$/,NT=3,OT=2,MT=1,xT=10,UT=-2,Ay=r=>r==="*";function LT(r,e){let i=r.split("/"),s=i.length;return i.some(Ay)&&(s+=UT),e&&(s+=OT),i.filter(o=>!Ay(o)).reduce((o,h)=>o+(IT.test(h)?NT:h===""?MT:xT),s)}function zT(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function PT(r,e,i){let{routesMeta:s}=r,o={},h="/",d=[];for(let g=0;g<s.length;++g){let p=s[g],_=g===s.length-1,T=h==="/"?e:e.slice(h.length)||"/",S=BT({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},T),w=p.route;if(!S)return null;Object.assign(o,S.params),d.push({params:o,pathname:ur([h,S.pathname]),pathnameBase:QT(ur([h,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(h=ur([h,S.pathnameBase]))}return d}function BT(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=kT(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let h=o[0],d=h.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((_,T,S)=>{let{paramName:w,isOptional:q}=T;if(w==="*"){let Z=g[S]||"";d=h.slice(0,h.length-Z.length).replace(/(.)\/+$/,"$1")}const G=g[S];return q&&!G?_[w]=void 0:_[w]=(G||"").replace(/%2F/g,"/"),_},{}),pathname:h,pathnameBase:d,pattern:r}}function kT(r,e,i){e===void 0&&(e=!1),i===void 0&&(i=!0),md(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,p)=>(s.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function qT(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return md(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function q_(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function HT(r,e){e===void 0&&(e="/");let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?dr(r):r;return{pathname:i?i.startsWith("/")?i:jT(i,e):e,search:FT(s),hash:YT(o)}}function jT(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Mf(r,e,i,s){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GT(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function H_(r,e){let i=GT(r);return e?i.map((s,o)=>o===i.length-1?s.pathname:s.pathnameBase):i.map(s=>s.pathnameBase)}function j_(r,e,i,s){s===void 0&&(s=!1);let o;typeof r=="string"?o=dr(r):(o=Yl({},r),ye(!o.pathname||!o.pathname.includes("?"),Mf("?","pathname","search",o)),ye(!o.pathname||!o.pathname.includes("#"),Mf("#","pathname","hash",o)),ye(!o.search||!o.search.includes("#"),Mf("#","search","hash",o)));let h=r===""||o.pathname==="",d=h?"/":o.pathname,g;if(d==null)g=i;else{let S=e.length-1;if(!s&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}g=S>=0?e[S]:"/"}let p=HT(o,g),_=d&&d!=="/"&&d.endsWith("/"),T=(h||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(_||T)&&(p.pathname+="/"),p}const ur=r=>r.join("/").replace(/\/\/+/g,"/"),QT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),FT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,YT=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function KT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const G_=["post","put","patch","delete"];new Set(G_);const XT=["get",...G_];new Set(XT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kl(){return Kl=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])}return r},Kl.apply(this,arguments)}const gd=it.createContext(null),ZT=it.createContext(null),ao=it.createContext(null),oc=it.createContext(null),mr=it.createContext({outlet:null,matches:[],isDataRoute:!1}),Q_=it.createContext(null);function ro(){return it.useContext(oc)!=null}function pd(){return ro()||ye(!1),it.useContext(oc).location}function F_(r){it.useContext(ao).static||it.useLayoutEffect(r)}function yd(){let{isDataRoute:r}=it.useContext(mr);return r?u1():$T()}function $T(){ro()||ye(!1);let r=it.useContext(gd),{basename:e,future:i,navigator:s}=it.useContext(ao),{matches:o}=it.useContext(mr),{pathname:h}=pd(),d=JSON.stringify(H_(o,i.v7_relativeSplatPath)),g=it.useRef(!1);return F_(()=>{g.current=!0}),it.useCallback(function(_,T){if(T===void 0&&(T={}),!g.current)return;if(typeof _=="number"){s.go(_);return}let S=j_(_,JSON.parse(d),h,T.relative==="path");r==null&&e!=="/"&&(S.pathname=S.pathname==="/"?e:ur([e,S.pathname])),(T.replace?s.replace:s.push)(S,T.state,T)},[e,s,d,h,r])}function JT(r,e){return WT(r,e)}function WT(r,e,i,s){ro()||ye(!1);let{navigator:o}=it.useContext(ao),{matches:h}=it.useContext(mr),d=h[h.length-1],g=d?d.params:{};d&&d.pathname;let p=d?d.pathnameBase:"/";d&&d.route;let _=pd(),T;if(e){var S;let H=typeof e=="string"?dr(e):e;p==="/"||(S=H.pathname)!=null&&S.startsWith(p)||ye(!1),T=H}else T=_;let w=T.pathname||"/",q=w;if(p!=="/"){let H=p.replace(/^\//,"").split("/");q="/"+w.replace(/^\//,"").split("/").slice(H.length).join("/")}let G=CT(r,{pathname:q}),Z=a1(G&&G.map(H=>Object.assign({},H,{params:Object.assign({},g,H.params),pathname:ur([p,o.encodeLocation?o.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?p:ur([p,o.encodeLocation?o.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),h,i,s);return e&&Z?it.createElement(oc.Provider,{value:{location:Kl({pathname:"/",search:"",hash:"",state:null,key:"default"},T),navigationType:ua.Pop}},Z):Z}function t1(){let r=o1(),e=KT(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return it.createElement(it.Fragment,null,it.createElement("h2",null,"Unexpected Application Error!"),it.createElement("h3",{style:{fontStyle:"italic"}},e),i?it.createElement("pre",{style:o},i):null,null)}const e1=it.createElement(t1,null);class n1 extends it.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,i){return i.location!==e.location||i.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:i.error,location:i.location,revalidation:e.revalidation||i.revalidation}}componentDidCatch(e,i){console.error("React Router caught the following error during render",e,i)}render(){return this.state.error!==void 0?it.createElement(mr.Provider,{value:this.props.routeContext},it.createElement(Q_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function i1(r){let{routeContext:e,match:i,children:s}=r,o=it.useContext(gd);return o&&o.static&&o.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=i.route.id),it.createElement(mr.Provider,{value:e},s)}function a1(r,e,i,s){var o;if(e===void 0&&(e=[]),i===void 0&&(i=null),s===void 0&&(s=null),r==null){var h;if(!i)return null;if(i.errors)r=i.matches;else if((h=s)!=null&&h.v7_partialHydration&&e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let d=r,g=(o=i)==null?void 0:o.errors;if(g!=null){let T=d.findIndex(S=>S.route.id&&(g==null?void 0:g[S.route.id])!==void 0);T>=0||ye(!1),d=d.slice(0,Math.min(d.length,T+1))}let p=!1,_=-1;if(i&&s&&s.v7_partialHydration)for(let T=0;T<d.length;T++){let S=d[T];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(_=T),S.route.id){let{loaderData:w,errors:q}=i,G=S.route.loader&&w[S.route.id]===void 0&&(!q||q[S.route.id]===void 0);if(S.route.lazy||G){p=!0,_>=0?d=d.slice(0,_+1):d=[d[0]];break}}}return d.reduceRight((T,S,w)=>{let q,G=!1,Z=null,H=null;i&&(q=g&&S.route.id?g[S.route.id]:void 0,Z=S.route.errorElement||e1,p&&(_<0&&w===0?(c1("route-fallback"),G=!0,H=null):_===w&&(G=!0,H=S.route.hydrateFallbackElement||null)));let st=e.concat(d.slice(0,w+1)),rt=()=>{let ot;return q?ot=Z:G?ot=H:S.route.Component?ot=it.createElement(S.route.Component,null):S.route.element?ot=S.route.element:ot=T,it.createElement(i1,{match:S,routeContext:{outlet:T,matches:st,isDataRoute:i!=null},children:ot})};return i&&(S.route.ErrorBoundary||S.route.errorElement||w===0)?it.createElement(n1,{location:i.location,revalidation:i.revalidation,component:Z,error:q,children:rt(),routeContext:{outlet:null,matches:st,isDataRoute:!0}}):rt()},null)}var Y_=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(Y_||{}),K_=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(K_||{});function r1(r){let e=it.useContext(gd);return e||ye(!1),e}function s1(r){let e=it.useContext(ZT);return e||ye(!1),e}function l1(r){let e=it.useContext(mr);return e||ye(!1),e}function X_(r){let e=l1(),i=e.matches[e.matches.length-1];return i.route.id||ye(!1),i.route.id}function o1(){var r;let e=it.useContext(Q_),i=s1(),s=X_();return e!==void 0?e:(r=i.errors)==null?void 0:r[s]}function u1(){let{router:r}=r1(Y_.UseNavigateStable),e=X_(K_.UseNavigateStable),i=it.useRef(!1);return F_(()=>{i.current=!0}),it.useCallback(function(o,h){h===void 0&&(h={}),i.current&&(typeof o=="number"?r.navigate(o):r.navigate(o,Kl({fromRouteId:e},h)))},[r,e])}const Sy={};function c1(r,e,i){Sy[r]||(Sy[r]=!0)}function h1(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function f1(r){let{to:e,replace:i,state:s,relative:o}=r;ro()||ye(!1);let{future:h,static:d}=it.useContext(ao),{matches:g}=it.useContext(mr),{pathname:p}=pd(),_=yd(),T=j_(e,H_(g,h.v7_relativeSplatPath),p,o==="path"),S=JSON.stringify(T);return it.useEffect(()=>_(JSON.parse(S),{replace:i,state:s,relative:o}),[_,S,o,i,s]),null}function us(r){ye(!1)}function d1(r){let{basename:e="/",children:i=null,location:s,navigationType:o=ua.Pop,navigator:h,static:d=!1,future:g}=r;ro()&&ye(!1);let p=e.replace(/^\/*/,"/"),_=it.useMemo(()=>({basename:p,navigator:h,static:d,future:Kl({v7_relativeSplatPath:!1},g)}),[p,g,h,d]);typeof s=="string"&&(s=dr(s));let{pathname:T="/",search:S="",hash:w="",state:q=null,key:G="default"}=s,Z=it.useMemo(()=>{let H=q_(T,p);return H==null?null:{location:{pathname:H,search:S,hash:w,state:q,key:G},navigationType:o}},[p,T,S,w,q,G,o]);return Z==null?null:it.createElement(ao.Provider,{value:_},it.createElement(oc.Provider,{children:i,value:Z}))}function m1(r){let{children:e,location:i}=r;return JT(jf(e),i)}new Promise(()=>{});function jf(r,e){e===void 0&&(e=[]);let i=[];return it.Children.forEach(r,(s,o)=>{if(!it.isValidElement(s))return;let h=[...e,o];if(s.type===it.Fragment){i.push.apply(i,jf(s.props.children,h));return}s.type!==us&&ye(!1),!s.props.index||!s.props.children||ye(!1);let d={id:s.props.id||h.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=jf(s.props.children,h)),i.push(d)}),i}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const g1="6";try{window.__reactRouterVersion=g1}catch{}const p1="startTransition",by=pT[p1];function y1(r){let{basename:e,children:i,future:s,window:o}=r,h=it.useRef();h.current==null&&(h.current=bT({window:o,v5Compat:!0}));let d=h.current,[g,p]=it.useState({action:d.action,location:d.location}),{v7_startTransition:_}=s||{},T=it.useCallback(S=>{_&&by?by(()=>p(S)):p(S)},[p,_]);return it.useLayoutEffect(()=>d.listen(T),[d,T]),it.useEffect(()=>h1(s),[s]),it.createElement(d1,{basename:e,children:i,location:g.location,navigationType:g.action,navigator:d,future:s})}var Ry;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Ry||(Ry={}));var wy;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(wy||(wy={}));const _1=()=>{};var Cy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},v1=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],g=r[i++],p=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},$_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,g=d?r[o+1]:0,p=o+2<r.length,_=p?r[o+2]:0,T=h>>2,S=(h&3)<<4|g>>4;let w=(g&15)<<2|_>>6,q=_&63;p||(q=64,d||(w=64)),s.push(i[T],i[S],i[w],i[q])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Z_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):v1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||g==null||_==null||S==null)throw new E1;const w=h<<2|g>>4;if(s.push(w),_!==64){const q=g<<4&240|_>>2;if(s.push(q),S!==64){const G=_<<6&192|S;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class E1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T1=function(r){const e=Z_(r);return $_.encodeByteArray(e,!0)},Ku=function(r){return T1(r).replace(/\./g,"")},A1=function(r){try{return $_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=()=>S1().__FIREBASE_DEFAULTS__,R1=()=>{if(typeof process>"u"||typeof Cy>"u")return;const r=Cy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},w1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&A1(r[1]);return e&&JSON.parse(e)},_d=()=>{try{return _1()||b1()||R1()||w1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},C1=r=>{var e,i;return(i=(e=_d())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},D1=r=>{const e=C1(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},J_=()=>{var r;return(r=_d())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(r){return r.endsWith(".cloudworkstations.dev")}async function I1(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ku(JSON.stringify(i)),Ku(JSON.stringify(d)),""].join(".")}const Hl={};function O1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?r.emulator.push(e):r.prod.push(e);return r}function M1(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Dy=!1;function x1(r,e){if(typeof window>"u"||typeof document>"u"||!vd(window.location.host)||Hl[r]===e||Hl[r]||Dy)return;Hl[r]=e;function i(w){return`__firebase__banner__${w}`}const s="__firebase__banner",h=O1().prod.length>0;function d(){const w=document.getElementById(s);w&&w.remove()}function g(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,q){w.setAttribute("width","24"),w.setAttribute("id",q),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function _(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Dy=!0,d()},w}function T(w,q){w.setAttribute("id",q),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=M1(s),q=i("text"),G=document.getElementById(q)||document.createElement("span"),Z=i("learnmore"),H=document.getElementById(Z)||document.createElement("a"),st=i("preprendIcon"),rt=document.getElementById(st)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ot=w.element;g(ot),T(H,Z);const Dt=_();p(rt,st),ot.append(rt,G,H,Dt),document.body.appendChild(ot)}h?(G.innerText="Preview backend disconnected.",rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function L1(){var r;const e=(r=_d())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z1(){return!L1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P1(){try{return typeof indexedDB=="object"}catch{return!1}}function B1(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="FirebaseError";class bs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=k1,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,W_.prototype.create)}}class W_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?q1(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new bs(o,g,s)}}function q1(r,e){return r.replace(H1,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const H1=/\{\$([^}]+)}/g;function Xl(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=r[o],d=e[o];if(Vy(h)&&Vy(d)){if(!Xl(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Vy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(r){return r&&r._delegate?r._delegate:r}class Zl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new V1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Q1(e))try{this.getOrInitializeService({instanceIdentifier:lr})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=lr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lr){return this.instances.has(e)}getOptions(e=lr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:G1(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=lr){return this.component?this.component.multipleInstances?e:lr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function G1(r){return r===lr?void 0:r}function Q1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new j1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const Y1={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},K1=Lt.INFO,X1={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},Z1=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=X1[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tv{constructor(e){this.name=e,this._logLevel=K1,this._logHandler=Z1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const $1=(r,e)=>e.some(i=>r instanceof i);let Iy,Ny;function J1(){return Iy||(Iy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W1(){return Ny||(Ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ev=new WeakMap,Gf=new WeakMap,nv=new WeakMap,xf=new WeakMap,Ed=new WeakMap;function tA(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(ha(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&ev.set(i,r)}).catch(()=>{}),Ed.set(e,r),e}function eA(r){if(Gf.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Gf.set(r,e)}let Qf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Gf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||nv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ha(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function nA(r){Qf=r(Qf)}function iA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Uf(this),e,...i);return nv.set(s,e.sort?e.sort():[e]),ha(s)}:W1().includes(r)?function(...e){return r.apply(Uf(this),e),ha(ev.get(this))}:function(...e){return ha(r.apply(Uf(this),e))}}function aA(r){return typeof r=="function"?iA(r):(r instanceof IDBTransaction&&eA(r),$1(r,J1())?new Proxy(r,Qf):r)}function ha(r){if(r instanceof IDBRequest)return tA(r);if(xf.has(r))return xf.get(r);const e=aA(r);return e!==r&&(xf.set(r,e),Ed.set(e,r)),e}const Uf=r=>Ed.get(r);function rA(r,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),g=ha(d);return s&&d.addEventListener("upgradeneeded",p=>{s(ha(d.result),p.oldVersion,p.newVersion,ha(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{h&&p.addEventListener("close",()=>h()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const sA=["get","getKey","getAll","getAllKeys","count"],lA=["put","add","delete","clear"],Lf=new Map;function Oy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Lf.get(e))return Lf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=lA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||sA.includes(i)))return;const h=async function(d,...g){const p=this.transaction(d,o?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&p.done]))[0]};return Lf.set(e,h),h}nA(r=>({...r,get:(e,i,s)=>Oy(e,i)||r.get(e,i,s),has:(e,i)=>!!Oy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(uA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function uA(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ff="@firebase/app",My="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new tv("@firebase/app"),cA="@firebase/app-compat",hA="@firebase/analytics-compat",fA="@firebase/analytics",dA="@firebase/app-check-compat",mA="@firebase/app-check",gA="@firebase/auth",pA="@firebase/auth-compat",yA="@firebase/database",_A="@firebase/data-connect",vA="@firebase/database-compat",EA="@firebase/functions",TA="@firebase/functions-compat",AA="@firebase/installations",SA="@firebase/installations-compat",bA="@firebase/messaging",RA="@firebase/messaging-compat",wA="@firebase/performance",CA="@firebase/performance-compat",DA="@firebase/remote-config",VA="@firebase/remote-config-compat",IA="@firebase/storage",NA="@firebase/storage-compat",OA="@firebase/firestore",MA="@firebase/ai",xA="@firebase/firestore-compat",UA="firebase",LA="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="[DEFAULT]",zA={[Ff]:"fire-core",[cA]:"fire-core-compat",[fA]:"fire-analytics",[hA]:"fire-analytics-compat",[mA]:"fire-app-check",[dA]:"fire-app-check-compat",[gA]:"fire-auth",[pA]:"fire-auth-compat",[yA]:"fire-rtdb",[_A]:"fire-data-connect",[vA]:"fire-rtdb-compat",[EA]:"fire-fn",[TA]:"fire-fn-compat",[AA]:"fire-iid",[SA]:"fire-iid-compat",[bA]:"fire-fcm",[RA]:"fire-fcm-compat",[wA]:"fire-perf",[CA]:"fire-perf-compat",[DA]:"fire-rc",[VA]:"fire-rc-compat",[IA]:"fire-gcs",[NA]:"fire-gcs-compat",[OA]:"fire-fst",[xA]:"fire-fst-compat",[MA]:"fire-vertex","fire-js":"fire-js",[UA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=new Map,PA=new Map,Kf=new Map;function xy(r,e){try{r.container.addComponent(e)}catch(i){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Zu(r){const e=r.name;if(Kf.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;Kf.set(e,r);for(const i of Xu.values())xy(i,r);for(const i of PA.values())xy(i,r);return!0}function BA(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function kA(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fa=new W_("app","Firebase",qA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Zl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=LA;function iv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Yf,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw fa.create("bad-app-name",{appName:String(o)});if(i||(i=J_()),!i)throw fa.create("no-options");const h=Xu.get(o);if(h){if(Xl(i,h.options)&&Xl(s,h.config))return h;throw fa.create("duplicate-app",{appName:o})}const d=new F1(o);for(const p of Kf.values())d.addComponent(p);const g=new HA(i,s,d);return Xu.set(o,g),g}function GA(r=Yf){const e=Xu.get(r);if(!e&&r===Yf&&J_())return iv();if(!e)throw fa.create("no-app",{appName:r});return e}function ms(r,e,i){var s;let o=(s=zA[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(g.join(" "));return}Zu(new Zl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="firebase-heartbeat-database",FA=1,$l="firebase-heartbeat-store";let zf=null;function av(){return zf||(zf=rA(QA,FA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore($l)}catch(i){console.warn(i)}}}}).catch(r=>{throw fa.create("idb-open",{originalErrorMessage:r.message})})),zf}async function YA(r){try{const i=(await av()).transaction($l),s=await i.objectStore($l).get(rv(r));return await i.done,s}catch(e){if(e instanceof bs)Ni.warn(e.message);else{const i=fa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(i.message)}}}async function Uy(r,e){try{const s=(await av()).transaction($l,"readwrite");await s.objectStore($l).put(e,rv(r)),await s.done}catch(i){if(i instanceof bs)Ni.warn(i.message);else{const s=fa.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ni.warn(s.message)}}}function rv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=1024,XA=30;class ZA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new JA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Ly();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>XA){const d=WA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ni.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Ly(),{heartbeatsToSend:s,unsentEntries:o}=$A(this._heartbeatsCache.heartbeats),h=Ku(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ni.warn(i),""}}}function Ly(){return new Date().toISOString().substring(0,10)}function $A(r,e=KA){const i=[];let s=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),zy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),zy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class JA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P1()?B1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await YA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Uy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Uy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function zy(r){return Ku(JSON.stringify({version:2,heartbeats:r})).length}function WA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(r){Zu(new Zl("platform-logger",e=>new oA(e),"PRIVATE")),Zu(new Zl("heartbeat",e=>new ZA(e),"PRIVATE")),ms(Ff,My,r),ms(Ff,My,"esm2017"),ms("fire-js","")}tS("");var Py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var da,sv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,b){function D(){}D.prototype=b.prototype,O.D=b.prototype,O.prototype=new D,O.prototype.constructor=O,O.C=function(N,M,U){for(var C=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)C[Me-2]=arguments[Me];return b.prototype[M].apply(N,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,b,D){D||(D=0);var N=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)N[M]=b.charCodeAt(D++)|b.charCodeAt(D++)<<8|b.charCodeAt(D++)<<16|b.charCodeAt(D++)<<24;else for(M=0;16>M;++M)N[M]=b[D++]|b[D++]<<8|b[D++]<<16|b[D++]<<24;b=O.g[0],D=O.g[1],M=O.g[2];var U=O.g[3],C=b+(U^D&(M^U))+N[0]+3614090360&4294967295;b=D+(C<<7&4294967295|C>>>25),C=U+(M^b&(D^M))+N[1]+3905402710&4294967295,U=b+(C<<12&4294967295|C>>>20),C=M+(D^U&(b^D))+N[2]+606105819&4294967295,M=U+(C<<17&4294967295|C>>>15),C=D+(b^M&(U^b))+N[3]+3250441966&4294967295,D=M+(C<<22&4294967295|C>>>10),C=b+(U^D&(M^U))+N[4]+4118548399&4294967295,b=D+(C<<7&4294967295|C>>>25),C=U+(M^b&(D^M))+N[5]+1200080426&4294967295,U=b+(C<<12&4294967295|C>>>20),C=M+(D^U&(b^D))+N[6]+2821735955&4294967295,M=U+(C<<17&4294967295|C>>>15),C=D+(b^M&(U^b))+N[7]+4249261313&4294967295,D=M+(C<<22&4294967295|C>>>10),C=b+(U^D&(M^U))+N[8]+1770035416&4294967295,b=D+(C<<7&4294967295|C>>>25),C=U+(M^b&(D^M))+N[9]+2336552879&4294967295,U=b+(C<<12&4294967295|C>>>20),C=M+(D^U&(b^D))+N[10]+4294925233&4294967295,M=U+(C<<17&4294967295|C>>>15),C=D+(b^M&(U^b))+N[11]+2304563134&4294967295,D=M+(C<<22&4294967295|C>>>10),C=b+(U^D&(M^U))+N[12]+1804603682&4294967295,b=D+(C<<7&4294967295|C>>>25),C=U+(M^b&(D^M))+N[13]+4254626195&4294967295,U=b+(C<<12&4294967295|C>>>20),C=M+(D^U&(b^D))+N[14]+2792965006&4294967295,M=U+(C<<17&4294967295|C>>>15),C=D+(b^M&(U^b))+N[15]+1236535329&4294967295,D=M+(C<<22&4294967295|C>>>10),C=b+(M^U&(D^M))+N[1]+4129170786&4294967295,b=D+(C<<5&4294967295|C>>>27),C=U+(D^M&(b^D))+N[6]+3225465664&4294967295,U=b+(C<<9&4294967295|C>>>23),C=M+(b^D&(U^b))+N[11]+643717713&4294967295,M=U+(C<<14&4294967295|C>>>18),C=D+(U^b&(M^U))+N[0]+3921069994&4294967295,D=M+(C<<20&4294967295|C>>>12),C=b+(M^U&(D^M))+N[5]+3593408605&4294967295,b=D+(C<<5&4294967295|C>>>27),C=U+(D^M&(b^D))+N[10]+38016083&4294967295,U=b+(C<<9&4294967295|C>>>23),C=M+(b^D&(U^b))+N[15]+3634488961&4294967295,M=U+(C<<14&4294967295|C>>>18),C=D+(U^b&(M^U))+N[4]+3889429448&4294967295,D=M+(C<<20&4294967295|C>>>12),C=b+(M^U&(D^M))+N[9]+568446438&4294967295,b=D+(C<<5&4294967295|C>>>27),C=U+(D^M&(b^D))+N[14]+3275163606&4294967295,U=b+(C<<9&4294967295|C>>>23),C=M+(b^D&(U^b))+N[3]+4107603335&4294967295,M=U+(C<<14&4294967295|C>>>18),C=D+(U^b&(M^U))+N[8]+1163531501&4294967295,D=M+(C<<20&4294967295|C>>>12),C=b+(M^U&(D^M))+N[13]+2850285829&4294967295,b=D+(C<<5&4294967295|C>>>27),C=U+(D^M&(b^D))+N[2]+4243563512&4294967295,U=b+(C<<9&4294967295|C>>>23),C=M+(b^D&(U^b))+N[7]+1735328473&4294967295,M=U+(C<<14&4294967295|C>>>18),C=D+(U^b&(M^U))+N[12]+2368359562&4294967295,D=M+(C<<20&4294967295|C>>>12),C=b+(D^M^U)+N[5]+4294588738&4294967295,b=D+(C<<4&4294967295|C>>>28),C=U+(b^D^M)+N[8]+2272392833&4294967295,U=b+(C<<11&4294967295|C>>>21),C=M+(U^b^D)+N[11]+1839030562&4294967295,M=U+(C<<16&4294967295|C>>>16),C=D+(M^U^b)+N[14]+4259657740&4294967295,D=M+(C<<23&4294967295|C>>>9),C=b+(D^M^U)+N[1]+2763975236&4294967295,b=D+(C<<4&4294967295|C>>>28),C=U+(b^D^M)+N[4]+1272893353&4294967295,U=b+(C<<11&4294967295|C>>>21),C=M+(U^b^D)+N[7]+4139469664&4294967295,M=U+(C<<16&4294967295|C>>>16),C=D+(M^U^b)+N[10]+3200236656&4294967295,D=M+(C<<23&4294967295|C>>>9),C=b+(D^M^U)+N[13]+681279174&4294967295,b=D+(C<<4&4294967295|C>>>28),C=U+(b^D^M)+N[0]+3936430074&4294967295,U=b+(C<<11&4294967295|C>>>21),C=M+(U^b^D)+N[3]+3572445317&4294967295,M=U+(C<<16&4294967295|C>>>16),C=D+(M^U^b)+N[6]+76029189&4294967295,D=M+(C<<23&4294967295|C>>>9),C=b+(D^M^U)+N[9]+3654602809&4294967295,b=D+(C<<4&4294967295|C>>>28),C=U+(b^D^M)+N[12]+3873151461&4294967295,U=b+(C<<11&4294967295|C>>>21),C=M+(U^b^D)+N[15]+530742520&4294967295,M=U+(C<<16&4294967295|C>>>16),C=D+(M^U^b)+N[2]+3299628645&4294967295,D=M+(C<<23&4294967295|C>>>9),C=b+(M^(D|~U))+N[0]+4096336452&4294967295,b=D+(C<<6&4294967295|C>>>26),C=U+(D^(b|~M))+N[7]+1126891415&4294967295,U=b+(C<<10&4294967295|C>>>22),C=M+(b^(U|~D))+N[14]+2878612391&4294967295,M=U+(C<<15&4294967295|C>>>17),C=D+(U^(M|~b))+N[5]+4237533241&4294967295,D=M+(C<<21&4294967295|C>>>11),C=b+(M^(D|~U))+N[12]+1700485571&4294967295,b=D+(C<<6&4294967295|C>>>26),C=U+(D^(b|~M))+N[3]+2399980690&4294967295,U=b+(C<<10&4294967295|C>>>22),C=M+(b^(U|~D))+N[10]+4293915773&4294967295,M=U+(C<<15&4294967295|C>>>17),C=D+(U^(M|~b))+N[1]+2240044497&4294967295,D=M+(C<<21&4294967295|C>>>11),C=b+(M^(D|~U))+N[8]+1873313359&4294967295,b=D+(C<<6&4294967295|C>>>26),C=U+(D^(b|~M))+N[15]+4264355552&4294967295,U=b+(C<<10&4294967295|C>>>22),C=M+(b^(U|~D))+N[6]+2734768916&4294967295,M=U+(C<<15&4294967295|C>>>17),C=D+(U^(M|~b))+N[13]+1309151649&4294967295,D=M+(C<<21&4294967295|C>>>11),C=b+(M^(D|~U))+N[4]+4149444226&4294967295,b=D+(C<<6&4294967295|C>>>26),C=U+(D^(b|~M))+N[11]+3174756917&4294967295,U=b+(C<<10&4294967295|C>>>22),C=M+(b^(U|~D))+N[2]+718787259&4294967295,M=U+(C<<15&4294967295|C>>>17),C=D+(U^(M|~b))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+b&4294967295,O.g[1]=O.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,b){b===void 0&&(b=O.length);for(var D=b-this.blockSize,N=this.B,M=this.h,U=0;U<b;){if(M==0)for(;U<=D;)o(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<b;)if(N[M++]=O.charCodeAt(U++),M==this.blockSize){o(this,N),M=0;break}}else for(;U<b;)if(N[M++]=O[U++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=b},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var b=1;b<O.length-8;++b)O[b]=0;var D=8*this.o;for(b=O.length-8;b<O.length;++b)O[b]=D&255,D/=256;for(this.u(O),O=Array(16),b=D=0;4>b;++b)for(var N=0;32>N;N+=8)O[D++]=this.g[b]>>>N&255;return O};function h(O,b){var D=g;return Object.prototype.hasOwnProperty.call(D,O)?D[O]:D[O]=b(O)}function d(O,b){this.h=b;for(var D=[],N=!0,M=O.length-1;0<=M;M--){var U=O[M]|0;N&&U==b||(D[M]=U,N=!1)}this.g=D}var g={};function p(O){return-128<=O&&128>O?h(O,function(b){return new d([b|0],0>b?-1:0)}):new d([O|0],0>O?-1:0)}function _(O){if(isNaN(O)||!isFinite(O))return S;if(0>O)return H(_(-O));for(var b=[],D=1,N=0;O>=D;N++)b[N]=O/D|0,D*=4294967296;return new d(b,0)}function T(O,b){if(O.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(O.charAt(0)=="-")return H(T(O.substring(1),b));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=_(Math.pow(b,8)),N=S,M=0;M<O.length;M+=8){var U=Math.min(8,O.length-M),C=parseInt(O.substring(M,M+U),b);8>U?(U=_(Math.pow(b,U)),N=N.j(U).add(_(C))):(N=N.j(D),N=N.add(_(C)))}return N}var S=p(0),w=p(1),q=p(16777216);r=d.prototype,r.m=function(){if(Z(this))return-H(this).m();for(var O=0,b=1,D=0;D<this.g.length;D++){var N=this.i(D);O+=(0<=N?N:4294967296+N)*b,b*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(G(this))return"0";if(Z(this))return"-"+H(this).toString(O);for(var b=_(Math.pow(O,6)),D=this,N="";;){var M=Dt(D,b).g;D=st(D,M.j(b));var U=((0<D.g.length?D.g[0]:D.h)>>>0).toString(O);if(D=M,G(D))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function G(O){if(O.h!=0)return!1;for(var b=0;b<O.g.length;b++)if(O.g[b]!=0)return!1;return!0}function Z(O){return O.h==-1}r.l=function(O){return O=st(this,O),Z(O)?-1:G(O)?0:1};function H(O){for(var b=O.g.length,D=[],N=0;N<b;N++)D[N]=~O.g[N];return new d(D,~O.h).add(w)}r.abs=function(){return Z(this)?H(this):this},r.add=function(O){for(var b=Math.max(this.g.length,O.g.length),D=[],N=0,M=0;M<=b;M++){var U=N+(this.i(M)&65535)+(O.i(M)&65535),C=(U>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);N=C>>>16,U&=65535,C&=65535,D[M]=C<<16|U}return new d(D,D[D.length-1]&-2147483648?-1:0)};function st(O,b){return O.add(H(b))}r.j=function(O){if(G(this)||G(O))return S;if(Z(this))return Z(O)?H(this).j(H(O)):H(H(this).j(O));if(Z(O))return H(this.j(H(O)));if(0>this.l(q)&&0>O.l(q))return _(this.m()*O.m());for(var b=this.g.length+O.g.length,D=[],N=0;N<2*b;N++)D[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<O.g.length;M++){var U=this.i(N)>>>16,C=this.i(N)&65535,Me=O.i(M)>>>16,ae=O.i(M)&65535;D[2*N+2*M]+=C*ae,rt(D,2*N+2*M),D[2*N+2*M+1]+=U*ae,rt(D,2*N+2*M+1),D[2*N+2*M+1]+=C*Me,rt(D,2*N+2*M+1),D[2*N+2*M+2]+=U*Me,rt(D,2*N+2*M+2)}for(N=0;N<b;N++)D[N]=D[2*N+1]<<16|D[2*N];for(N=b;N<2*b;N++)D[N]=0;return new d(D,0)};function rt(O,b){for(;(O[b]&65535)!=O[b];)O[b+1]+=O[b]>>>16,O[b]&=65535,b++}function ot(O,b){this.g=O,this.h=b}function Dt(O,b){if(G(b))throw Error("division by zero");if(G(O))return new ot(S,S);if(Z(O))return b=Dt(H(O),b),new ot(H(b.g),H(b.h));if(Z(b))return b=Dt(O,H(b)),new ot(H(b.g),b.h);if(30<O.g.length){if(Z(O)||Z(b))throw Error("slowDivide_ only works with positive integers.");for(var D=w,N=b;0>=N.l(O);)D=vt(D),N=vt(N);var M=Pt(D,1),U=Pt(N,1);for(N=Pt(N,2),D=Pt(D,2);!G(N);){var C=U.add(N);0>=C.l(O)&&(M=M.add(D),U=C),N=Pt(N,1),D=Pt(D,1)}return b=st(O,M.j(b)),new ot(M,b)}for(M=S;0<=O.l(b);){for(D=Math.max(1,Math.floor(O.m()/b.m())),N=Math.ceil(Math.log(D)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=_(D),C=U.j(b);Z(C)||0<C.l(O);)D-=N,U=_(D),C=U.j(b);G(U)&&(U=w),M=M.add(U),O=st(O,C)}return new ot(M,O)}r.A=function(O){return Dt(this,O).h},r.and=function(O){for(var b=Math.max(this.g.length,O.g.length),D=[],N=0;N<b;N++)D[N]=this.i(N)&O.i(N);return new d(D,this.h&O.h)},r.or=function(O){for(var b=Math.max(this.g.length,O.g.length),D=[],N=0;N<b;N++)D[N]=this.i(N)|O.i(N);return new d(D,this.h|O.h)},r.xor=function(O){for(var b=Math.max(this.g.length,O.g.length),D=[],N=0;N<b;N++)D[N]=this.i(N)^O.i(N);return new d(D,this.h^O.h)};function vt(O){for(var b=O.g.length+1,D=[],N=0;N<b;N++)D[N]=O.i(N)<<1|O.i(N-1)>>>31;return new d(D,O.h)}function Pt(O,b){var D=b>>5;b%=32;for(var N=O.g.length-D,M=[],U=0;U<N;U++)M[U]=0<b?O.i(U+D)>>>b|O.i(U+D+1)<<32-b:O.i(U+D);return new d(M,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,sv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,da=d}).apply(typeof Py<"u"?Py:typeof self<"u"?self:typeof window<"u"?window:{});var zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lv,Pl,ov,Hu,Xf,uv,cv,hv;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zu=="object"&&zu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var y=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in y))break t;y=y[L]}u=u[u.length-1],A=y[u],m=m(A),m!=A&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var y=0,A=!1,L={next:function(){if(!A&&y<u.length){var j=y++;return{value:m(j,u[j]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,y){return u.call.apply(u.bind,arguments)}function S(u,m,y){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function w(u,m,y){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:S,w.apply(null,arguments)}function q(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function G(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(A,L,j){for(var tt=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)tt[Ot-2]=arguments[Ot];return m.prototype[L].apply(A,tt)}}function Z(u){const m=u.length;if(0<m){const y=Array(m);for(let A=0;A<m;A++)y[A]=u[A];return y}return[]}function H(u,m){for(let y=1;y<arguments.length;y++){const A=arguments[y];if(p(A)){const L=u.length||0,j=A.length||0;u.length=L+j;for(let tt=0;tt<j;tt++)u[L+tt]=A[tt]}else u.push(A)}}class st{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function rt(u){return/^[\s\xa0]*$/.test(u)}function ot(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Dt(u){return Dt[" "](u),u}Dt[" "]=function(){};var vt=ot().indexOf("Gecko")!=-1&&!(ot().toLowerCase().indexOf("webkit")!=-1&&ot().indexOf("Edge")==-1)&&!(ot().indexOf("Trident")!=-1||ot().indexOf("MSIE")!=-1)&&ot().indexOf("Edge")==-1;function Pt(u,m,y){for(const A in u)m.call(y,u[A],A,u)}function O(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function b(u){const m={};for(const y in u)m[y]=u[y];return m}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let y,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(y in A)u[y]=A[y];for(let j=0;j<D.length;j++)y=D[j],Object.prototype.hasOwnProperty.call(A,y)&&(u[y]=A[y])}}function M(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function U(u){g.setTimeout(()=>{throw u},0)}function C(){var u=Bt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Me{constructor(){this.h=this.g=null}add(m,y){const A=ae.get();A.set(m,y),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new st(()=>new Q,u=>u.reset());class Q{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ht=!1,Bt=new Me,V=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then($)}};var $=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(y){U(y)}var m=ae;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ht=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function wt(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(vt){t:{try{Dt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Et[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}G(wt,W);var Et={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),$t=0;function Ln(u,m,y,A,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!A,this.ha=L,this.key=++$t,this.da=this.fa=!1}function xi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ai(u){this.src=u,this.g={},this.h=0}ai.prototype.add=function(u,m,y,A,L){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var tt=Ra(u,m,A,L);return-1<tt?(m=u[tt],y||(m.fa=!1)):(m=new Ln(m,this.src,j,!!A,L),m.fa=y,u.push(m)),m};function ba(u,m){var y=m.type;if(y in u.g){var A=u.g[y],L=Array.prototype.indexOf.call(A,m,void 0),j;(j=0<=L)&&Array.prototype.splice.call(A,L,1),j&&(xi(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Ra(u,m,y,A){for(var L=0;L<u.length;++L){var j=u[L];if(!j.da&&j.listener==m&&j.capture==!!y&&j.ha==A)return L}return-1}var wa="closure_lm_"+(1e6*Math.random()|0),Vs={};function fo(u,m,y,A,L){if(Array.isArray(m)){for(var j=0;j<m.length;j++)fo(u,m[j],y,A,L);return null}return y=mo(y),u&&u[we]?u.K(m,y,_(A)?!!A.capture:!1,L):gn(u,m,y,!1,A,L)}function gn(u,m,y,A,L,j){if(!m)throw Error("Invalid event type");var tt=_(L)?!!L.capture:!!L,Ot=_r(u);if(Ot||(u[wa]=Ot=new ai(u)),y=Ot.add(m,y,A,tt,j),y.proxy)return y;if(A=Cc(),y.proxy=A,A.src=u,A.listener=y,u.addEventListener)dt||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),A,L);else if(u.attachEvent)u.attachEvent(Ca(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Cc(){function u(y){return m.call(u.src,u.listener,y)}const m=Dc;return u}function Is(u,m,y,A,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)Is(u,m[j],y,A,L);else A=_(A)?!!A.capture:!!A,y=mo(y),u&&u[we]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],y=Ra(j,y,A,L),-1<y&&(xi(j[y]),Array.prototype.splice.call(j,y,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=_r(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ra(m,y,A,L)),(y=-1<u?m[u]:null)&&yr(y))}function yr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[we])ba(m.i,u);else{var y=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(y,A,u.capture):m.detachEvent?m.detachEvent(Ca(y),A):m.addListener&&m.removeListener&&m.removeListener(A),(y=_r(m))?(ba(y,u),y.h==0&&(y.src=null,m[wa]=null)):xi(u)}}}function Ca(u){return u in Vs?Vs[u]:Vs[u]="on"+u}function Dc(u,m){if(u.da)u=!0;else{m=new wt(m,this);var y=u.listener,A=u.ha||u.src;u.fa&&yr(u),u=y.call(A,m)}return u}function _r(u){return u=u[wa],u instanceof ai?u:null}var Ns="__closure_events_fn_"+(1e9*Math.random()>>>0);function mo(u){return typeof u=="function"?u:(u[Ns]||(u[Ns]=function(m){return u.handleEvent(m)}),u[Ns])}function re(){nt.call(this),this.i=new ai(this),this.M=this,this.F=null}G(re,nt),re.prototype[we]=!0,re.prototype.removeEventListener=function(u,m,y,A){Is(this,u,m,y,A)};function jt(u,m){var y,A=u.F;if(A)for(y=[];A;A=A.F)y.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var L=m;m=new W(A,u),N(m,L)}if(L=!0,y)for(var j=y.length-1;0<=j;j--){var tt=m.g=y[j];L=rn(tt,A,!0,m)&&L}if(tt=m.g=u,L=rn(tt,A,!0,m)&&L,L=rn(tt,A,!1,m)&&L,y)for(j=0;j<y.length;j++)tt=m.g=y[j],L=rn(tt,A,!1,m)&&L}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],A=0;A<y.length;A++)xi(y[A]);delete u.g[m],u.h--}}this.F=null},re.prototype.K=function(u,m,y,A){return this.i.add(String(u),m,!1,y,A)},re.prototype.L=function(u,m,y,A){return this.i.add(String(u),m,!0,y,A)};function rn(u,m,y,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,j=0;j<m.length;++j){var tt=m[j];if(tt&&!tt.da&&tt.capture==y){var Ot=tt.listener,Ee=tt.ha||tt.src;tt.fa&&ba(u.i,tt),L=Ot.call(Ee,A)!==!1&&L}}return L&&!A.defaultPrevented}function He(u,m,y){if(typeof u=="function")y&&(u=w(u,y));else if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function go(u){u.g=He(()=>{u.g=null,u.i&&(u.i=!1,go(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Vc extends nt{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:go(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Da(u){nt.call(this),this.h=u,this.g={}}G(Da,nt);var Va=[];function Ia(u){Pt(u.g,function(m,y){this.g.hasOwnProperty(y)&&yr(m)},u),u.g={}}Da.prototype.N=function(){Da.aa.N.call(this),Ia(this)},Da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=g.JSON.stringify,vr=g.JSON.parse,Na=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Os(){}Os.prototype.h=null;function Ms(u){return u.h||(u.h=u.i())}function xs(){}var ri={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function si(){W.call(this,"d")}G(si,W);function Us(){W.call(this,"c")}G(Us,W);var zn={},Ls=null;function Ui(){return Ls=Ls||new re}zn.La="serverreachability";function Er(u){W.call(this,zn.La,u)}G(Er,W);function Li(u){const m=Ui();jt(m,new Er(m))}zn.STAT_EVENT="statevent";function po(u,m){W.call(this,zn.STAT_EVENT,u),this.stat=m}G(po,W);function Wt(u){const m=Ui();jt(m,new po(m,u))}zn.Ma="timingevent";function ve(u,m){W.call(this,zn.Ma,u),this.size=m}G(ve,W);function fe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function zs(u,m,y,A,L,j){u.info(function(){if(u.g)if(j)for(var tt="",Ot=j.split("&"),Ee=0;Ee<Ot.length;Ee++){var Mt=Ot[Ee].split("=");if(1<Mt.length){var De=Mt[0];Mt=Mt[1];var Te=De.split("_");tt=2<=Te.length&&Te[1]=="type"?tt+(De+"="+Mt+"&"):tt+(De+"=redacted&")}}else tt=null;else tt=j;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+y+`
`+tt})}function Ic(u,m,y,A,L,j,tt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+y+`
`+j+" "+tt})}function zi(u,m,y,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Oa(u,y)+(A?" "+A:"")})}function yo(u,m){u.info(function(){return"TIMEOUT: "+m})}pn.prototype.info=function(){};function Oa(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var A=y[u];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var tt=1;tt<L.length;tt++)L[tt]=""}}}}return Dn(y)}catch{return m}}var Pi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pn;function Bn(){}G(Bn,Os),Bn.prototype.g=function(){return new XMLHttpRequest},Bn.prototype.i=function(){return{}},Pn=new Bn;function Ke(u,m,y,A){this.j=u,this.i=m,this.l=y,this.R=A||1,this.U=new Da(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oe}function oe(){this.i=null,this.g="",this.h=!1}var Ps={},Tr={};function Vn(u,m,y){u.L=1,u.v=za(sn(m)),u.m=y,u.P=!0,oi(u,null)}function oi(u,m){u.F=Date.now(),Ma(u),u.A=sn(u.v);var y=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Gs(y.i,"t",A),u.C=0,y=u.j.J,u.h=new oe,u.g=Mo(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Vc(w(u.Y,u,u.g),u.O)),m=u.U,y=u.g,A=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Va[0]=L.toString()),L=Va);for(var j=0;j<L.length;j++){var tt=fo(y,L[j],A||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Li(),zs(u.i,u.u,u.A,u.l,u.R,u.m)}Ke.prototype.ca=function(u){u=u.target;const m=this.M;m&&En(u)==3?m.j():this.Y(u)},Ke.prototype.Y=function(u){try{if(u==this.g)t:{const Te=En(this.g);var m=this.g.Ba();const pi=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||Ro(this.g)))){this.J||Te!=4||m==7||(m==8||0>=pi?Li(3):Li(2)),Bi(this);var y=this.g.Z();this.X=y;e:if(_o(this)){var A=Ro(this.g);u="";var L=A.length,j=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xe(this),kn(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(j&&m==L-1)});A.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=y==200,Ic(this.i,this.u,this.A,this.l,this.R,Te,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Ee=this.g;if((Ot=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(Ot)){var Mt=Ot;break e}}Mt=null}if(y=Mt)zi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xa(this,y);else{this.o=!1,this.s=3,Wt(12),xe(this),kn(this);break t}}if(this.P){y=!0;let Ue;for(;!this.J&&this.C<tt.length;)if(Ue=vo(this,tt),Ue==Tr){Te==4&&(this.s=4,Wt(14),y=!1),zi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Ps){this.s=4,Wt(15),zi(this.i,this.l,tt,"[Invalid Chunk]"),y=!1;break}else zi(this.i,this.l,Ue,null),xa(this,Ue);if(_o(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||tt.length!=0||this.h.h||(this.s=1,Wt(16),y=!1),this.o=this.o&&y,!y)zi(this.i,this.l,tt,"[Invalid Chunked Response]"),xe(this),kn(this);else if(0<tt.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),Qa(De),De.M=!0,Wt(11))}}else zi(this.i,this.l,tt,null),xa(this,tt);Te==4&&xe(this),this.o&&!this.J&&(Te==4?Io(this.j,this):(this.o=!1,Ma(this)))}else Uc(this.g),y==400&&0<tt.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),xe(this),kn(this)}}}catch{}finally{}};function _o(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function vo(u,m){var y=u.C,A=m.indexOf(`
`,y);return A==-1?Tr:(y=Number(m.substring(y,A)),isNaN(y)?Ps:(A+=1,A+y>m.length?Tr:(m=m.slice(A,A+y),u.C=A+y,m)))}Ke.prototype.cancel=function(){this.J=!0,xe(this)};function Ma(u){u.S=Date.now()+u.I,Eo(u,u.I)}function Eo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(w(u.ba,u),m)}function Bi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ke.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(yo(this.i,this.A),this.L!=2&&(Li(),Wt(17)),xe(this),this.s=2,kn(this)):Eo(this,this.S-u)};function kn(u){u.j.G==0||u.J||Io(u.j,u)}function xe(u){Bi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ia(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function xa(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||Bs(y.h,u))){if(!u.K&&Bs(y.h,u)&&y.G==3){try{var A=y.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Mr(y),Nr(y);else break t;Xs(y),Wt(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=fe(w(y.Za,y),6e3));if(1>=Sr(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else gi(y,11)}else if((u.K||y.g==u)&&Mr(y),!rt(m))for(L=y.Da.g.parse(m),m=0;m<L.length;m++){let Mt=L[m];if(y.T=Mt[0],Mt=Mt[1],y.G==2)if(Mt[0]=="c"){y.K=Mt[1],y.ia=Mt[2];const De=Mt[3];De!=null&&(y.la=De,y.j.info("VER="+y.la));const Te=Mt[4];Te!=null&&(y.Aa=Te,y.j.info("SVER="+y.Aa));const pi=Mt[5];pi!=null&&typeof pi=="number"&&0<pi&&(A=1.5*pi,y.L=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const Ue=u.g;if(Ue){const Yn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var j=A.h;j.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(br(j,j.h),j.h=null))}if(A.D){const $s=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;$s&&(A.ya=$s,Ft(A.I,A.D,$s))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),A=y;var tt=u;if(A.qa=Oo(A,A.J?A.ia:null,A.W),tt.K){Xe(A.h,tt);var Ot=tt,Ee=A.L;Ee&&(Ot.I=Ee),Ot.B&&(Bi(Ot),Ma(Ot)),A.g=tt}else Do(A);0<y.i.length&&Or(y)}else Mt[0]!="stop"&&Mt[0]!="close"||gi(y,7);else y.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?gi(y,7):Ys(y):Mt[0]!="noop"&&y.l&&y.l.ta(Mt),y.v=0)}}Li(4)}catch{}}var To=class{constructor(u,m){this.g=u,this.map=m}};function ui(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ar(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Sr(u){return u.h?1:u.g?u.g.size:0}function Bs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function br(u,m){u.g?u.g.add(m):u.h=m}function Xe(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ui.prototype.cancel=function(){if(this.i=ks(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ks(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return Z(u.i)}function Nc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,A=0;A<y;A++)m.push(u[A]);return m}m=[],y=0;for(A in u)m[y++]=u[A];return m}function Rr(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const A in u)m[y++]=A;return m}}}function qs(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Rr(u),A=Nc(u),L=A.length,j=0;j<L;j++)m.call(void 0,A[j],y&&y[j],u)}var Ua=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oc(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var A=u[y].indexOf("="),L=null;if(0<=A){var j=u[y].substring(0,A);L=u[y].substring(A+1)}else j=u[y];m(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,La(this,u.j),this.o=u.o,this.g=u.g,ki(this,u.s),this.l=u.l;var m=u.i,y=new hi;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),ci(this,y),this.m=u.m}else u&&(m=String(u).match(Ua))?(this.h=!1,La(this,m[1]||"",!0),this.o=yn(m[2]||""),this.g=yn(m[3]||"",!0),ki(this,m[4]),this.l=yn(m[5]||"",!0),ci(this,m[6]||"",!0),this.m=yn(m[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}de.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Pa(m,Hs,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Pa(m,Hs,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Pa(y,y.charAt(0)=="/"?Mc:js,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Pa(y,wr)),u.join("")};function sn(u){return new de(u)}function La(u,m,y){u.j=y?yn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ki(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function ci(u,m,y){m instanceof hi?(u.i=m,So(u.i,u.h)):(y||(m=Pa(m,xc)),u.i=new hi(m,u.h))}function Ft(u,m,y){u.i.set(m,y)}function za(u){return Ft(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function yn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Pa(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Ao),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ao(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Hs=/[#\/\?@]/g,js=/[#\?:]/g,Mc=/[#\?]/g,xc=/[#\?@]/g,wr=/#/g;function hi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&Oc(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=hi.prototype,r.add=function(u,m){_n(this),this.i=null,u=qn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function fi(u,m){_n(u),m=qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function di(u,m){return _n(u),m=qn(u,m),u.g.has(m)}r.forEach=function(u,m){_n(this),this.g.forEach(function(y,A){y.forEach(function(L){u.call(m,L,A,this)},this)},this)},r.na=function(){_n(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let A=0;A<m.length;A++){const L=u[A];for(let j=0;j<L.length;j++)y.push(m[A])}return y},r.V=function(u){_n(this);let m=[];if(typeof u=="string")di(this,u)&&(m=m.concat(this.g.get(qn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return _n(this),this.i=null,u=qn(this,u),di(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Gs(u,m,y){fi(u,m),0<y.length&&(u.i=null,u.g.set(qn(u,m),Z(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var A=m[y];const j=encodeURIComponent(String(A)),tt=this.V(A);for(A=0;A<tt.length;A++){var L=j;tt[A]!==""&&(L+="="+encodeURIComponent(String(tt[A]))),u.push(L)}}return this.i=u.join("&")};function qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function So(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(y,A){var L=A.toLowerCase();A!=L&&(fi(this,A),Gs(this,L,y))},u)),u.j=m}function Ba(u,m){const y=new pn;if(g.Image){const A=new Image;A.onload=q(vn,y,"TestLoadImage: loaded",!0,m,A),A.onerror=q(vn,y,"TestLoadImage: error",!1,m,A),A.onabort=q(vn,y,"TestLoadImage: abort",!1,m,A),A.ontimeout=q(vn,y,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function In(u,m){const y=new pn,A=new AbortController,L=setTimeout(()=>{A.abort(),vn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(j=>{clearTimeout(L),j.ok?vn(y,"TestPingServer: ok",!0,m):vn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),vn(y,"TestPingServer: error",!1,m)})}function vn(u,m,y,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(y)}catch{}}function ka(){this.g=new Na}function Hn(u,m,y){const A=y||"";try{qs(u,function(L,j){let tt=L;_(L)&&(tt=Dn(L)),m.push(A+j+"="+encodeURIComponent(tt))})}catch(L){throw m.push(A+"type="+encodeURIComponent("_badmap")),L}}function qi(u){this.l=u.Ub||null,this.j=u.eb||!1}G(qi,Os),qi.prototype.g=function(){return new mi(this.l,this.j)},qi.prototype.i=function(u){return function(){return u}}({});function mi(u,m){re.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}G(mi,re),r=mi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Gn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?jn(this):Gn(this),this.readyState==3&&Qs(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,jn(this))},r.Qa=function(u){this.g&&(this.response=u,jn(this))},r.ga=function(){this.g&&jn(this)};function jn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Gn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Fs(u){let m="";return Pt(u,function(y,A){m+=A,m+=":",m+=y,m+=`\r
`}),m}function Ce(u,m,y){t:{for(A in y){var A=!1;break t}A=!0}A||(y=Fs(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Ft(u,m,y))}function qt(u){re.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}G(qt,re);var Cr=/^https?$/i,qa=["POST","PUT"];r=qt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pn.g(),this.v=this.o?Ms(this.o):Ms(Pn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){bo(this,j);return}if(u=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)y.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())y.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(j=>j.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(qa,m,void 0))||A||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,tt]of y)this.g.setRequestHeader(j,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ha(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){bo(this,j)}};function bo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Dr(u),Qn(u)}function Dr(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,jt(this,"complete"),jt(this,"abort"),Qn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Vr(this):this.bb())},r.bb=function(){Vr(this)};function Vr(u){if(u.h&&typeof d<"u"&&(!u.v[1]||En(u)!=4||u.Z()!=2)){if(u.u&&En(u)==4)He(u.Ea,0,u);else if(jt(u,"readystatechange"),En(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var A;if(A=tt===0){var L=String(u.D).match(Ua)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),A=!Cr.test(L?L.toLowerCase():"")}y=A}if(y)jt(u,"complete"),jt(u,"success");else{u.m=6;try{var j=2<En(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",Dr(u)}}finally{Qn(u)}}}}function Qn(u,m){if(u.g){Ha(u);const y=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||jt(u,"ready");try{y.onreadystatechange=A}catch{}}}function Ha(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function En(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),vr(m)}};function Ro(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Uc(u){const m={};u=(u.g&&2<=En(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(rt(u[A]))continue;var y=M(u[A]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const j=m[L]||[];m[L]=j,j.push(y)}O(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ja(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Ir(u){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ja("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ja("baseRetryDelayMs",5e3,u),this.cb=ja("retryDelaySeedMs",1e4,u),this.Wa=ja("forwardChannelMaxRetries",2,u),this.wa=ja("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ui(u&&u.concurrentRequestLimit),this.Da=new ka,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ir.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,A){Wt(0),this.W=u,this.H=m||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.I=Oo(this,null,this.W),Or(this)};function Ys(u){if(wo(u),u.G==3){var m=u.U++,y=sn(u.I);if(Ft(y,"SID",u.K),Ft(y,"RID",m),Ft(y,"TYPE","terminate"),Ga(u,y),m=new Ke(u,u.j,m),m.L=2,m.v=za(sn(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=Mo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ma(m)}No(u)}function Nr(u){u.g&&(Qa(u),u.g.cancel(),u.g=null)}function wo(u){Nr(u),u.u&&(g.clearTimeout(u.u),u.u=null),Mr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Or(u){if(!Ar(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||V(),ht||(et(),ht=!0),Bt.add(m,u),u.B=0}}function Lc(u,m){return Sr(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(w(u.Ga,u,m),Zs(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Ke(this,this.j,u);let j=this.o;if(this.S&&(j?(j=b(j),N(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Co(this,L,m),y=sn(this.I),Ft(y,"RID",u),Ft(y,"CVER",22),this.D&&Ft(y,"X-HTTP-Session-Id",this.D),Ga(this,y),j&&(this.O?m="headers="+encodeURIComponent(String(Fs(j)))+"&"+m:this.m&&Ce(y,this.m,j)),br(this.h,L),this.Ua&&Ft(y,"TYPE","init"),this.P?(Ft(y,"$req",m),Ft(y,"SID","null"),L.T=!0,Vn(L,y,null)):Vn(L,y,m),this.G=2}}else this.G==3&&(u?Ks(this,u):this.i.length==0||Ar(this.h)||Ks(this))};function Ks(u,m){var y;m?y=m.l:y=u.U++;const A=sn(u.I);Ft(A,"SID",u.K),Ft(A,"RID",y),Ft(A,"AID",u.T),Ga(u,A),u.m&&u.o&&Ce(A,u.m,u.o),y=new Ke(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Co(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),br(u.h,y),Vn(y,A,m)}function Ga(u,m){u.H&&Pt(u.H,function(y,A){Ft(m,A,y)}),u.l&&qs({},function(y,A){Ft(m,A,y)})}function Co(u,m,y){y=Math.min(u.i.length,y);var A=u.l?w(u.l.Na,u.l,u):null;t:{var L=u.i;let j=-1;for(;;){const tt=["count="+y];j==-1?0<y?(j=L[0].g,tt.push("ofs="+j)):j=0:tt.push("ofs="+j);let Ot=!0;for(let Ee=0;Ee<y;Ee++){let Mt=L[Ee].g;const De=L[Ee].map;if(Mt-=j,0>Mt)j=Math.max(0,L[Ee].g-100),Ot=!1;else try{Hn(De,tt,"req"+Mt+"_")}catch{A&&A(De)}}if(Ot){A=tt.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,A}function Do(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||V(),ht||(et(),ht=!0),Bt.add(m,u),u.v=0}}function Xs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(w(u.Fa,u),Zs(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Vo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(w(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Nr(this),Vo(this))};function Qa(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Vo(u){u.g=new Ke(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=sn(u.qa);Ft(m,"RID","rpc"),Ft(m,"SID",u.K),Ft(m,"AID",u.T),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ft(m,"TO",u.ja),Ft(m,"TYPE","xmlhttp"),Ga(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=za(sn(m)),y.m=null,y.P=!0,oi(y,u)}r.Za=function(){this.C!=null&&(this.C=null,Nr(this),Xs(this),Wt(19))};function Mr(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Io(u,m){var y=null;if(u.g==m){Mr(u),Qa(u),u.g=null;var A=2}else if(Bs(u.h,m))y=m.D,Xe(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;A=Ui(),jt(A,new ve(A,y)),Or(u)}else Do(u);else if(L=m.s,L==3||L==0&&0<m.X||!(A==1&&Lc(u,m)||A==2&&Xs(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),L){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function Zs(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var y=w(u.fb,u),A=u.Xa;const L=!A;A=new de(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||La(A,"https"),za(A),L?Ba(A.toString(),y):In(A.toString(),y)}else Wt(2);u.G=0,u.l&&u.l.sa(m),No(u),wo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function No(u){if(u.G=0,u.ka=[],u.l){const m=ks(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ka,m),H(u.ka,u.i),u.h.i.length=0,Z(u.i),u.i.length=0),u.l.ra()}}function Oo(u,m,y){var A=y instanceof de?sn(y):new de(y);if(A.g!="")m&&(A.g=m+"."+A.g),ki(A,A.s);else{var L=g.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var j=new de(null);A&&La(j,A),m&&(j.g=m),L&&ki(j,L),y&&(j.l=y),A=j}return y=u.D,m=u.ya,y&&m&&Ft(A,y,m),Ft(A,"VER",u.la),Ga(u,A),A}function Mo(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new qi({eb:y})):new qt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function xo(){}r=xo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function xr(){}xr.prototype.g=function(u,m){return new Ze(u,m)};function Ze(u,m){re.call(this),this.g=new Ir(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!rt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!rt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Fn(this)}G(Ze,re),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Ys(this.g)},Ze.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Dn(u),u=y);m.i.push(new To(m.Ya++,u)),m.G==3&&Or(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Ys(this.g),delete this.g,Ze.aa.N.call(this)};function Uo(u){si.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}G(Uo,si);function Lo(){Us.call(this),this.status=1}G(Lo,Us);function Fn(u){this.g=u}G(Fn,xo),Fn.prototype.ua=function(){jt(this.g,"a")},Fn.prototype.ta=function(u){jt(this.g,new Uo(u))},Fn.prototype.sa=function(u){jt(this.g,new Lo)},Fn.prototype.ra=function(){jt(this.g,"b")},xr.prototype.createWebChannel=xr.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,hv=function(){return new xr},cv=function(){return Ui()},uv=zn,Xf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pi.NO_ERROR=0,Pi.TIMEOUT=8,Pi.HTTP_ERROR=6,Hu=Pi,li.COMPLETE="complete",ov=li,xs.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",re.prototype.listen=re.prototype.K,Pl=xs,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,lv=qt}).apply(typeof zu<"u"?zu:typeof self<"u"?self:typeof window<"u"?window:{});const By="@firebase/firestore",ky="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rs="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new tv("@firebase/firestore");function cs(){return cr.logLevel}function at(r,...e){if(cr.logLevel<=Lt.DEBUG){const i=e.map(Td);cr.debug(`Firestore (${Rs}): ${r}`,...i)}}function Oi(r,...e){if(cr.logLevel<=Lt.ERROR){const i=e.map(Td);cr.error(`Firestore (${Rs}): ${r}`,...i)}}function ps(r,...e){if(cr.logLevel<=Lt.WARN){const i=e.map(Td);cr.warn(`Firestore (${Rs}): ${r}`,...i)}}function Td(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,fv(r,s,i)}function fv(r,e,i){let s=`FIRESTORE (${Rs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Oi(s),new Error(s)}function Ht(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||fv(e,o,s)}function At(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends bs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class nS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class iS{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let h=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ma,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=h;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ma)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new dv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string",2055,{h:e}),new Fe(e)}}class aS{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rS{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new aS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0,3512);const s=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new qy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new qy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=lS(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function Rt(r,e){return r<e?-1:r>e?1:0}function Zf(r,e){let i=0;for(;i<r.length&&i<e.length;){const s=r.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return Rt(s,o);{const h=mv(),d=oS(h.encode(Hy(r,i)),h.encode(Hy(e,i)));return d!==0?d:Rt(s,o)}}i+=s>65535?2:1}return Rt(r.length,e.length)}function Hy(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function oS(r,e){for(let i=0;i<r.length&&i<e.length;++i)if(r[i]!==e[i])return Rt(r[i],e[i]);return Rt(r.length,e.length)}function ys(r,e,i){return r.length===e.length&&r.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=-62135596800,Gy=1e6;class _e{static now(){return _e.fromMillis(Date.now())}static fromDate(e){return _e.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Gy);return new _e(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<jy)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gy}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-jy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new _e(0,0))}static max(){return new Tt(new _e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="__name__";class Wn{constructor(e,i,s){i===void 0?i=0:i>e.length&&yt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&yt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Wn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Wn?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=Wn.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Rt(e.length,i.length)}static compareSegments(e,i){const s=Wn.isNumericId(e),o=Wn.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Wn.extractNumericId(e).compare(Wn.extractNumericId(i)):Zf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return da.fromString(e.substring(4,e.length-2))}}class ee extends Wn{construct(e,i,s){return new ee(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ct(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new ee(i)}static emptyPath(){return new ee([])}}const uS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ke extends Wn{construct(e,i,s){return new ke(e,i,s)}static isValidIdentifier(e){return uS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ke.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qy}static keyField(){return new ke([Qy])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ct(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ct(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new ct(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ke(i)}static emptyPath(){return new ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(ee.fromString(e))}static fromName(e){return new mt(ee.fromString(e).popFirst(5))}static empty(){return new mt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new ee(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=-1;function cS(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new _e(i+1,0):new _e(i,s));return new pa(o,mt.empty(),e)}function hS(r){return new pa(r.readTime,r.key,Jl)}class pa{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new pa(Tt.min(),mt.empty(),Jl)}static max(){return new pa(Tt.max(),mt.empty(),Jl)}}function fS(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,e.documentKey),i!==0?i:Rt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ws(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==dS)throw r;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):X.reject(i)}static resolve(e){return new X((i,s)=>{i(e)})}static reject(e){return new X((i,s)=>{s(e)})}static waitFor(e){return new X((i,s)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},p=>s(p))}),d=!0,h===o&&i()})}static or(e){let i=X.resolve(!1);for(const s of e)i=i.next(o=>o?X.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new X((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let p=0;p<h;p++){const _=p;i(e[_]).next(T=>{d[_]=T,++g,g===h&&s(d)},T=>o(T))}})}static doWhile(e,i){return new X((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function gS(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Cs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>i.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}uc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad=-1;function cc(r){return r==null}function $u(r){return r===0&&1/r==-1/0}function pS(r){return typeof r=="number"&&Number.isInteger(r)&&!$u(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="";function yS(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Fy(e)),e=_S(r.get(i),e);return Fy(e)}function _S(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case pv:i+="";break;default:i+=h}}return i}function Fy(r){return r+pv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Aa(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function yv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,i){this.comparator=e,this.root=i||Be.EMPTY}insert(e,i){return new ie(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pu(this.root,e,this.comparator,!0)}}class Pu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??Be.RED,this.left=o??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new Be(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Be.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw yt(27949);return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new Be(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ky(this.data.getIterator())}getIteratorFrom(e){return new Ky(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Re(this.comparator);return i.data=e,i}}class Ky{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(ke.comparator)}static empty(){return new mn([])}unionWith(e){let i=new Re(ke.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ys(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new _v("Invalid base64 string: "+h):h}}(e);return new qe(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const vS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ya(r){if(Ht(!!r,39018),typeof r=="string"){let e=0;const i=vS.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:he(r.seconds),nanos:he(r.nanos)}}function he(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function _a(r){return typeof r=="string"?qe.fromBase64String(r):qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="server_timestamp",Ev="__type__",Tv="__previous_value__",Av="__local_write_time__";function Sd(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ev])===null||i===void 0?void 0:i.stringValue)===vv}function hc(r){const e=r.mapValue.fields[Tv];return Sd(e)?hc(e):e}function Wl(r){const e=ya(r.mapValue.fields[Av].timestampValue);return new _e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,i,s,o,h,d,g,p,_,T){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=T}}const Ju="(default)";class to{constructor(e,i){this.projectId=e,this.database=i||Ju}static empty(){return new to("","")}get isDefaultDatabase(){return this.database===Ju}isEqual(e){return e instanceof to&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="__type__",TS="__max__",Bu={mapValue:{}},bv="__vector__",Wu="value";function va(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sd(r)?4:SS(r)?9007199254740991:AS(r)?10:11:yt(28295,{value:r})}function ni(r,e){if(r===e)return!0;const i=va(r);if(i!==va(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Wl(r).isEqual(Wl(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=ya(o.timestampValue),g=ya(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,h){return _a(o.bytesValue).isEqual(_a(h.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,h){return he(o.geoPointValue.latitude)===he(h.geoPointValue.latitude)&&he(o.geoPointValue.longitude)===he(h.geoPointValue.longitude)}(r,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return he(o.integerValue)===he(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=he(o.doubleValue),g=he(h.doubleValue);return d===g?$u(d)===$u(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return ys(r.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Yy(d)!==Yy(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!ni(d[p],g[p])))return!1;return!0}(r,e);default:return yt(52216,{left:r})}}function eo(r,e){return(r.values||[]).find(i=>ni(i,e))!==void 0}function _s(r,e){if(r===e)return 0;const i=va(r),s=va(e);if(i!==s)return Rt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Rt(r.booleanValue,e.booleanValue);case 2:return function(h,d){const g=he(h.integerValue||h.doubleValue),p=he(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,e);case 3:return Xy(r.timestampValue,e.timestampValue);case 4:return Xy(Wl(r),Wl(e));case 5:return Zf(r.stringValue,e.stringValue);case 6:return function(h,d){const g=_a(h),p=_a(d);return g.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),p=d.split("/");for(let _=0;_<g.length&&_<p.length;_++){const T=Rt(g[_],p[_]);if(T!==0)return T}return Rt(g.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Rt(he(h.latitude),he(d.latitude));return g!==0?g:Rt(he(h.longitude),he(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Zy(r.arrayValue,e.arrayValue);case 10:return function(h,d){var g,p,_,T;const S=h.fields||{},w=d.fields||{},q=(g=S[Wu])===null||g===void 0?void 0:g.arrayValue,G=(p=w[Wu])===null||p===void 0?void 0:p.arrayValue,Z=Rt(((_=q==null?void 0:q.values)===null||_===void 0?void 0:_.length)||0,((T=G==null?void 0:G.values)===null||T===void 0?void 0:T.length)||0);return Z!==0?Z:Zy(q,G)}(r.mapValue,e.mapValue);case 11:return function(h,d){if(h===Bu.mapValue&&d===Bu.mapValue)return 0;if(h===Bu.mapValue)return 1;if(d===Bu.mapValue)return-1;const g=h.fields||{},p=Object.keys(g),_=d.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let S=0;S<p.length&&S<T.length;++S){const w=Zf(p[S],T[S]);if(w!==0)return w;const q=_s(g[p[S]],_[T[S]]);if(q!==0)return q}return Rt(p.length,T.length)}(r.mapValue,e.mapValue);default:throw yt(23264,{Pe:i})}}function Xy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Rt(r,e);const i=ya(r),s=ya(e),o=Rt(i.seconds,s.seconds);return o!==0?o:Rt(i.nanos,s.nanos)}function Zy(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=_s(i[o],s[o]);if(h)return h}return Rt(i.length,s.length)}function vs(r){return $f(r)}function $f(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=ya(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return _a(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return mt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=$f(h);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${$f(i.fields[d])}`;return o+"}"}(r.mapValue):yt(61005,{value:r})}function ju(r){switch(va(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hc(r);return e?16+ju(e):16;case 5:return 2*r.stringValue.length;case 6:return _a(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+ju(h),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Aa(s.fields,(h,d)=>{o+=h.length+ju(d)}),o}(r.mapValue);default:throw yt(13486,{value:r})}}function Jf(r){return!!r&&"integerValue"in r}function bd(r){return!!r&&"arrayValue"in r}function $y(r){return!!r&&"nullValue"in r}function Jy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Gu(r){return!!r&&"mapValue"in r}function AS(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Sv])===null||i===void 0?void 0:i.stringValue)===bv}function jl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Aa(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=jl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=jl(r.arrayValue.values[i]);return e}return Object.assign({},r)}function SS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===TS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Gu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(i)}setAll(e){let i=ke.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=jl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Gu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Gu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Aa(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new an(jl(this.value))}}function Rv(r){const e=[];return Aa(r.fields,(i,s)=>{const o=new ke([i]);if(Gu(s)){const h=Rv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ye(e,0,Tt.min(),Tt.min(),Tt.min(),an.empty(),0)}static newFoundDocument(e,i,s,o){return new Ye(e,1,i,Tt.min(),s,o,0)}static newNoDocument(e,i){return new Ye(e,2,i,Tt.min(),Tt.min(),an.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,Tt.min(),Tt.min(),an.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,i){this.position=e,this.inclusive=i}}function Wy(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?s=mt.comparator(mt.fromName(d.referenceValue),i.key):s=_s(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function t_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ni(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i="asc"){this.field=e,this.dir=i}}function bS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{}class be extends wv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new wS(e,i,s):i==="array-contains"?new VS(e,s):i==="in"?new IS(e,s):i==="not-in"?new NS(e,s):i==="array-contains-any"?new OS(e,s):new be(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new CS(e,s):new DS(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(_s(i,this.value)):i!==null&&va(this.value)===va(i)&&this.matchesComparison(_s(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends wv{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new ii(e,i)}matches(e){return Cv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Cv(r){return r.op==="and"}function Dv(r){return RS(r)&&Cv(r)}function RS(r){for(const e of r.filters)if(e instanceof ii)return!1;return!0}function Wf(r){if(r instanceof be)return r.field.canonicalString()+r.op.toString()+vs(r.value);if(Dv(r))return r.filters.map(e=>Wf(e)).join(",");{const e=r.filters.map(i=>Wf(i)).join(",");return`${r.op}(${e})`}}function Vv(r,e){return r instanceof be?function(s,o){return o instanceof be&&s.op===o.op&&s.field.isEqual(o.field)&&ni(s.value,o.value)}(r,e):r instanceof ii?function(s,o){return o instanceof ii&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&Vv(d,o.filters[g]),!0):!1}(r,e):void yt(19439)}function Iv(r){return r instanceof be?function(i){return`${i.field.canonicalString()} ${i.op} ${vs(i.value)}`}(r):r instanceof ii?function(i){return i.op.toString()+" {"+i.getFilters().map(Iv).join(" ,")+"}"}(r):"Filter"}class wS extends be{constructor(e,i,s){super(e,i,s),this.key=mt.fromName(s.referenceValue)}matches(e){const i=mt.comparator(e.key,this.key);return this.matchesComparison(i)}}class CS extends be{constructor(e,i){super(e,"in",i),this.keys=Nv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class DS extends be{constructor(e,i){super(e,"not-in",i),this.keys=Nv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Nv(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>mt.fromName(s.referenceValue))}class VS extends be{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return bd(i)&&eo(i.arrayValue,this.value)}}class IS extends be{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&eo(this.value.arrayValue,i)}}class NS extends be{constructor(e,i){super(e,"not-in",i)}matches(e){if(eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!eo(this.value.arrayValue,i)}}class OS extends be{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!bd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>eo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Ie=null}}function e_(r,e=null,i=[],s=[],o=null,h=null,d=null){return new MS(r,e,i,s,o,h,d)}function Rd(r){const e=At(r);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Wf(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),cc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>vs(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>vs(s)).join(",")),e.Ie=i}return e.Ie}function wd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!bS(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Vv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!t_(r.startAt,e.startAt)&&t_(r.endAt,e.endAt)}function td(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function xS(r,e,i,s,o,h,d,g){return new fc(r,e,i,s,o,h,d,g)}function dc(r){return new fc(r)}function n_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function US(r){return r.collectionGroup!==null}function Gl(r){const e=At(r);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Re(ke.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new ec(h,s))}),i.has(ke.keyField().canonicalString())||e.Ee.push(new ec(ke.keyField(),s))}return e.Ee}function ti(r){const e=At(r);return e.de||(e.de=LS(e,Gl(r))),e.de}function LS(r,e){if(r.limitType==="F")return e_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new ec(o.field,h)});const i=r.endAt?new tc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new tc(r.startAt.position,r.startAt.inclusive):null;return e_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function ed(r,e,i){return new fc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function mc(r,e){return wd(ti(r),ti(e))&&r.limitType===e.limitType}function Ov(r){return`${Rd(ti(r))}|lt:${r.limitType}`}function hs(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>Iv(o)).join(", ")}]`),cc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>vs(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>vs(o)).join(",")),`Target(${s})`}(ti(r))}; limitType=${r.limitType})`}function gc(r,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):mt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(r,e)&&function(s,o){for(const h of Gl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(d,g,p){const _=Wy(d,g,p);return d.inclusive?_<=0:_<0}(s.startAt,Gl(s),o)||s.endAt&&!function(d,g,p){const _=Wy(d,g,p);return d.inclusive?_>=0:_>0}(s.endAt,Gl(s),o))}(r,e)}function zS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Mv(r){return(e,i)=>{let s=!1;for(const o of Gl(r)){const h=PS(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function PS(r,e,i){const s=r.field.isKeyField()?mt.comparator(e.key,i.key):function(h,d,g){const p=d.data.field(h),_=g.data.field(h);return p!==null&&_!==null?_s(p,_):yt(42886)}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return yt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return yv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=new ie(mt.comparator);function Mi(){return BS}const xv=new ie(mt.comparator);function Bl(...r){let e=xv;for(const i of r)e=e.insert(i.key,i);return e}function Uv(r){let e=xv;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function or(){return Ql()}function Lv(){return Ql()}function Ql(){return new gr(r=>r.toString(),(r,e)=>r.isEqual(e))}const kS=new ie(mt.comparator),qS=new Re(mt.comparator);function Nt(...r){let e=qS;for(const i of r)e=e.add(i);return e}const HS=new Re(Rt);function jS(){return HS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$u(e)?"-0":e}}function zv(r){return{integerValue:""+r}}function GS(r,e){return pS(e)?zv(e):Cd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(){this._=void 0}}function QS(r,e,i){return r instanceof no?function(o,h){const d={fields:{[Ev]:{stringValue:vv},[Av]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Sd(h)&&(h=hc(h)),h&&(d.fields[Tv]=h),{mapValue:d}}(i,e):r instanceof Es?Bv(r,e):r instanceof io?kv(r,e):function(o,h){const d=Pv(o,h),g=i_(d)+i_(o.Re);return Jf(d)&&Jf(o.Re)?zv(g):Cd(o.serializer,g)}(r,e)}function FS(r,e,i){return r instanceof Es?Bv(r,e):r instanceof io?kv(r,e):i}function Pv(r,e){return r instanceof nc?function(s){return Jf(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class no extends pc{}class Es extends pc{constructor(e){super(),this.elements=e}}function Bv(r,e){const i=qv(e);for(const s of r.elements)i.some(o=>ni(o,s))||i.push(s);return{arrayValue:{values:i}}}class io extends pc{constructor(e){super(),this.elements=e}}function kv(r,e){let i=qv(e);for(const s of r.elements)i=i.filter(o=>!ni(o,s));return{arrayValue:{values:i}}}class nc extends pc{constructor(e,i){super(),this.serializer=e,this.Re=i}}function i_(r){return he(r.integerValue||r.doubleValue)}function qv(r){return bd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,i){this.field=e,this.transform=i}}function YS(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Es&&o instanceof Es||s instanceof io&&o instanceof io?ys(s.elements,o.elements,ni):s instanceof nc&&o instanceof nc?ni(s.Re,o.Re):s instanceof no&&o instanceof no}(r.transform,e.transform)}class KS{constructor(e,i){this.version=e,this.transformResults=i}}class xn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new xn}static exists(e){return new xn(void 0,e)}static updateTime(e){return new xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class yc{}function jv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Qv(r.key,xn.none()):new so(r.key,r.data,xn.none());{const i=r.data,s=an.empty();let o=new Re(ke.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Sa(r.key,s,new mn(o.toArray()),xn.none())}}function XS(r,e,i){r instanceof so?function(o,h,d){const g=o.value.clone(),p=r_(o.fieldTransforms,h,d.transformResults);g.setAll(p),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,i):r instanceof Sa?function(o,h,d){if(!Qu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=r_(o.fieldTransforms,h,d.transformResults),p=h.data;p.setAll(Gv(o)),p.setAll(g),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Fl(r,e,i,s){return r instanceof so?function(h,d,g,p){if(!Qu(h.precondition,d))return g;const _=h.value.clone(),T=s_(h.fieldTransforms,p,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(r,e,i,s):r instanceof Sa?function(h,d,g,p){if(!Qu(h.precondition,d))return g;const _=s_(h.fieldTransforms,p,d),T=d.data;return T.setAll(Gv(h)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(S=>S.field))}(r,e,i,s):function(h,d,g){return Qu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,e,i)}function ZS(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),h=Pv(s.transform,o||null);h!=null&&(i===null&&(i=an.empty()),i.set(s.field,h))}return i||null}function a_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ys(s,o,(h,d)=>YS(h,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class so extends yc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Sa extends yc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Gv(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function r_(r,e,i){const s=new Map;Ht(r.length===i.length,32656,{Ve:i.length,me:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,FS(d,g,i[o]))}return s}function s_(r,e,i){const s=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);s.set(o.field,QS(h,d,e))}return s}class Qv extends yc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $S extends yc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&XS(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Fl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Fl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Lv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const p=jv(d,g);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Tt.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Nt())}isEqual(e){return this.batchId===e.batchId&&ys(this.mutations,e.mutations,(i,s)=>a_(i,s))&&ys(this.baseMutations,e.baseMutations,(i,s)=>a_(i,s))}}class Dd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Ht(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return kS}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Dd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Ut;function eb(r){switch(r){case J.OK:return yt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function Fv(r){if(r===void 0)return Oi("GRPC error has no .code"),J.UNKNOWN;switch(r){case pe.OK:return J.OK;case pe.CANCELLED:return J.CANCELLED;case pe.UNKNOWN:return J.UNKNOWN;case pe.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case pe.INTERNAL:return J.INTERNAL;case pe.UNAVAILABLE:return J.UNAVAILABLE;case pe.UNAUTHENTICATED:return J.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case pe.NOT_FOUND:return J.NOT_FOUND;case pe.ALREADY_EXISTS:return J.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return J.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case pe.ABORTED:return J.ABORTED;case pe.OUT_OF_RANGE:return J.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return J.UNIMPLEMENTED;case pe.DATA_LOSS:return J.DATA_LOSS;default:return yt(39323,{code:r})}}(Ut=pe||(pe={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=new da([4294967295,4294967295],0);function l_(r){const e=mv().encode(r),i=new sv;return i.update(e),new Uint8Array(i.digest())}function o_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new da([i,s],0),new da([o,h],0)]}class Vd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new kl(`Invalid padding: ${i}`);if(s<0)throw new kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new kl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=da.fromNumber(this.pe)}we(e,i,s){let o=e.add(i.multiply(da.fromNumber(s)));return o.compare(nb)===1&&(o=new da([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=l_(e),[s,o]=o_(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,o,h);if(!this.be(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Vd(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const i=l_(e),[s,o]=o_(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,lo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new _c(Tt.min(),o,new ie(Rt),Mi(),Nt())}}class lo{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new lo(s,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,i,s,o){this.De=e,this.removedTargetIds=i,this.key=s,this.ve=o}}class Yv{constructor(e,i){this.targetId=e,this.Ce=i}}class Kv{constructor(e,i,s=qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class u_{constructor(){this.Fe=0,this.Me=c_(),this.xe=qe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Nt(),i=Nt(),s=Nt();return this.Me.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:yt(38017,{changeType:h})}}),new lo(this.xe,this.Oe,e,i,s)}Qe(){this.Ne=!1,this.Me=c_()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ht(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class ib{constructor(e){this.ze=e,this.je=new Map,this.He=Mi(),this.Je=ku(),this.Ye=ku(),this.Ze=new ie(Rt)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const s=this.rt(i);switch(e.state){case 0:this.it(i)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(e.resumeToken));break;default:yt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((s,o)=>{this.it(o)&&i(o)})}ot(e){const i=e.targetId,s=e.Ce.count,o=this._t(i);if(o){const h=o.target;if(td(h))if(s===0){const d=new mt(h.path);this.tt(i,d,Ye.newNoDocument(d,Tt.min()))}else Ht(s===1,20013,{expectedCount:s});else{const d=this.ut(i);if(d!==s){const g=this.ct(e),p=g?this.lt(g,e,d):1;if(p!==0){this.st(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=_a(s).toUint8Array()}catch(p){if(p instanceof _v)return ps("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Vd(d,o,h)}catch(p){return ps(p instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.pe===0?null:g}lt(e,i,s){return i.Ce.count===s-this.Tt(e,i.targetId)?0:2}Tt(e,i){const s=this.ze.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.tt(i,h,null),o++)}),o}It(e){const i=new Map;this.je.forEach((h,d)=>{const g=this._t(d);if(g){if(h.current&&td(g.target)){const p=new mt(g.target.path);this.Et(p).has(d)||this.dt(d,p)||this.tt(d,p,Ye.newNoDocument(p,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let s=Nt();this.Ye.forEach((h,d)=>{let g=!0;d.forEachWhile(p=>{const _=this._t(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const o=new _c(e,i,this.Ze,this.He,s);return this.He=Mi(),this.Je=ku(),this.Ye=ku(),this.Ze=new ie(Rt),o}et(e,i){if(!this.it(e))return;const s=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,i)?o.$e(i,1):o.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),s&&(this.He=this.He.insert(i,s))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new u_,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new Re(Rt),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new Re(Rt),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||at("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new u_),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function ku(){return new ie(mt.comparator)}function c_(){return new ie(mt.comparator)}const ab={asc:"ASCENDING",desc:"DESCENDING"},rb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sb={and:"AND",or:"OR"};class lb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function nd(r,e){return r.useProto3Json||cc(e)?e:{value:e}}function ic(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function ob(r,e){return ic(r,e.toTimestamp())}function ei(r){return Ht(!!r,49232),Tt.fromTimestamp(function(i){const s=ya(i);return new _e(s.seconds,s.nanos)}(r))}function Id(r,e){return id(r,e).canonicalString()}function id(r,e){const i=function(o){return new ee(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function Zv(r){const e=ee.fromString(r);return Ht(e0(e),10190,{key:e.toString()}),e}function ad(r,e){return Id(r.databaseId,e.path)}function Pf(r,e){const i=Zv(e);if(i.get(1)!==r.databaseId.projectId)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(Jv(i))}function $v(r,e){return Id(r.databaseId,e)}function ub(r){const e=Zv(r);return e.length===4?ee.emptyPath():Jv(e)}function rd(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Jv(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function h_(r,e,i){return{name:ad(r,e),fields:i.value.mapValue.fields}}function cb(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(_,T){return _.useProto3Json?(Ht(T===void 0||typeof T=="string",58123),qe.fromBase64String(T||"")):(Ht(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),qe.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const T=_.code===void 0?J.UNKNOWN:Fv(_.code);return new ct(T,_.message||"")}(d);i=new Kv(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Pf(r,s.document.name),h=ei(s.document.updateTime),d=s.document.createTime?ei(s.document.createTime):Tt.min(),g=new an({mapValue:{fields:s.document.fields}}),p=Ye.newFoundDocument(o,h,d,g),_=s.targetIds||[],T=s.removedTargetIds||[];i=new Fu(_,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Pf(r,s.document),h=s.readTime?ei(s.readTime):Tt.min(),d=Ye.newNoDocument(o,h),g=s.removedTargetIds||[];i=new Fu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Pf(r,s.document),h=s.removedTargetIds||[];i=new Fu([],h,o,null)}else{if(!("filter"in e))return yt(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new tb(o,h),g=s.targetId;i=new Yv(g,d)}}return i}function hb(r,e){let i;if(e instanceof so)i={update:h_(r,e.key,e.value)};else if(e instanceof Qv)i={delete:ad(r,e.key)};else if(e instanceof Sa)i={update:h_(r,e.key,e.data),updateMask:Eb(e.fieldMask)};else{if(!(e instanceof $S))return yt(16599,{ft:e.type});i={verify:ad(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof no)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Es)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof io)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof nc)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw yt(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:ob(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:yt(27497)}(r,e.precondition)),i}function fb(r,e){return r&&r.length>0?(Ht(e!==void 0,14353),r.map(i=>function(o,h){let d=o.updateTime?ei(o.updateTime):ei(h);return d.isEqual(Tt.min())&&(d=ei(h)),new KS(d,o.transformResults||[])}(i,e))):[]}function db(r,e){return{documents:[$v(r,e.path)]}}function mb(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=$v(r,o);const h=function(_){if(_.length!==0)return t0(ii.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(T=>function(w){return{field:fs(w.field),direction:yb(w.dir)}}(T))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=nd(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{gt:i,parent:o}}function gb(r){let e=ub(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ht(s===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let h=[];i.where&&(h=function(S){const w=Wv(S);return w instanceof ii&&Dv(w)?w.getFilters():[w]}(i.where));let d=[];i.orderBy&&(d=function(S){return S.map(w=>function(G){return new ec(ds(G.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(G.direction))}(w))}(i.orderBy));let g=null;i.limit&&(g=function(S){let w;return w=typeof S=="object"?S.value:S,cc(w)?null:w}(i.limit));let p=null;i.startAt&&(p=function(S){const w=!!S.before,q=S.values||[];return new tc(q,w)}(i.startAt));let _=null;return i.endAt&&(_=function(S){const w=!S.before,q=S.values||[];return new tc(q,w)}(i.endAt)),xS(e,o,d,h,g,"F",p,_)}function pb(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Wv(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ds(i.unaryFilter.field);return be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ds(i.unaryFilter.field);return be.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ds(i.unaryFilter.field);return be.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ds(i.unaryFilter.field);return be.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}}(r):r.fieldFilter!==void 0?function(i){return be.create(ds(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return ii.create(i.compositeFilter.filters.map(s=>Wv(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}}(i.compositeFilter.op))}(r):yt(30097,{filter:r})}function yb(r){return ab[r]}function _b(r){return rb[r]}function vb(r){return sb[r]}function fs(r){return{fieldPath:r.canonicalString()}}function ds(r){return ke.fromServerFormat(r.fieldPath)}function t0(r){return r instanceof be?function(i){if(i.op==="=="){if(Jy(i.value))return{unaryFilter:{field:fs(i.field),op:"IS_NAN"}};if($y(i.value))return{unaryFilter:{field:fs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Jy(i.value))return{unaryFilter:{field:fs(i.field),op:"IS_NOT_NAN"}};if($y(i.value))return{unaryFilter:{field:fs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fs(i.field),op:_b(i.op),value:i.value}}}(r):r instanceof ii?function(i){const s=i.getFilters().map(o=>t0(o));return s.length===1?s[0]:{compositeFilter:{op:vb(i.op),filters:s}}}(r):yt(54877,{filter:r})}function Eb(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function e0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,i,s,o,h=Tt.min(),d=Tt.min(),g=qe.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.wt=e}}function Ab(r){const e=gb({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ed(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this.Cn=new bb}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(pa.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(pa.min())}updateCollectionGroup(e,i,s){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class bb{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Re(ee.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Re(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},n0=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(n0,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ts(0)}static lr(){return new Ts(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="LruGarbageCollector",Rb=1048576;function m_([r,e],[i,s]){const o=Rt(r,i);return o===0?Rt(e,s):o}class wb{constructor(e){this.Er=e,this.buffer=new Re(m_),this.dr=0}Ar(){return++this.dr}Rr(e){const i=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();m_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Cb{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){at(d_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Cs(i)?at(d_,"Ignoring IndexedDB error during garbage collection: ",i):await ws(i)}await this.mr(3e5)})}}class Db{constructor(e,i){this.gr=e,this.params=i}calculateTargetCount(e,i){return this.gr.pr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return X.resolve(uc.le);const s=new wb(i);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.gr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.gr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(f_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f_):this.wr(e,i))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,i){let s,o,h,d,g,p,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,g=Date.now(),this.removeTargets(e,s,i))).next(S=>(h=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(_=Date.now(),cs()<=Lt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(p-g)+`ms
	Removed ${S} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:S})))}}function Vb(r,e){return new Db(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(){this.changes=new gr(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Fl(s.mutation,o,mn.empty(),_e.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Nt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Nt()){const o=or();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=Bl();return h.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=or();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Nt()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let h=Mi();const d=Ql(),g=function(){return Ql()}();return i.forEach((p,_)=>{const T=s.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof Sa)?h=h.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Fl(T.mutation,_,T.mutation.getFieldMask(),_e.now())):d.set(_.key,mn.empty())}),this.recalculateAndSaveOverlays(e,h).next(p=>(p.forEach((_,T)=>d.set(_,T)),i.forEach((_,T)=>{var S;return g.set(_,new Nb(T,(S=d.get(_))!==null&&S!==void 0?S:null))}),g))}recalculateAndSaveOverlays(e,i){const s=Ql();let o=new ie((d,g)=>d-g),h=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const _=i.get(p);if(_===null)return;let T=s.get(p)||mn.empty();T=g.applyToLocalView(_,T),s.set(p,T);const S=(o.get(g.batchId)||Nt()).add(p);o=o.insert(g.batchId,S)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,T=p.value,S=Lv();T.forEach(w=>{if(!h.has(w)){const q=jv(i.get(w),s.get(w));q!==null&&S.set(w,q),h=h.add(w)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return X.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):US(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):X.resolve(or());let g=Jl,p=h;return d.next(_=>X.forEach(_,(T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),h.get(T)?X.resolve():this.remoteDocumentCache.getEntry(e,T).next(w=>{p=p.insert(T,w)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,p,_,Nt())).next(T=>({batchId:g,changes:Uv(T)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new mt(i)).next(s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Bl();return this.indexManager.getCollectionParents(e,h).next(g=>X.forEach(g,p=>{const _=function(S,w){return new fc(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,p.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(T=>{T.forEach((S,w)=>{d=d.insert(S,w)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((p,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,Ye.newInvalidDocument(T)))});let g=Bl();return d.forEach((p,_)=>{const T=h.get(p);T!==void 0&&Fl(T.mutation,_,mn.empty(),_e.now()),gc(i,_)&&(g=g.insert(p,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,i){return X.resolve(this.kr.get(i))}saveBundleMetadata(e,i){return this.kr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ei(o.createTime)}}(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.qr.get(i))}saveNamedQuery(e,i){return this.qr.set(i.name,function(o){return{name:o.name,query:Ab(o.bundledQuery),readTime:ei(o.readTime)}}(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(){this.overlays=new ie(mt.comparator),this.Qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const s=or();return X.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.St(e,i,h)}),X.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(s)),X.resolve()}getOverlaysForCollection(e,i,s){const o=or(),h=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&p.largestBatchId>s&&o.set(p.getKey(),p)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new ie((_,T)=>_-T);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let T=h.get(_.largestBatchId);T===null&&(T=or(),h=h.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=or(),p=h.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,T)=>g.set(_,T)),!(g.size()>=o)););return X.resolve(g)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new WS(i,s));let h=this.Qr.get(i);h===void 0&&(h=Nt(),this.Qr.set(i,h)),this.Qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(){this.$r=new Re(Oe.Ur),this.Kr=new Re(Oe.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,i){const s=new Oe(e,i);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.zr(new Oe(e,i))}jr(e,i){e.forEach(s=>this.removeReference(s,i))}Hr(e){const i=new mt(new ee([])),s=new Oe(i,e),o=new Oe(i,e+1),h=[];return this.Kr.forEachInRange([s,o],d=>{this.zr(d),h.push(d.key)}),h}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const i=new mt(new ee([])),s=new Oe(i,e),o=new Oe(i,e+1);let h=Nt();return this.Kr.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Oe(e,0),s=this.$r.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Oe{constructor(e,i){this.key=e,this.Zr=i}static Ur(e,i){return mt.comparator(e.key,i.key)||Rt(e.Zr,i.Zr)}static Wr(e,i){return Rt(e.Zr,i.Zr)||mt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new Re(Oe.Ur)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new JS(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Xr=this.Xr.add(new Oe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ti(s),h=o<0?0:o;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Ad:this.nr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([s,o],d=>{const g=this.ei(d.Zr);h.push(g)}),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Re(Rt);return i.forEach(o=>{const h=new Oe(o,0),d=new Oe(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,d],g=>{s=s.add(g.Zr)})}),X.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;mt.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new mt(h),0);let g=new Re(Rt);return this.Xr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(g=g.add(p.Zr)),!0)},d),X.resolve(this.ni(g))}ni(e){const i=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Ht(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return X.forEach(i.mutations,o=>{const h=new Oe(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,i){const s=new Oe(i,0),o=this.Xr.firstAfterOrEqual(s);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ri(e,i){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const i=this.ti(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.ii=e,this.docs=function(){return new ie(mt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ii(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let s=Mi();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Ye.newInvalidDocument(o))}),X.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Mi();const d=i.path,g=new mt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||fS(hS(T),s)<=0||(o.has(T.key)||gc(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(e,i,s,o){yt(9500)}si(e,i){return X.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new Pb(this)}getSize(e){return X.resolve(this.size)}}class Pb extends Ib{constructor(e){super(),this.Br=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),X.waitFor(i)}getFromCache(e,i){return this.Br.getEntry(e,i)}getAllFromCache(e,i){return this.Br.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.persistence=e,this.oi=new gr(i=>Rd(i),wd),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this._i=0,this.ai=new Nd,this.targetCount=0,this.ui=Ts.cr()}forEachTarget(e,i){return this.oi.forEach((s,o)=>i(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this._i&&(this._i=i),X.resolve()}Tr(e){this.oi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ui=new Ts(i),this.highestTargetId=i),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,i){return this.Tr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Tr(i),X.resolve()}removeTargetData(e,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.oi.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),X.waitFor(h).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const s=this.oi.get(i)||null;return X.resolve(s)}addMatchingKeys(e,i,s){return this.ai.Gr(i,s),X.resolve()}removeMatchingKeys(e,i,s){this.ai.jr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),X.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ai.Hr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const s=this.ai.Yr(i);return X.resolve(s)}containsKey(e,i){return X.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,i){this.ci={},this.overlays={},this.li=new uc(0),this.hi=!1,this.hi=!0,this.Pi=new Ub,this.referenceDelegate=e(this),this.Ti=new Bb(this),this.indexManager=new Sb,this.remoteDocumentCache=function(o){return new zb(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new Tb(i),this.Ei=new Mb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new xb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ci[e.toKey()];return s||(s=new Lb(i,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,i,s){at("MemoryPersistence","Starting transaction:",e);const o=new kb(this.li.next());return this.referenceDelegate.di(),s(o).next(h=>this.referenceDelegate.Ai(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ri(e,i){return X.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,i)))}}class kb extends mS{constructor(e){super(),this.currentSequenceNumber=e}}class Od{constructor(e){this.persistence=e,this.Vi=new Nd,this.mi=null}static fi(e){return new Od(e)}get gi(){if(this.mi)return this.mi;throw yt(60996)}addReference(e,i,s){return this.Vi.addReference(s,i),this.gi.delete(s.toString()),X.resolve()}removeReference(e,i,s){return this.Vi.removeReference(s,i),this.gi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.gi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Vi.Hr(i.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.gi.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}di(){this.mi=new Set}Ai(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.gi,s=>{const o=mt.fromPath(s);return this.pi(e,o).next(h=>{h||i.removeEntry(o,Tt.min())})}).next(()=>(this.mi=null,i.apply(e)))}updateLimboDocument(e,i){return this.pi(e,i).next(s=>{s?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(e){return 0}pi(e,i){return X.or([()=>X.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ri(e,i)])}}class ac{constructor(e,i){this.persistence=e,this.yi=new gr(s=>yS(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Vb(this,i)}static fi(e,i){return new ac(e,i)}di(){}Ai(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}pr(e){const i=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}br(e){let i=0;return this.yr(e,s=>{i++}).next(()=>i)}yr(e,i){return X.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(h=>h?X.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.si(e,d=>this.Dr(e,d,i).next(g=>{g||(s++,h.removeEntry(d,Tt.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.yi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.yi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,i,s){return this.yi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.yi.set(i,e.currentSequenceNumber),X.resolve()}Ii(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ju(e.data.value)),i}Dr(e,i,s){return X.or([()=>this.persistence.Ri(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.yi.get(i);return X.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.ds=s,this.As=o}static Rs(e,i){let s=Nt(),o=Nt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Md(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return z1()?8:gS(U1())>0?6:4}()}initialize(e,i){this.ys=e,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ws(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.bs(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new qb;return this.Ss(e,i,d).next(g=>{if(h.result=g,this.fs)return this.Ds(e,i,d,g.size)})}).next(()=>h.result)}Ds(e,i,s,o){return s.documentReadCount<this.gs?(cs()<=Lt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",hs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),X.resolve()):(cs()<=Lt.DEBUG&&at("QueryEngine","Query:",hs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(cs()<=Lt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",hs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(i))):X.resolve())}ws(e,i){if(n_(i))return X.resolve(null);let s=ti(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=ed(i,null,"F"),s=ti(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Nt(...h);return this.ys.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(p=>{const _=this.vs(i,g);return this.Cs(i,_,d,p.readTime)?this.ws(e,ed(i,null,"F")):this.Fs(e,_,i,p)}))})))}bs(e,i,s,o){return n_(i)||o.isEqual(Tt.min())?X.resolve(null):this.ys.getDocuments(e,s).next(h=>{const d=this.vs(i,h);return this.Cs(i,d,s,o)?X.resolve(null):(cs()<=Lt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),hs(i)),this.Fs(e,d,i,cS(o,Jl)).next(g=>g))})}vs(e,i){let s=new Re(Mv(e));return i.forEach((o,h)=>{gc(e,h)&&(s=s.add(h))}),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,s){return cs()<=Lt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",hs(i)),this.ys.getDocumentsMatchingQuery(e,i,pa.min(),s)}Fs(e,i,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="LocalStore",jb=3e8;class Gb{constructor(e,i,s,o){this.persistence=e,this.Ms=i,this.serializer=o,this.xs=new ie(Rt),this.Os=new gr(h=>Rd(h),wd),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ob(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.xs))}}function Qb(r,e,i,s){return new Gb(r,e,i,s)}async function a0(r,e){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.Ls(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let p=Nt();for(const _ of o){d.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of h){g.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(s,p).next(_=>({ks:_,removedBatchIds:d,addedBatchIds:g}))})})}function Fb(r,e){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(g,p,_,T){const S=_.batch,w=S.keys();let q=X.resolve();return w.forEach(G=>{q=q.next(()=>T.getEntry(p,G)).next(Z=>{const H=_.docVersions.get(G);Ht(H!==null,48541),Z.version.compareTo(H)<0&&(S.applyToRemoteDocument(Z,_),Z.isValidDocument()&&(Z.setReadTime(_.commitVersion),T.addEntry(Z)))})}),q.next(()=>g.mutationQueue.removeMutationBatch(p,S))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Nt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function r0(r){const e=At(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ti.getLastRemoteSnapshotVersion(i))}function Yb(r,e){const i=At(r),s=e.snapshotVersion;let o=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Bs.newChangeBuffer({trackRemovals:!0});o=i.xs;const g=[];e.targetChanges.forEach((T,S)=>{const w=o.get(S);if(!w)return;g.push(i.Ti.removeMatchingKeys(h,T.removedDocuments,S).next(()=>i.Ti.addMatchingKeys(h,T.addedDocuments,S)));let q=w.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(S)!==null?q=q.withResumeToken(qe.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):T.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(T.resumeToken,s)),o=o.insert(S,q),function(Z,H,st){return Z.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=jb?!0:st.addedDocuments.size+st.modifiedDocuments.size+st.removedDocuments.size>0}(w,q,T)&&g.push(i.Ti.updateTargetData(h,q))});let p=Mi(),_=Nt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,T))}),g.push(Kb(h,d,e.documentUpdates).next(T=>{p=T.qs,_=T.Qs})),!s.isEqual(Tt.min())){const T=i.Ti.getLastRemoteSnapshotVersion(h).next(S=>i.Ti.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(T)}return X.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,p,_)).next(()=>p)}).then(h=>(i.xs=o,h))}function Kb(r,e,i){let s=Nt(),o=Nt();return i.forEach(h=>s=s.add(h)),e.getEntries(r,s).next(h=>{let d=Mi();return i.forEach((g,p)=>{const _=h.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(Tt.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):at(xd,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)}),{qs:d,Qs:o}})}function Xb(r,e){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ad),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Zb(r,e){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Ti.getTargetData(s,e).next(h=>h?(o=h,X.resolve(o)):i.Ti.allocateTargetId(s).next(d=>(o=new ca(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.xs=i.xs.insert(s.targetId,s),i.Os.set(e,s.targetId)),s})}async function sd(r,e,i){const s=At(r),o=s.xs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Cs(d))throw d;at(xd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function g_(r,e,i){const s=At(r);let o=Tt.min(),h=Nt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,_,T){const S=At(p),w=S.Os.get(T);return w!==void 0?X.resolve(S.xs.get(w)):S.Ti.getTargetData(_,T)}(s,d,ti(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(d,g.targetId).next(p=>{h=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(d,e,i?o:Tt.min(),i?h:Nt())).next(g=>($b(s,zS(e),g),{documents:g,$s:h})))}function $b(r,e,i){let s=r.Ns.get(e)||Tt.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),r.Ns.set(e,s)}class p_{constructor(){this.activeTargetIds=jS()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jb{constructor(){this.xo=new p_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,i,s){this.Oo[e]=i}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new p_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="ConnectivityMonitor";class __{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){at(y_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){at(y_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu=null;function ld(){return qu===null?qu=function(){return 268435456+Math.round(2147483648*Math.random())}():qu++,"0x"+qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="RestConnection",t2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class e2{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Ju?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,i,s,o,h){const d=ld(),g=this.jo(e,i.toUriEncodedString());at(Bf,`Sending RPC '${e}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,h);const{host:_}=new URL(g),T=vd(_);return this.Jo(e,g,p,s,T).then(S=>(at(Bf,`Received RPC '${e}' ${d}: `,S),S),S=>{throw ps(Bf,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",s),S})}Yo(e,i,s,o,h,d){return this.zo(e,i,s,o,h)}Ho(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}jo(e,i){const s=t2[e];return`${this.Ko}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class i2 extends e2{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,h){const d=ld();return new Promise((g,p)=>{const _=new lv;_.setWithCredentials(!0),_.listenOnce(ov.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Hu.NO_ERROR:const S=_.getResponseJson();at(Qe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case Hu.TIMEOUT:at(Qe,`RPC '${e}' ${d} timed out`),p(new ct(J.DEADLINE_EXCEEDED,"Request time out"));break;case Hu.HTTP_ERROR:const w=_.getStatus();if(at(Qe,`RPC '${e}' ${d} failed with status:`,w,"response text:",_.getResponseText()),w>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const G=q==null?void 0:q.error;if(G&&G.status&&G.message){const Z=function(st){const rt=st.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(rt)>=0?rt:J.UNKNOWN}(G.status);p(new ct(Z,G.message))}else p(new ct(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new ct(J.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{h_:e,streamId:d,P_:_.getLastErrorCode(),T_:_.getLastError()})}}finally{at(Qe,`RPC '${e}' ${d} completed.`)}});const T=JSON.stringify(o);at(Qe,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",T,s,15)})}I_(e,i,s){const o=ld(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=hv(),g=cv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const T=h.join("");at(Qe,`Creating RPC '${e}' stream ${o}: ${T}`,p);const S=d.createWebChannel(T,p);this.E_(S);let w=!1,q=!1;const G=new n2({Zo:H=>{q?at(Qe,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(w||(at(Qe,`Opening RPC '${e}' stream ${o} transport.`),S.open(),w=!0),at(Qe,`RPC '${e}' stream ${o} sending:`,H),S.send(H))},Xo:()=>S.close()}),Z=(H,st,rt)=>{H.listen(st,ot=>{try{rt(ot)}catch(Dt){setTimeout(()=>{throw Dt},0)}})};return Z(S,Pl.EventType.OPEN,()=>{q||(at(Qe,`RPC '${e}' stream ${o} transport opened.`),G.__())}),Z(S,Pl.EventType.CLOSE,()=>{q||(q=!0,at(Qe,`RPC '${e}' stream ${o} transport closed`),G.u_(),this.d_(S))}),Z(S,Pl.EventType.ERROR,H=>{q||(q=!0,ps(Qe,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),G.u_(new ct(J.UNAVAILABLE,"The operation could not be completed")))}),Z(S,Pl.EventType.MESSAGE,H=>{var st;if(!q){const rt=H.data[0];Ht(!!rt,16349);const ot=rt,Dt=(ot==null?void 0:ot.error)||((st=ot[0])===null||st===void 0?void 0:st.error);if(Dt){at(Qe,`RPC '${e}' stream ${o} received error:`,Dt);const vt=Dt.status;let Pt=function(D){const N=pe[D];if(N!==void 0)return Fv(N)}(vt),O=Dt.message;Pt===void 0&&(Pt=J.INTERNAL,O="Unknown error status: "+vt+" with message "+Dt.message),q=!0,G.u_(new ct(Pt,O)),S.close()}else at(Qe,`RPC '${e}' stream ${o} received:`,rt),G.c_(rt)}}),Z(g,uv.STAT_EVENT,H=>{H.stat===Xf.PROXY?at(Qe,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===Xf.NOPROXY&&at(Qe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{G.a_()},0),G}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(i=>i===e)}}function kf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(r){return new lb(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,i,s=1e3,o=1.5,h=6e4){this.xi=e,this.timerId=i,this.A_=s,this.R_=o,this.V_=h,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const i=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,i-s);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="PersistentStream";class l0{constructor(e,i,s,o,h,d,g,p){this.xi=e,this.S_=s,this.D_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new s0(e,i)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,i){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Oi(i.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(i)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),i=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===i&&this.z_(s,o)},s=>{e(()=>{const o=new ct(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(e,i){const s=this.G_(this.v_);this.stream=this.H_(e,i),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return at(v_,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return i=>{this.xi.enqueueAndForget(()=>this.v_===e?i():(at(v_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a2 extends l0{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}H_(e,i){return this.connection.I_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const i=cb(this.serializer,e),s=function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?ei(d.readTime):Tt.min()}(e);return this.listener.Y_(i,s)}Z_(e){const i={};i.database=rd(this.serializer),i.addTarget=function(h,d){let g;const p=d.target;if(g=td(p)?{documents:db(h,p)}:{query:mb(h,p).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Xv(h,d.resumeToken);const _=nd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=ic(h,d.snapshotVersion.toTimestamp());const _=nd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const s=pb(this.serializer,e);s&&(i.labels=s),this.Q_(i)}X_(e){const i={};i.database=rd(this.serializer),i.removeTarget=e,this.Q_(i)}}class r2 extends l0{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,i){return this.connection.I_("Write",e,i)}J_(e){return Ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const i=fb(e.writeResults,e.commitTime),s=ei(e.commitTime);return this.listener.ra(s,i)}ia(){const e={};e.database=rd(this.serializer),this.Q_(e)}ta(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>hb(this.serializer,s))};this.Q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{}class l2 extends s2{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,i,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.zo(e,id(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ct(J.UNKNOWN,h.toString())})}Yo(e,i,s,o,h){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(e,id(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(J.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class o2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Oi(i),this.ua=!1):at("OnlineStateTracker",i)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="RemoteStore";class u2{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=h,this.Ra.No(d=>{s.enqueueAndForget(async()=>{pr(this)&&(at(hr,"Restarting streams for network reachability change."),await async function(p){const _=At(p);_.da.add(4),await oo(_),_.Va.set("Unknown"),_.da.delete(4),await Ec(_)}(this))})}),this.Va=new o2(s,o)}}async function Ec(r){if(pr(r))for(const e of r.Aa)await e(!0)}async function oo(r){for(const e of r.Aa)await e(!1)}function o0(r,e){const i=At(r);i.Ea.has(e.targetId)||(i.Ea.set(e.targetId,e),Pd(i)?zd(i):Ds(i).N_()&&Ld(i,e))}function Ud(r,e){const i=At(r),s=Ds(i);i.Ea.delete(e),s.N_()&&u0(i,e),i.Ea.size===0&&(s.N_()?s.k_():pr(i)&&i.Va.set("Unknown"))}function Ld(r,e){if(r.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ds(r).Z_(e)}function u0(r,e){r.ma.Ke(e),Ds(r).X_(e)}function zd(r){r.ma=new ib({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Ea.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),Ds(r).start(),r.Va.ca()}function Pd(r){return pr(r)&&!Ds(r).O_()&&r.Ea.size>0}function pr(r){return At(r).da.size===0}function c0(r){r.ma=void 0}async function c2(r){r.Va.set("Online")}async function h2(r){r.Ea.forEach((e,i)=>{Ld(r,e)})}async function f2(r,e){c0(r),Pd(r)?(r.Va.Pa(e),zd(r)):r.Va.set("Unknown")}async function d2(r,e,i){if(r.Va.set("Online"),e instanceof Kv&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ea.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ea.delete(g),o.ma.removeTarget(g))}(r,e)}catch(s){at(hr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await rc(r,s)}else if(e instanceof Fu?r.ma.Xe(e):e instanceof Yv?r.ma.ot(e):r.ma.nt(e),!i.isEqual(Tt.min()))try{const s=await r0(r.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.ma.It(d);return g.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=h.Ea.get(_);T&&h.Ea.set(_,T.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,_)=>{const T=h.Ea.get(p);if(!T)return;h.Ea.set(p,T.withResumeToken(qe.EMPTY_BYTE_STRING,T.snapshotVersion)),u0(h,p);const S=new ca(T.target,p,_,T.sequenceNumber);Ld(h,S)}),h.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(s){at(hr,"Failed to raise snapshot:",s),await rc(r,s)}}async function rc(r,e,i){if(!Cs(e))throw e;r.da.add(1),await oo(r),r.Va.set("Offline"),i||(i=()=>r0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{at(hr,"Retrying IndexedDB access"),await i(),r.da.delete(1),await Ec(r)})}function h0(r,e){return e().catch(i=>rc(r,i,e))}async function Tc(r){const e=At(r),i=Ea(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Ad;for(;m2(e);)try{const o=await Xb(e.localStore,s);if(o===null){e.Ia.length===0&&i.k_();break}s=o.batchId,g2(e,o)}catch(o){await rc(e,o)}f0(e)&&d0(e)}function m2(r){return pr(r)&&r.Ia.length<10}function g2(r,e){r.Ia.push(e);const i=Ea(r);i.N_()&&i.ea&&i.ta(e.mutations)}function f0(r){return pr(r)&&!Ea(r).O_()&&r.Ia.length>0}function d0(r){Ea(r).start()}async function p2(r){Ea(r).ia()}async function y2(r){const e=Ea(r);for(const i of r.Ia)e.ta(i.mutations)}async function _2(r,e,i){const s=r.Ia.shift(),o=Dd.from(s,e,i);await h0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Tc(r)}async function v2(r,e){e&&Ea(r).ea&&await async function(s,o){if(function(d){return eb(d)&&d!==J.ABORTED}(o.code)){const h=s.Ia.shift();Ea(s).L_(),await h0(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await Tc(s)}}(r,e),f0(r)&&d0(r)}async function E_(r,e){const i=At(r);i.asyncQueue.verifyOperationInProgress(),at(hr,"RemoteStore received new credentials");const s=pr(i);i.da.add(3),await oo(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.da.delete(3),await Ec(i)}async function E2(r,e){const i=At(r);e?(i.da.delete(2),await Ec(i)):e||(i.da.add(2),await oo(i),i.Va.set("Unknown"))}function Ds(r){return r.fa||(r.fa=function(i,s,o){const h=At(i);return h.oa(),new a2(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{e_:c2.bind(null,r),n_:h2.bind(null,r),i_:f2.bind(null,r),Y_:d2.bind(null,r)}),r.Aa.push(async e=>{e?(r.fa.L_(),Pd(r)?zd(r):r.Va.set("Unknown")):(await r.fa.stop(),c0(r))})),r.fa}function Ea(r){return r.ga||(r.ga=function(i,s,o){const h=At(i);return h.oa(),new r2(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:p2.bind(null,r),i_:v2.bind(null,r),na:y2.bind(null,r),ra:_2.bind(null,r)}),r.Aa.push(async e=>{e?(r.ga.L_(),await Tc(r)):(await r.ga.stop(),r.Ia.length>0&&(at(hr,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new Bd(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kd(r,e){if(Oi("AsyncQueue",`${e}: ${r}`),Cs(r))return new ct(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{static emptySet(e){return new gs(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||mt.comparator(i.key,s.key):(i,s)=>mt.comparator(i.key,s.key),this.keyedMap=Bl(),this.sortedSet=new ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof gs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new gs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(){this.pa=new ie(mt.comparator)}track(e){const i=e.doc.key,s=this.pa.get(i);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(i,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(i):e.type===1&&s.type===2?this.pa=this.pa.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(i,{type:2,doc:e.doc}):yt(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(i,e)}wa(){const e=[];return this.pa.inorderTraversal((i,s)=>{e.push(s)}),e}}class As{constructor(e,i,s,o,h,d,g,p,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new As(e,i,gs.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class A2{constructor(){this.queries=A_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=At(i),h=o.queries;o.queries=A_(),h.forEach((d,g)=>{for(const p of g.Sa)p.onError(s)})})(this,new ct(J.ABORTED,"Firestore shutting down"))}}function A_(){return new gr(r=>Ov(r),mc)}async function m0(r,e){const i=At(r);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.Da()&&e.va()&&(s=2):(h=new T2,s=e.va()?0:1);try{switch(s){case 0:h.ba=await i.onListen(o,!0);break;case 1:h.ba=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=kd(d,`Initialization of query '${hs(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.Fa(i.onlineState),h.ba&&e.Ma(h.ba)&&qd(i)}async function g0(r,e){const i=At(r),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.va()?0:1:!h.Da()&&e.va()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function S2(r,e){const i=At(r);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Ma(o)&&(s=!0);d.ba=o}}s&&qd(i)}function b2(r,e,i){const s=At(r),o=s.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);s.queries.delete(e)}function qd(r){r.Ca.forEach(e=>{e.next()})}var od,S_;(S_=od||(od={})).xa="default",S_.Cache="cache";class p0{constructor(e,i,s){this.query=e,this.Oa=i,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new As(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Na?this.La(e)&&(this.Oa.next(e),i=!0):this.ka(e,this.onlineState)&&(this.qa(e),i=!0),this.Ba=e,i}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let i=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),i=!0),i}ka(e,i){if(!e.fromCache||!this.va())return!0;const s=i!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}La(e){if(e.docChanges.length>0)return!0;const i=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}qa(e){e=As.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==od.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this.key=e}}class _0{constructor(e){this.key=e}}class R2{constructor(e,i){this.query=e,this.Ha=i,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Nt(),this.mutatedKeys=Nt(),this.Za=Mv(e),this.Xa=new gs(this.Za)}get eu(){return this.Ha}tu(e,i){const s=i?i.nu:new T_,o=i?i.Xa:this.Xa;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,S)=>{const w=o.get(T),q=gc(this.query,S)?S:null,G=!!w&&this.mutatedKeys.has(w.key),Z=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let H=!1;w&&q?w.data.isEqual(q.data)?G!==Z&&(s.track({type:3,doc:q}),H=!0):this.ru(w,q)||(s.track({type:2,doc:q}),H=!0,(p&&this.Za(q,p)>0||_&&this.Za(q,_)<0)&&(g=!0)):!w&&q?(s.track({type:0,doc:q}),H=!0):w&&!q&&(s.track({type:1,doc:w}),H=!0,(p||_)&&(g=!0)),H&&(q?(d=d.add(q),h=Z?h.add(T):h.delete(T)):(d=d.delete(T),h=h.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),h=h.delete(T.key),s.track({type:1,doc:T})}return{Xa:d,nu:s,Cs:g,mutatedKeys:h}}ru(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const d=e.nu.wa();d.sort((T,S)=>function(q,G){const Z=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Vt:H})}};return Z(q)-Z(G)}(T.type,S.type)||this.Za(T.doc,S.doc)),this.iu(s),o=o!=null&&o;const g=i&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,_=p!==this.Ja;return this.Ja=p,d.length!==0||_?{snapshot:new As(this.query,e.Xa,h,d,e.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new T_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Nt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const i=[];return e.forEach(s=>{this.Ya.has(s)||i.push(new _0(s))}),this.Ya.forEach(s=>{e.has(s)||i.push(new y0(s))}),i}au(e){this.Ha=e.$s,this.Ya=Nt();const i=this.tu(e.documents);return this.applyChanges(i,!0)}uu(){return As.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Hd="SyncEngine";class w2{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class C2{constructor(e){this.key=e,this.cu=!1}}class D2{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new gr(g=>Ov(g),mc),this.Pu=new Map,this.Tu=new Set,this.Iu=new ie(mt.comparator),this.Eu=new Map,this.du=new Nd,this.Au={},this.Ru=new Map,this.Vu=Ts.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function V2(r,e,i=!0){const s=b0(r);let o;const h=s.hu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.uu()):o=await v0(s,e,i,!0),o}async function I2(r,e){const i=b0(r);await v0(i,e,!0,!1)}async function v0(r,e,i,s){const o=await Zb(r.localStore,ti(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await N2(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&o0(r.remoteStore,o),g}async function N2(r,e,i,s,o){r.fu=(S,w,q)=>async function(Z,H,st,rt){let ot=H.view.tu(st);ot.Cs&&(ot=await g_(Z.localStore,H.query,!1).then(({documents:O})=>H.view.tu(O,ot)));const Dt=rt&&rt.targetChanges.get(H.targetId),vt=rt&&rt.targetMismatches.get(H.targetId)!=null,Pt=H.view.applyChanges(ot,Z.isPrimaryClient,Dt,vt);return R_(Z,H.targetId,Pt.ou),Pt.snapshot}(r,S,w,q);const h=await g_(r.localStore,e,!0),d=new R2(e,h.$s),g=d.tu(h.documents),p=lo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),_=d.applyChanges(g,r.isPrimaryClient,p);R_(r,i,_.ou);const T=new w2(e,i,d);return r.hu.set(e,T),r.Pu.has(i)?r.Pu.get(i).push(e):r.Pu.set(i,[e]),_.snapshot}async function O2(r,e,i){const s=At(r),o=s.hu.get(e),h=s.Pu.get(o.targetId);if(h.length>1)return s.Pu.set(o.targetId,h.filter(d=>!mc(d,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await sd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Ud(s.remoteStore,o.targetId),ud(s,o.targetId)}).catch(ws)):(ud(s,o.targetId),await sd(s.localStore,o.targetId,!0))}async function M2(r,e){const i=At(r),s=i.hu.get(e),o=i.Pu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Ud(i.remoteStore,s.targetId))}async function x2(r,e,i){const s=q2(r);try{const o=await function(d,g){const p=At(d),_=_e.now(),T=g.reduce((q,G)=>q.add(G.key),Nt());let S,w;return p.persistence.runTransaction("Locally write mutations","readwrite",q=>{let G=Mi(),Z=Nt();return p.Bs.getEntries(q,T).next(H=>{G=H,G.forEach((st,rt)=>{rt.isValidDocument()||(Z=Z.add(st))})}).next(()=>p.localDocuments.getOverlayedDocuments(q,G)).next(H=>{S=H;const st=[];for(const rt of g){const ot=ZS(rt,S.get(rt.key).overlayedDocument);ot!=null&&st.push(new Sa(rt.key,ot,Rv(ot.value.mapValue),xn.exists(!0)))}return p.mutationQueue.addMutationBatch(q,_,st,g)}).next(H=>{w=H;const st=H.applyToLocalDocumentSet(S,Z);return p.documentOverlayCache.saveOverlays(q,H.batchId,st)})}).then(()=>({batchId:w.batchId,changes:Uv(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,p){let _=d.Au[d.currentUser.toKey()];_||(_=new ie(Rt)),_=_.insert(g,p),d.Au[d.currentUser.toKey()]=_}(s,o.batchId,i),await uo(s,o.changes),await Tc(s.remoteStore)}catch(o){const h=kd(o,"Failed to persist write");i.reject(h)}}async function E0(r,e){const i=At(r);try{const s=await Yb(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Eu.get(h);d&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.cu=!0:o.modifiedDocuments.size>0?Ht(d.cu,14607):o.removedDocuments.size>0&&(Ht(d.cu,42227),d.cu=!1))}),await uo(i,s,e)}catch(s){await ws(s)}}function b_(r,e,i){const s=At(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.hu.forEach((h,d)=>{const g=d.view.Fa(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const p=At(d);p.onlineState=g;let _=!1;p.queries.forEach((T,S)=>{for(const w of S.Sa)w.Fa(g)&&(_=!0)}),_&&qd(p)}(s.eventManager,e),o.length&&s.lu.Y_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function U2(r,e,i){const s=At(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Eu.get(e),h=o&&o.key;if(h){let d=new ie(mt.comparator);d=d.insert(h,Ye.newNoDocument(h,Tt.min()));const g=Nt().add(h),p=new _c(Tt.min(),new Map,new ie(Rt),d,g);await E0(s,p),s.Iu=s.Iu.remove(h),s.Eu.delete(e),jd(s)}else await sd(s.localStore,e,!1).then(()=>ud(s,e,i)).catch(ws)}async function L2(r,e){const i=At(r),s=e.batch.batchId;try{const o=await Fb(i.localStore,e);A0(i,s,null),T0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await uo(i,o)}catch(o){await ws(o)}}async function z2(r,e,i){const s=At(r);try{const o=await function(d,g){const p=At(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return p.mutationQueue.lookupMutationBatch(_,g).next(S=>(Ht(S!==null,37113),T=S.keys(),p.mutationQueue.removeMutationBatch(_,S))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>p.localDocuments.getDocuments(_,T))})}(s.localStore,e);A0(s,e,i),T0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await uo(s,o)}catch(o){await ws(o)}}function T0(r,e){(r.Ru.get(e)||[]).forEach(i=>{i.resolve()}),r.Ru.delete(e)}function A0(r,e,i){const s=At(r);let o=s.Au[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Au[s.currentUser.toKey()]=o}}function ud(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Pu.get(e))r.hu.delete(s),i&&r.lu.gu(s,i);r.Pu.delete(e),r.isPrimaryClient&&r.du.Hr(e).forEach(s=>{r.du.containsKey(s)||S0(r,s)})}function S0(r,e){r.Tu.delete(e.path.canonicalString());const i=r.Iu.get(e);i!==null&&(Ud(r.remoteStore,i),r.Iu=r.Iu.remove(e),r.Eu.delete(i),jd(r))}function R_(r,e,i){for(const s of i)s instanceof y0?(r.du.addReference(s.key,e),P2(r,s)):s instanceof _0?(at(Hd,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,e),r.du.containsKey(s.key)||S0(r,s.key)):yt(19791,{pu:s})}function P2(r,e){const i=e.key,s=i.path.canonicalString();r.Iu.get(i)||r.Tu.has(s)||(at(Hd,"New document in limbo: "+i),r.Tu.add(s),jd(r))}function jd(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const e=r.Tu.values().next().value;r.Tu.delete(e);const i=new mt(ee.fromString(e)),s=r.Vu.next();r.Eu.set(s,new C2(i)),r.Iu=r.Iu.insert(i,s),o0(r.remoteStore,new ca(ti(dc(i.path)),s,"TargetPurposeLimboResolution",uc.le))}}async function uo(r,e,i){const s=At(r),o=[],h=[],d=[];s.hu.isEmpty()||(s.hu.forEach((g,p)=>{d.push(s.fu(p,e,i).then(_=>{var T;if((_||i)&&s.isPrimaryClient){const S=_?!_.fromCache:(T=i==null?void 0:i.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(_){o.push(_);const S=Md.Rs(p.targetId,_);h.push(S)}}))}),await Promise.all(d),s.lu.Y_(o),await async function(p,_){const T=At(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>X.forEach(_,w=>X.forEach(w.ds,q=>T.persistence.referenceDelegate.addReference(S,w.targetId,q)).next(()=>X.forEach(w.As,q=>T.persistence.referenceDelegate.removeReference(S,w.targetId,q)))))}catch(S){if(!Cs(S))throw S;at(xd,"Failed to update sequence numbers: "+S)}for(const S of _){const w=S.targetId;if(!S.fromCache){const q=T.xs.get(w),G=q.snapshotVersion,Z=q.withLastLimboFreeSnapshotVersion(G);T.xs=T.xs.insert(w,Z)}}}(s.localStore,h))}async function B2(r,e){const i=At(r);if(!i.currentUser.isEqual(e)){at(Hd,"User change. New user:",e.toKey());const s=await a0(i.localStore,e);i.currentUser=e,function(h,d){h.Ru.forEach(g=>{g.forEach(p=>{p.reject(new ct(J.CANCELLED,d))})}),h.Ru.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await uo(i,s.ks)}}function k2(r,e){const i=At(r),s=i.Eu.get(e);if(s&&s.cu)return Nt().add(s.key);{let o=Nt();const h=i.Pu.get(e);if(!h)return o;for(const d of h){const g=i.hu.get(d);o=o.unionWith(g.view.eu)}return o}}function b0(r){const e=At(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=E0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U2.bind(null,e),e.lu.Y_=S2.bind(null,e.eventManager),e.lu.gu=b2.bind(null,e.eventManager),e}function q2(r){const e=At(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z2.bind(null,e),e}class sc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,i){return null}Cu(e,i){return null}Du(e){return Qb(this.persistence,new Hb,e.initialUser,this.serializer)}Su(e){return new i0(Od.fi,this.serializer)}bu(e){return new Jb}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sc.provider={build:()=>new sc};class H2 extends sc{constructor(e){super(),this.cacheSizeBytes=e}vu(e,i){Ht(this.persistence.referenceDelegate instanceof ac,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Cb(s,e.asyncQueue,i)}Su(e){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new i0(s=>ac.fi(s,i),this.serializer)}}class cd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>b_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=B2.bind(null,this.syncEngine),await E2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new A2}()}createDatastore(e){const i=vc(e.databaseInfo.databaseId),s=function(h){return new i2(h)}(e.databaseInfo);return function(h,d,g,p){return new l2(h,d,g,p)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,g){return new u2(s,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>b_(this.syncEngine,i,0),function(){return __.C()?new __:new Wb}())}createSyncEngine(e,i){return function(o,h,d,g,p,_,T){const S=new D2(o,h,d,g,p,_);return T&&(S.mu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=At(o);at(hr,"RemoteStore shutting down."),h.da.add(5),await oo(h),h.Ra.shutdown(),h.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}cd.provider={build:()=>new cd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="FirestoreClient";class j2{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Fe.UNAUTHENTICATED,this.clientId=gv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{at(Ta,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(at(Ta,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=kd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function qf(r,e){r.asyncQueue.verifyOperationInProgress(),at(Ta,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await a0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function w_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await G2(r);at(Ta,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>E_(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>E_(e.remoteStore,o)),r._onlineComponents=e}async function G2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(Ta,"Using user provided OfflineComponentProvider");try{await qf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;ps("Error using user provided cache. Falling back to memory cache: "+i),await qf(r,new sc)}}else at(Ta,"Using default OfflineComponentProvider"),await qf(r,new H2(void 0));return r._offlineComponents}async function w0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(Ta,"Using user provided OnlineComponentProvider"),await w_(r,r._uninitializedComponentsProvider._online)):(at(Ta,"Using default OnlineComponentProvider"),await w_(r,new cd))),r._onlineComponents}function Q2(r){return w0(r).then(e=>e.syncEngine)}async function hd(r){const e=await w0(r),i=e.eventManager;return i.onListen=V2.bind(null,e.syncEngine),i.onUnlisten=O2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=I2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=M2.bind(null,e.syncEngine),i}function F2(r,e,i={}){const s=new ma;return r.asyncQueue.enqueueAndForget(async()=>function(h,d,g,p,_){const T=new R0({next:w=>{T.xu(),d.enqueueAndForget(()=>g0(h,S));const q=w.docs.has(g);!q&&w.fromCache?_.reject(new ct(J.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&w.fromCache&&p&&p.source==="server"?_.reject(new ct(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(w)},error:w=>_.reject(w)}),S=new p0(dc(g.path),T,{includeMetadataChanges:!0,Qa:!0});return m0(h,S)}(await hd(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(r,e,i){if(!i)throw new ct(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Y2(r,e,i,s){if(e===!0&&s===!0)throw new ct(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function D_(r){if(!mt.isDocumentKey(r))throw new ct(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function V_(r){if(mt.isDocumentKey(r))throw new ct(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Gd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function Un(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ct(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Gd(r);throw new ct(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="firestore.googleapis.com",I_=!0;class N_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ct(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=V0,this.ssl=I_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:I_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=n0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Rb)throw new ct(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Y2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=C0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ac{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ct(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new eS;switch(s.type){case"firstParty":return new rS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=C_.get(i);s&&(at("ComponentProvider","Removing Datastore"),C_.delete(i),s.terminate())}(this),Promise.resolve()}}function K2(r,e,i,s={}){var o;r=Un(r,Ac);const h=vd(e),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${i}`;h&&(I1(`https://${p}`),x1("Firestore",!0)),d.host!==V0&&d.host!==p&&ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:p,ssl:h,emulatorOptions:s});if(!Xl(_,g)&&(r._setSettings(_),s.mockUserToken)){let T,S;if(typeof s.mockUserToken=="string")T=s.mockUserToken,S=Fe.MOCK_USER;else{T=N1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ct(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Fe(w)}r._authCredentials=new nS(new dv(T,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Sc(this.firestore,e,this._query)}}class Je{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Je(this.firestore,e,this._key)}}class ga extends Sc{constructor(e,i,s){super(e,i,dc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Je(this.firestore,null,new mt(e))}withConverter(e){return new ga(this.firestore,e,this._path)}}function I0(r,e,...i){if(r=Ii(r),D0("collection","path",e),r instanceof Ac){const s=ee.fromString(e,...i);return V_(s),new ga(r,null,s)}{if(!(r instanceof Je||r instanceof ga))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(e,...i));return V_(s),new ga(r.firestore,null,s)}}function N0(r,e,...i){if(r=Ii(r),arguments.length===1&&(e=gv.newId()),D0("doc","path",e),r instanceof Ac){const s=ee.fromString(e,...i);return D_(s),new Je(r,null,new mt(s))}{if(!(r instanceof Je||r instanceof ga))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(e,...i));return D_(s),new Je(r.firestore,r instanceof ga?r.converter:null,new mt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="AsyncQueue";class M_{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new s0(this,"async_queue_retry"),this.rc=()=>{const s=kf();s&&at(O_,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const i=kf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const i=kf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const i=new ma;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Cs(e))throw e;at(O_,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const i=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,Oi("INTERNAL UNHANDLED ERROR: ",x_(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=i,i}enqueueAfterDelay(e,i,s){this.oc(),this.nc.indexOf(e)>-1&&(i=0);const o=Bd.createAndSchedule(this,e,i,s,h=>this.uc(h));return this.Zu.push(o),o}oc(){this.Xu&&yt(47125,{cc:x_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const i of this.Zu)if(i.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Zu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const i=this.Zu.indexOf(e);this.Zu.splice(i,1)}}function x_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(r){return function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of s)if(h in o&&typeof o[h]=="function")return!0;return!1}(r,["next","error","complete"])}class fr extends Ac{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new M_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new M_(e),this._firestoreClient=void 0,await e}}}function X2(r,e){const i=typeof r=="object"?r:GA(),s=typeof r=="string"?r:Ju,o=BA(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=D1("firestore");h&&K2(o,...h)}return o}function Qd(r){if(r._terminated)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Z2(r),r._firestoreClient}function Z2(r){var e,i,s;const o=r._freezeSettings(),h=function(g,p,_,T){return new ES(g,p,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,C0(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new j2(r._authCredentials,r._appCheckCredentials,r._queue,h,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ss(qe.fromBase64String(e))}catch(i){throw new ct(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ss(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ct(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ct(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ct(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=/^__.*__$/;class J2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Sa(e,this.data,this.fieldMask,i,this.fieldTransforms):new so(e,this.data,i,this.fieldTransforms)}}class O0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Sa(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function M0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ic:r})}}class Rc{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Ec(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Rc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.dc({path:s,Rc:!1});return o.Vc(e),o}mc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return lc(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(M0(this.Ic)&&$2.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class W2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||vc(e)}bc(e,i,s,o=!1){return new Rc({Ic:e,methodName:i,wc:s,path:ke.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kd(r){const e=r._freezeSettings(),i=vc(r._databaseId);return new W2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function x0(r,e,i,s,o,h={}){const d=r.bc(h.merge||h.mergeFields?2:0,e,i,o);$d("Data must be an object, but it was:",d,s);const g=U0(s,d);let p,_;if(h.merge)p=new mn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const T=[];for(const S of h.mergeFields){const w=fd(e,S,i);if(!d.contains(w))throw new ct(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);z0(T,w)||T.push(w)}p=new mn(T),_=d.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,_=d.fieldTransforms;return new J2(new an(g),p,_)}class wc extends co{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wc}}function tR(r,e,i){return new Rc({Ic:3,wc:e.settings.wc,methodName:r._methodName,Rc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Xd extends co{_toFieldTransform(e){return new Hv(e.path,new no)}isEqual(e){return e instanceof Xd}}class Zd extends co{constructor(e,i){super(e),this.Sc=i}_toFieldTransform(e){const i=tR(this,e,!0),s=this.Sc.map(h=>ho(h,i)),o=new Es(s);return new Hv(e.path,o)}isEqual(e){return e instanceof Zd&&Xl(this.Sc,e.Sc)}}function eR(r,e,i,s){const o=r.bc(1,e,i);$d("Data must be an object, but it was:",o,s);const h=[],d=an.empty();Aa(s,(p,_)=>{const T=Jd(e,p,i);_=Ii(_);const S=o.mc(T);if(_ instanceof wc)h.push(T);else{const w=ho(_,S);w!=null&&(h.push(T),d.set(T,w))}});const g=new mn(h);return new O0(d,g,o.fieldTransforms)}function nR(r,e,i,s,o,h){const d=r.bc(1,e,i),g=[fd(e,s,i)],p=[o];if(h.length%2!=0)throw new ct(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<h.length;w+=2)g.push(fd(e,h[w])),p.push(h[w+1]);const _=[],T=an.empty();for(let w=g.length-1;w>=0;--w)if(!z0(_,g[w])){const q=g[w];let G=p[w];G=Ii(G);const Z=d.mc(q);if(G instanceof wc)_.push(q);else{const H=ho(G,Z);H!=null&&(_.push(q),T.set(q,H))}}const S=new mn(_);return new O0(T,S,d.fieldTransforms)}function ho(r,e){if(L0(r=Ii(r)))return $d("Unsupported field value:",e,r),U0(r,e);if(r instanceof co)return function(s,o){if(!M0(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const g of s){let p=ho(g,o.fc(d));p==null&&(p={nullValue:"NULL_VALUE"}),h.push(p),d++}return{arrayValue:{values:h}}}(r,e)}return function(s,o){if((s=Ii(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return GS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=_e.fromDate(s);return{timestampValue:ic(o.serializer,h)}}if(s instanceof _e){const h=new _e(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ic(o.serializer,h)}}if(s instanceof Fd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ss)return{bytesValue:Xv(o.serializer,s._byteString)};if(s instanceof Je){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Id(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Yd)return function(d,g){return{mapValue:{fields:{[Sv]:{stringValue:bv},[Wu]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.gc("VectorValues must only contain numeric values.");return Cd(g.serializer,_)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${Gd(s)}`)}(r,e)}function U0(r,e){const i={};return yv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(r,(s,o)=>{const h=ho(o,e.Ac(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function L0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof _e||r instanceof Fd||r instanceof Ss||r instanceof Je||r instanceof co||r instanceof Yd)}function $d(r,e,i){if(!L0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Gd(i);throw s==="an object"?e.gc(r+" a custom object"):e.gc(r+" "+s)}}function fd(r,e,i){if((e=Ii(e))instanceof bc)return e._internalPath;if(typeof e=="string")return Jd(r,e);throw lc("Field path arguments must be of type string or ",r,!1,void 0,i)}const iR=new RegExp("[~\\*/\\[\\]]");function Jd(r,e,i){if(e.search(iR)>=0)throw lc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new bc(...e.split("."))._internalPath}catch{throw lc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function lc(r,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(h||d)&&(p+=" (found",h&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new ct(J.INVALID_ARGUMENT,g+r+p)}function z0(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(B0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class aR extends P0{data(){return super.data()}}function B0(r,e){return typeof e=="string"?Jd(r,e):e instanceof bc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sR{convertValue(e,i="none"){switch(va(e)){case 0:return null;case 1:return e.booleanValue;case 2:return he(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(_a(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw yt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Aa(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,o;const h=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[Wu].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>he(d.doubleValue));return new Yd(h)}convertGeoPoint(e){return new Fd(he(e.latitude),he(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=hc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const i=ya(e);return new _e(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ee.fromString(e);Ht(e0(s),9688,{name:e});const o=new to(s.get(1),s.get(3)),h=new mt(s.popFirst(5));return o.isEqual(i)||Oi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(r,e,i){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class q0 extends P0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Yu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(B0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Yu extends q0{data(e={}){return super.data(e)}}class lR{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Yu(this._firestore,this._userDataWriter,s.key,s,new ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const p=new Yu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ql(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const p=new Yu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ql(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:oR(g.type),doc:p,oldIndex:_,newIndex:T}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function oR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(r){r=Un(r,Je);const e=Un(r.firestore,fr);return F2(Qd(e),r._key).then(i=>j0(e,r,i))}class H0 extends sR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ss(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,i)}}function cR(r,e,i){r=Un(r,Je);const s=Un(r.firestore,fr),o=k0(r.converter,e);return Wd(s,[x0(Kd(s),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,xn.none())])}function hR(r,e,i,...s){r=Un(r,Je);const o=Un(r.firestore,fr),h=Kd(o);let d;return d=typeof(e=Ii(e))=="string"||e instanceof bc?nR(h,"updateDoc",r._key,e,i,s):eR(h,"updateDoc",r._key,e),Wd(o,[d.toMutation(r._key,xn.exists(!0))])}function fR(r,e){const i=Un(r.firestore,fr),s=N0(r),o=k0(r.converter,e);return Wd(i,[x0(Kd(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,xn.exists(!1))]).then(()=>s)}function dR(r,...e){var i,s,o;r=Ii(r);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||U_(e[d])||(h=e[d],d++);const g={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(U_(e[d])){const S=e[d];e[d]=(i=S.next)===null||i===void 0?void 0:i.bind(S),e[d+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),e[d+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let p,_,T;if(r instanceof Je)_=Un(r.firestore,fr),T=dc(r._key.path),p={next:S=>{e[d]&&e[d](j0(_,r,S))},error:e[d+1],complete:e[d+2]};else{const S=Un(r,Sc);_=Un(S.firestore,fr),T=S._query;const w=new H0(_);p={next:q=>{e[d]&&e[d](new lR(_,w,S,q))},error:e[d+1],complete:e[d+2]},rR(r._query)}return function(w,q,G,Z){const H=new R0(Z),st=new p0(q,H,G);return w.asyncQueue.enqueueAndForget(async()=>m0(await hd(w),st)),()=>{H.xu(),w.asyncQueue.enqueueAndForget(async()=>g0(await hd(w),st))}}(Qd(_),T,g,p)}function Wd(r,e){return function(s,o){const h=new ma;return s.asyncQueue.enqueueAndForget(async()=>x2(await Q2(s),o,h)),h.promise}(Qd(r),e)}function j0(r,e,i){const s=i.docs.get(e._key),o=new H0(r);return new q0(r,o,e._key,s,new ql(i.hasPendingWrites,i.fromCache),e.converter)}function mR(){return new Xd("serverTimestamp")}function gR(...r){return new Zd("arrayUnion",r)}(function(e,i=!0){(function(o){Rs=o})(jA),Zu(new Zl("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new fr(new iS(s.getProvider("auth-internal")),new sS(d,s.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ct(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new to(_.options.projectId,T)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ms(By,ky,e),ms(By,ky,"esm2017")})();var pR="firebase",yR="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ms(pR,yR,"app");const _R={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},vR=iv(_R),tm=X2(vR),ER="batool";function TR(){const[r,e]=it.useState(""),[i,s]=it.useState(!1),[o,h]=it.useState(null),d=yd(),g=async p=>{p.preventDefault();const _=r.trim();if(!_)return;s(!0),h(null);const T=_.toLowerCase()===ER.toLowerCase(),S={password:_,attemptedAt:mR(),success:T};try{await fR(I0(tm,"passwordAttempts"),S)}catch(w){console.error("Error logging attempt:",w)}s(!1),T?d("/home"):h("Nope, that’s not it. Try again!")};return ft.createElement("form",{className:"login-form",onSubmit:g},ft.createElement("h2",{className:"login-title"},"Curiosity killed the cat"),ft.createElement("input",{type:"password",placeholder:"Enter Password",value:r,onChange:p=>e(p.target.value),disabled:i,className:"login-input"}),ft.createElement("button",{type:"submit",disabled:i,className:"login-button"},i?"Processing...":"Submit"),o&&ft.createElement("p",{className:"error-msg"},o))}function AR(){const[r]=it.useState([{id:1,src:"https://via.placeholder.com/300x200/4A90E2/ffffff?text=Memory+1",alt:"Memory 1"},{id:2,src:"https://via.placeholder.com/300x200/7ED321/ffffff?text=Memory+2",alt:"Memory 2"},{id:3,src:"https://via.placeholder.com/300x200/F5A623/ffffff?text=Memory+3",alt:"Memory 3"},{id:4,src:"https://via.placeholder.com/300x200/D0021B/ffffff?text=Memory+4",alt:"Memory 4"}]);return React.createElement("div",{className:"page-container"},React.createElement("section",{className:"gallery"},React.createElement("h2",null,"Gallery"),React.createElement("div",{className:"gallery-grid"},r.map(e=>React.createElement("div",{key:e.id,className:"gallery-item"},React.createElement("img",{src:e.src,alt:e.alt}))))))}function SR(){return`conversations/${new Date().toISOString().slice(0,10)}`}async function bR(r,e){const i=SR(),s=N0(tm,i),o=await uR(s),h={user:r,text:e,timestamp:_e.now()};o.exists()?await hR(s,{messages:gR(h)}):await cR(s,{messages:[h]})}function RR(r){const e=I0(tm,"conversations");return dR(e,s=>{const o=[];s.forEach(h=>{const d=h.data();Array.isArray(d.messages)&&d.messages.forEach(g=>o.push(g))}),o.sort((h,d)=>{var _,T;const g=((_=h.timestamp)==null?void 0:_.seconds)??0,p=((T=d.timestamp)==null?void 0:T.seconds)??0;return g-p}),r(o)},s=>{console.error("listenToAllConversations error:",s),r([])})}function wR(r){var d;let e;try{if(e=((d=r==null?void 0:r.toDate)==null?void 0:d.call(r))??new Date(r),isNaN(e.getTime()))throw new Error("Invalid Date")}catch{return"invalid timestamp"}const i=new Date,s=new Date(i);s.setDate(i.getDate()-1);const o=e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});return e.toDateString()===i.toDateString()?`Today at ${o}`:e.toDateString()===s.toDateString()?`Yesterday at ${o}`:`${e.toLocaleDateString(void 0,{month:"short",day:"numeric"})} at ${o}`}function CR(){const[r,e]=it.useState([]),[i,s]=it.useState(""),o=it.useRef(null),h=it.useRef(null),d=["Resolving DNS for api.example.com...","Connecting to 93.184.216.34:443...","Performing TLSv1.3 handshake...","Verifying server certificate...","Exchanging session keys...","Cipher suite: TLS_AES_128_GCM_SHA256","Secure channel established."],[g,p]=it.useState([]),[_,T]=it.useState(!1);it.useEffect(()=>{let G=0;const Z=setInterval(()=>{p(H=>[...H,d[G]]),G+=1,G>=d.length&&(clearInterval(Z),T(!0))},800);return()=>clearInterval(Z)},[]),it.useEffect(()=>{if(!_)return;const G=RR(Z=>{const H=Z.map(st=>{const rt=wR(st.timestamp);return`<span class="username">&lt;127.0.0.1@${st.user}&gt;</span> [${rt}] ${st.text}`});e(H)});return()=>typeof G=="function"&&G()},[_]),it.useEffect(()=>{var G;(G=h.current)==null||G.scrollIntoView({behavior:"smooth"})},[r]);const S=async G=>{var Z;if(G.key==="Enter"){G.preventDefault();const H=(Z=o.current)==null?void 0:Z.innerText.trim();if(!i||!H)return;o.current.innerText="";try{await bR(i,H)}catch(st){console.error("sendMessageToFirebase error:",st)}}},w=G=>{s(G.target.value),setTimeout(()=>{var Z;return(Z=o.current)==null?void 0:Z.focus()},0)},q=()=>{var G;return(G=o.current)==null?void 0:G.focus()};return ft.createElement("div",{className:"conversation-container"},ft.createElement("div",{className:"terminal"},ft.createElement("div",{className:"dropdown-container"},ft.createElement("label",{htmlFor:"user-select"},"User: "),ft.createElement("select",{id:"user-select",value:i,onChange:w},ft.createElement("option",{value:""},"-- Select --"),ft.createElement("option",{value:"sbfn"},"sbfn"),ft.createElement("option",{value:"qa"},"qa"))),ft.createElement("div",{className:"hacker-status"},ft.createElement("code",null,g.map((G,Z)=>ft.createElement("div",{key:Z},Z===0?"└─▶ ":"└─ ",G)))),_&&r.map((G,Z)=>ft.createElement("div",{key:Z,className:"terminal-line",dangerouslySetInnerHTML:{__html:G}})),ft.createElement("div",{className:"separator-line"}),ft.createElement("div",{className:"terminal-input",onClick:q},ft.createElement("span",{className:"prompt"},">"),ft.createElement("div",{ref:o,contentEditable:!0,suppressContentEditableWarning:!0,className:"terminal-editable",onKeyDown:S,spellCheck:!1,style:{opacity:i&&_?1:.4},"data-placeholder":i?_?"":"Connecting...":"Select a user first"})),ft.createElement("div",{ref:h})))}const DR="1.1.5";function VR(){const r=yd(),[e]=it.useState([{id:1,text:"Unite with each other to have unity of hearts and keep company with one another to share a feeling of compassion.",author:"Hazrat Muhammad Mustafa (s.a.w)(Nahj al Fasahah: CH21: Tradition No. 2379.)"},{id:2,text:"Coming soon",author:"Unknown"},{id:3,text:"Coming soon",author:"Unknown"}]),[i,s]=it.useState(!1);return it.useEffect(()=>{localStorage.getItem("hasSeenGreeting")||(s(!0),localStorage.setItem("hasSeenGreeting","true"))},[]),ft.createElement("div",{className:"page-container-wrapper"},i&&ft.createElement("div",{className:"greeting-modal"},ft.createElement("div",{className:"greeting-content"},ft.createElement("h2",null,"Welcome, Batool!!"),ft.createElement("p",null,"Want to see something cool?…"),ft.createElement("button",{className:"greeting-close-btn",onClick:()=>s(!1)},"Let’s go!"))),ft.createElement("div",{className:`page-container ${i?"blur":""}`},ft.createElement("section",{className:"welcome"},ft.createElement("h1",null,"Welcome Syeda Batool Fatima Naqvi"),ft.createElement("p",null,"I am glad you're here. I have waited so long to hear from you, there's so much we need to talk about. Stay tuned love")),ft.createElement("main",{className:"content-grid"},ft.createElement("section",{className:"quotes"},ft.createElement("h2",null,"Dedicated to You"),ft.createElement("div",{className:"quotes-list"},e.map(o=>ft.createElement("div",{key:o.id,className:"quote-card"},ft.createElement("p",{className:"quote-text"},'"',o.text,'"'),ft.createElement("p",{className:"quote-author"},"— ",o.author))))),ft.createElement("div",{className:"gallery",onClick:()=>r("/gallery"),style:{cursor:"pointer"}},ft.createElement("h2",null,"Gallery"),ft.createElement("div",{className:"gallery-grid"},ft.createElement("div",{className:"gallery-item"},ft.createElement("img",{src:"https://via.placeholder.com/140x120/4A90E2/ffffff?text=+",alt:"Coming Soon"}))),ft.createElement("button",{className:"btn-full"},"View Gallery")),ft.createElement("div",{className:"chat-tile",onClick:()=>r("/conversation"),style:{cursor:"pointer"}},ft.createElement("div",{className:"chat-icon"},ft.createElement("svg",{viewBox:"0 0 24 24"},ft.createElement("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4l4 4 4-4h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}))),ft.createElement("h2",null,"Stressed? Talk to me"),ft.createElement("button",{className:"btn-chat"},"Go")))))}function IR(){return React.createElement("div",{className:"app-container"},React.createElement("div",{className:"main-content"},React.createElement(m1,null,React.createElement(us,{path:"/",element:React.createElement(TR,null)}),React.createElement(us,{path:"/home",element:React.createElement(VR,null)}),React.createElement(us,{path:"gallery",element:React.createElement(AR,null)}),React.createElement(us,{path:"conversation",element:React.createElement(CR,null)}),React.createElement(us,{path:"*",element:React.createElement(f1,{to:"/",replace:!0})}))),React.createElement("footer",{style:{textAlign:"center",padding:"1rem 0",background:"var(--bg-color)",color:"#888",fontSize:"0.85rem"}},React.createElement("div",{style:{color:"#888"}},"Version: ",DR),React.createElement("div",{style:{color:"#888"}},"Developed specially for you")))}ST.createRoot(document.getElementById("root")).render(ft.createElement(y1,null,ft.createElement(IR,null)));
